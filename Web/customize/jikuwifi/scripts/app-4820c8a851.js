!function(){"use strict";angular.module("shop",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ui.router","toastr","clientapi"])}(),function(){"use strict";function t(t,e,i,a,o,s){e.orderDetailId&&(t.orderDetailId=e.orderDetailId),e.orderId&&(t.orderId=e.orderId),t.logisticsInfo={order_detail_id:t.orderDetailId,express_company_name:"",express_number:""},t.expressCompany=[{name:"请选择物流公司"},{name:"EMS"},{name:"顺丰"},{name:"申通"},{name:"圆通"},{name:"中通"},{name:"汇通"},{name:"韵达"},{name:"天天"},{name:"德邦"},{name:"全峰"},{name:"能达"},{name:"优速"}],t.currentCompany={name:""},t.currentCompany.name=t.expressCompany[0],t.submitExpress=function(){return console.log(t.currentCompany.name.name),"请选择物流公司"==t.currentCompany.name.name?(s.show("请选择物流公司"),void setTimeout(function(){s.hide()},600)):(t.logisticsInfo.express_company_name=t.currentCompany.name.name,""==t.logisticsInfo.express_number?(s.show("请填写物流单号"),void setTimeout(function(){s.hide()},600)):(console.log(["要提交的物流信息",t.logisticsInfo]),void o.submitExpressInfo({order_detail_id:t.orderDetailId,express_company_name:t.logisticsInfo.express_company_name,express_number:t.logisticsInfo.express_number},function(e){console.log(["提交物流信息成功",e]),0==e.errcode?a.go("refundState",{orderId:t.orderId,orderDetailId:t.orderDetailId}):(s.show(e.errmsg),setTimeout(function(){s.hide()},600))},function(t){console.log(["提交物流信息失败",t])})))}}t.$inject=["$scope","$stateParams","$rootScope","$state","mAPI","wLoading"],angular.module("shop").controller("returnLogisticsCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n){console.log("refundStateCtrl........."),e.orderDetailId&&(t.orderDetailId=e.orderDetailId),e.orderId&&(t.orderId=e.orderId),o.refundDetail({order_detail_id:t.orderDetailId},function(e){console.log(["获取退款详情成功",e]),t.refundDetailData=e},function(t){console.log(["获取退款详情失败",t])}),t.closeRefund=function(){var e=s.confirm({title:"友情提示",template:"确定关闭退款申请？",cssClass:"borderradius5px",cancelText:"取消",cancelType:"button button-clear button-positive",okText:"确认",okType:"button button-clear button-positive"});e.then(function(e){e?o.refundClose({order_detail_id:t.orderDetailId},function(t){console.log(["关闭退款申请成功",t]),0==t.errcode&&(n.show("关闭退货申请成功"),setTimeout(function(){n.hide(),location.reload()},600))},function(t){console.log(["关闭退款申请失败",t])}):console.log("取消删除地址")})}}t.$inject=["$scope","$stateParams","$rootScope","$state","mAPI","wPopup","wLoading"],angular.module("shop").controller("refundStateCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o){e.orderDetailId&&(t.orderDetailId=e.orderDetailId),o.refundLog({order_detail_id:t.orderDetailId},function(e){console.log(["获取协商记录成功",e]),t.refundLogData=e.list,angular.forEach(t.refundLogData,function(t,e){t.time=new Date(parseInt(t.time)).toLocaleString(),$(".mainContent").append('<div class="logContent"><span class="user">'+t.role+'</span><span class="time">'+t.time+"</span><h5>"+t.title+'</h5><div class="content">'+t.content+"</div></div>")})},function(t){console.log(["获取协商记录失败",t])})}t.$inject=["$scope","$stateParams","$rootScope","$state","mAPI"],angular.module("shop").controller("refundLogCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o){console.log("refundDestinationCtrl.........");var s={};t.pageData=s,e.orderId&&(s.orderId=e.orderId),e.orderDetailId&&(s.orderDetailId=e.orderDetailId),o.orderDetail("/mall/order.ashx",{action:"get",order_id:s.orderId},function(t){console.log(["获取订单详情成功",t]),s.orderData=t,angular.forEach(s.orderData.product_list,function(t,e){t.order_detail_id==s.orderDetailId&&(s.orderData.head_img=t.img_url,s.orderData.product_name=t.product_name)})},function(t){console.log(["获取订单详情失败",t])}),o.refundDetail({order_detail_id:s.orderDetailId},function(e){console.log(["获取退款详情成功",e]),t.refundDetailData=e},function(t){console.log(["获取退款详情失败",t])}),t.step=1,o.weixintransferInfoNew({order_detail_id:s.orderDetailId},function(e){if(console.log(["获取退款成功去处成功",e]),0==e.errcode)switch(t.refundDestinationDate=e,t.refundDestinationDate.refund_status){case"PROCESSING":t.step=2;break;case"SUCCESS":t.step=3;break;default:t.step=1}console.log(["$scope.step",t.step])},function(t){console.log(["获取退款成功去处失败",t])})}t.$inject=["$scope","$stateParams","$rootScope","$state","mAPI"],angular.module("shop").controller("refundDestinationCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o,s){function n(e,i){t.imgData=[],console.log(["e",e]);for(var a=e.target.files.length,o=0;a>o;o++)t.imgData.push(e.target.files[o]);var n=parseInt(i.substring(i.length-1,i.length));console.log(["labelindex",n]),s.show("图片上传中"),setTimeout(function(){console.log(t.imgData),c(n)},200)}function c(e){var a=new XMLHttpRequest;a.open("POST",i.mainsiteurl+"/serv/api/common/file.ashx?action=add",!0);var o=new FormData;console.log(["$scope.imgData",t.imgData]);for(var n=0;n<t.imgData.length;n++)console.log("$scope.imgData[i]",t.imgData[n]),o.append("file",t.imgData[n]);a.send(o),a.onreadystatechange=function(i){if(console.log(["xhr.responseText",a.responseText]),4==a.readyState)if(200==a.status){console.log(["JSON.parse(xhr.responseText)",JSON.parse(a.responseText)]);var o=JSON.parse(a.responseText);t.imgURLs[e]=o.file_url_list[0],s.hide(),r(t.imgURLs,e)}else s.hide(),console.log(["JSON.parse(xhr.responseText)",JSON.parse(a.responseText)])}}function r(t,e){$(".jia"+e).remove(),$(".label"+e).prepend('<img src="'+t[e]+'">')}function d(t){s.show(t),setTimeout(function(){s.hide()},600)}console.log("applyRefund.......");var l={};t.pageData=l,e.orderId&&(l.orderId=e.orderId),e.orderDetailId&&(l.orderDetailId=e.orderDetailId),l.refundData={order_detail_id:l.orderDetailId,refund_reason:"",refund_amount:"",phone:"",remark:"",is_return_product:"",imagelist:[]},o.orderDetail("/mall/order.ashx",{action:"get",order_id:l.orderId},function(t){console.log(["获取订单详情成功",t]),l.orderData=t,l.orderData.product_name=l.orderData.product_list[0].product_name,l.orderData.product_name.length>17&&(l.orderData.product_name=l.orderData.product_name.substring(0,16)+"..."),l.orderData.product_totalPrice=l.orderData.product_list[0].price*l.orderData.product_list[0].count,l.refundData.is_return_product="已发货"==l.orderData.order_status||"交易成功"==l.orderData.order_status?1:0},function(t){console.log(["获取订单详情失败",t])}),o.getmaxrefundamount({order_detail_id:l.orderDetailId},function(e){console.log(["获取商品最大退款金额成功",e]),0==e.errcode&&(t.maxRefundAmount=e.max_refund_amount)},function(t){console.log(["获取商品最大退款金额失败",t])}),t.refundReasons=[{reason:"请选择退款原因"},{reason:"买/卖双方协商一致"},{reason:"买错/多买/不想要"},{reason:"商品质量问题"},{reason:"未收到货品"},{reason:"其他"}],t.theReason={reason:""},t.theReason.reason=t.refundReasons[0],$("#upLoadImg0")[0].addEventListener("change",function(t){n(t,"#upLoadImg0")},!1),$("#upLoadImg1")[0].addEventListener("change",function(t){n(t,"#upLoadImg1")},!1),$("#upLoadImg2")[0].addEventListener("change",function(t){n(t,"#upLoadImg2")},!1),t.imgURLs=[],t.submitRefund=function(){return l.refundData.refund_reason=t.theReason.reason.reason,l.refundData.imagelist=t.imgURLs,console.log(["提交的信息",l.refundData]),"请选择退款原因"==l.refundData.refund_reason?void d("请选择退货原因"):""==l.refundData.refund_amount?void d("请输入退款金额"):parseInt(l.refundData.refund_amount)>t.maxRefundAmount?void d("退款金额不得大于最大退款金额"):/^0?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/.test(l.refundData.phone)?void(1==e.update?o.refundUpdate({data:JSON.stringify(l.refundData)},function(t){0===t.errcode?(console.log(["更新退款申请成功",t]),i.gobackpagetwice=!0,a.go("refundState",{orderDetailId:l.orderDetailId,orderId:l.orderId})):(console.log(["更新退款申请失败",t]),d(t.errmsg))},function(t){console.log(["更新退款申请请求失败",t]),d(t.errmsg)}):o.refundApply({data:JSON.stringify(l.refundData)},function(t){0===t.errcode?(console.log(["提交退款申请成功",t]),i.gobackpagetwice=!0,a.go("refundState",{orderDetailId:l.orderDetailId,orderId:l.orderId})):(console.log(["提交退款申请失败",t]),d(t.errmsg))},function(t){console.log(["提交退款申请请求失败",t]),d(t.errmsg)})):void d("请输入正确的电话号码")}}t.$inject=["$scope","$stateParams","$rootScope","$state","mAPI","wLoading"],angular.module("shop").controller("applyRefundCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o,s){t.registerInfo={phone:"",smscontent:"",password:"",passwordconfirm:"",smsvercode:"",nickname:""};var n=/^0?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/,c=/^[0-9]{6}$/;t.registerInfo.smscontent=encodeURIComponent("您的验证码为{{SMSVERCODE}}"),t.verificationcodeFunc=function(){if(!n.test(t.registerInfo.phone)){var e="请输入正确的手机号码";return void alert(e)}$(".vertifycodebt").attr("disabled","disabled").text("重新获取验证码(60s)");var i=60;t.timer=setInterval(function(){i--,$(".vertifycodebt").text("重新获取验证码("+i+"s)"),0>=i&&(clearInterval(t.timer),$(".vertifycodebt").text("获取验证码").removeAttr("disabled"))},1e3),o.verificationcode("/common/smsvercode.ashx",{phone:t.registerInfo.phone,smscontent:t.registerInfo.smscontent},function(t,e,i,a){if(0===t.errcode){console.log(["获取验证码成功",t]);var o="验证码已发送,如果没收到，请60秒后再点击获取";alert(o)}else console.log(["获取验证码失败",t]),alert(t.errmsg)},function(t,e,i,a){console.log(["获取验证码请求失败",t])})},t.registerFunc=function(){if(""===t.registerInfo.nickname){var e="昵称不能为空";return void alert(e)}if(!n.test(t.registerInfo.phone)){var e="请输入正确的手机号码";return void alert(e)}if(!c.test(t.registerInfo.smsvercode)){var e="请输入6位验证码";return void alert(e)}if(""===t.registerInfo.password){var e="密码不能为空";return void alert(e)}if(t.registerInfo.password!=t.registerInfo.passwordconfirm){var e="重复密码与密码不同";return void alert(e)}o.register("/user/registerbyphone.ashx",{username:t.registerInfo.phone,password:t.registerInfo.password,passwordconfirm:t.registerInfo.passwordconfirm,smsvercode:t.registerInfo.smsvercode,nickname:t.registerInfo.nickname},function(t,e,i,a){0===t.errcode?(console.log(["注册成功",t]),alert(t.errmsg,function(){s.go("login")})):(console.log(["注册失败",t]),alert(t.errmsg))},function(t,e,i,a){console.log(["注册请求失败",t])})}}t.$inject=["$scope","$timeout","webDevTec","toastr","mAPI","$state"],angular.module("shop").controller("registerCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n){function c(t,e,i){var a=new Date;a.setDate(a.getDate()+i),document.cookie=t+"="+escape(e)+(null==i?"":";expires="+a.toGMTString())+";path=/;domain="}function r(){t.loginInfo.phoneCodeTime--,t.loginInfo.phoneCodeTime>0&&i(r,1e3)}t.loginInfo={username:"",password:"",phoneCodeTime:0,phoneerror:!1};t.loginFunc=function(){s.login("/user/login.ashx",{username:t.loginInfo.username,password:t.loginInfo.password},function(t){if(0===t.errcode){if(console.log(["登录成功",t]),c("ASP.NET_SessionId",t.session_id,1),s.currentUserInfo("/user/info.ashx",{action:"currentuserinfo"},function(t){console.log(["获取用户信息成功",t])},function(t){console.log(["获取用户信息失败",t])}),1==e.favourite&&(e.favourite=2),window.sessionStorage.removeItem("loginBasketProducts"),window.sessionStorage.getItem("basketProducts")&&(window.sessionStorage.setItem("loginBasketProducts",window.sessionStorage.getItem("basketProducts")),window.sessionStorage.removeItem("basketProducts")),window.sessionStorage.removeItem("orderProducts"),window.sessionStorage.getItem("buyProducts"))return window.sessionStorage.setItem("orderProducts",window.sessionStorage.getItem("buyProducts")),void window.sessionStorage.removeItem("buyProducts");history.go(-1)}else console.log(["登录失败",t]),alert(t.errmsg)},function(t){console.log(["登录请求失败",t])})},t.loginSubmit=function(){s.loginsms({phone:t.loginInfo.username,sms_vercode:t.loginInfo.password},function(t){console.log(["登录成功",t]),0===t.errcode?history.length>2?history.go(-1):n.go("home"):alert(t.errmsg)},function(t){console.log(["登录失败",t]),alert("网络连接错误")})},t.getPhoneCode=function(e){e.$error.required||e.$error.pattern||(t.loginInfo.phoneCodeTime=60,r(),s.verificationcode("/common/smsvercode.ashx",{phone:t.loginInfo.username,smscontent:encodeURIComponent("您的验证码为{{SMSVERCODE}}")},function(t,e,i,a){if(0===t.errcode){console.log(["获取验证码成功",t]);var o="验证码已发送,如果没收到，请60秒后再点击获取";alert(o)}else console.log(["获取验证码失败",t]),alert(t.errmsg)},function(t,e,i,a){console.log(["获取验证码请求失败",t])}))},t.checkerror=function(e){t.loginInfo.phoneerror=e.$error.required||e.$error.pattern,console.log(t.loginInfo.phoneerror)}}t.$inject=["$scope","$rootScope","$timeout","webDevTec","toastr","mAPI","$state"],angular.module("shop").controller("loginCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n,c,r){function d(){l(),v()}function l(){s.getGroupBuyDetail({order_id:h.goodsGroupId}).then(function(e){if(console.log("我的团详情",e),e.status){if(h.dataInfo=e.result,h.isGroupFull=h.dataInfo.people_count==h.dataInfo.pay_people_count?!0:!1,h.dataInfo&&h.dataInfo.people_list&&h.dataInfo.people_list.length>0)for(var a=0;a<h.dataInfo.people_list.length;a++)0==a?(h.dataInfo.people_list[a].startGroup="开团",h.dataInfo.people_list[a].groupLeader="团长"):(h.dataInfo.people_list[a].startGroup="参团",h.dataInfo.people_list[a].groupLeader="团员");p();var s=location.href;n.title=h.dataInfo.product_name,n.desc="加入我们一起团购吧！",n.link=i.mainsiteurl+"/customize/shop/?v=1.0&ngroute="+s.substring(s.indexOf("#")+1,s.length)+"#"+s.substring(s.indexOf("#")+1,s.length),n.imgUrl=h.dataInfo.product_img_url,console.log(["shopInfo",n]),c.share(n)}else console.log("我的团详情失败",e),r.alert(e.msg),o(function(){t.go("groupGoodsList")},3e3)})["catch"](function(t){console.log("我的团详情失败",t),r.alert(t.msg)})}function u(){h.orderProduct.properties=h.dataInfo.product_properties,h.orderProduct.sku_id=h.dataInfo.sku_id,h.orderProduct.order_id=h.goodsGroupId,h.orderProduct.price=h.dataInfo.member_price,h.orderProduct.title=h.dataInfo.title,h.orderProduct.num=1,h.orderProduct.grouptype="member",h.orderProduct.img_url=h.dataInfo.product_img_url,console.log(["团员下订单的数据",h.orderProduct]),window.sessionStorage.setItem("orderProducts",JSON.stringify([h.orderProduct])),t.go("createOrder")}function p(){var t=0;h.dataInfo.end_time-(new Date).getTime()>0?(t=h.dataInfo.end_time-(new Date).getTime(),h.dataInfo.isOverDate=!1):h.dataInfo.isOverDate=!0;var e=parseInt(t/1e3/60/60/24,10),i=parseInt(t/1e3/60/60%24,10),a=parseInt(t/1e3/60%60,10),o=parseInt(t/1e3%60,10);h.pageData.leftDay=m(e),h.pageData.leftHour=m(i),h.pageData.leftMinus=m(a),h.pageData.leftSecond=m(o)}function v(){h.pageData.interval=e(function(){p(),console.log("倒计时循环")},1e3,0)}function g(){e.cancel(h.pageData.interval)}function m(t){return 10>t&&(t="0"+t),t}function f(){window.location.href="/customize/comeoncloud/Index.aspx?key=MallHome"}var h=this;window.sessionStorage.removeItem("orderProducts"),h.goodsGroupId=a.goodsGroupId,h.isGroupFull=!1,h.dataInfo={},h.orderProduct={},h.shadeShow=!1,h.pageData={interval:{},leftDay:"",leftHour:"",leftMinus:"",leftSecond:""},h.getGroupBuyDetail=l,h.joinGroup=u,h.timer=p,h.startInterval=v,h.closeInterval=g,h.goToGoodsList=f,h.init=d,d()}t.$inject=["$state","$interval","$rootScope","$stateParams","$timeout","nAPI","shopInfo","wxAPI","wPopup"],angular.module("shop").controller("waitForGroupDetailCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o){function s(){n()}function n(){r.dataloading=!0;var a={pageindex:r.pageIndex,pagesize:r.pageSize,order_status:"",order_from_time:"",order_to_time:"",order_type:2};i.odList(a).then(function(i){if(i){console.log(["获取我的团列表成功",i]),0==i.totalcount&&(r.noOrder=!0),r.dataList=r.dataList.concat(i.list);for(var a=0;a<r.dataList.length;a++){var o=r.dataList[a].group_buy_info.end_time-(new Date).getTime();r.isOverDate=o>0?!1:!0}i.list&&(i.list.length>=r.pageSize?(r.pageIndex++,e(function(){r.dataloading=!1})):e(function(){r.dataloading=!0,r.nodata=!0}),t.$broadcast("scroll.infiniteScrollComplete"))}else console.log(["获取订单列表失败",i])})["catch"](function(t){console.log(["获取订单列表请求失败",t])})}function c(){r.dataloading||(console.log("到底"),n())}var r=this;r.dataloading=!1,r.pageIndex=1,r.pageSize=10,r.dataList=[],r.isOverDate=!1,r.loadMoreData=c,r.loadData=n,r.init=s,s()}t.$inject=["$scope","$timeout","nAPI","wxAPI","wPopup"],angular.module("shop").controller("groupGoodsListCtrl",t)}(),function(){"use strict";function t(){var t=this;t.title="团购列表"}angular.module("shop").controller("groupForGoodsListCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n){function c(){r()}function r(){a.pdDetail(l.goodsId).then(function(t){console.log("拼团商品详情",t),l.goodsData=t;var e=location.href;o.title=l.goodsData.title,o.desc=l.goodsData.product_summary,o.link=$rootScope.mainsiteurl+"/customize/shop/?v=1.0&ngroute="+e.substring(e.indexOf("#")+1,e.length)+"#"+e.substring(e.indexOf("#")+1,e.length),o.imgUrl=l.goodsData.img_url,console.log(["shopInfo",o]),s.share(o)})["catch"](function(t){console.log("拼团商品详情失败",t)})}function d(e){if(l.goodsData.skus[0].count<=0){var i=n.alert({title:"提示信息",template:"当前商品没有了哦，请看看其他商品"});return void i.then(function(t){})}if(1!=e){if(e.people_count>l.goodsData.skus[0].count){var i=n.alert({title:"提示信息",template:"当前商品不够组团，请看看其他商品或者单个购买哦"});return void i.then(function(t){})}l.orderProduct.properties=l.goodsData.skus[0].properties,l.orderProduct.sku_id=l.goodsData.skus[0].sku_id,l.orderProduct.rule_id=e.rule_id,l.orderProduct.price=e.head_price,l.orderProduct.totalcount=l.goodsData.skus[0].count,l.orderProduct.title=l.goodsData.title,l.orderProduct.num=1,l.orderProduct.grouptype="leader",l.orderProduct.product_id=l.goodsData.product_id,l.orderProduct.img_url=l.goodsData.img_url}else l.orderProduct.properties=l.goodsData.skus[0].properties,l.orderProduct.sku_id=l.goodsData.skus[0].sku_id,l.orderProduct.title=l.goodsData.title,l.orderProduct.price=l.goodsData.skus[0].price,l.orderProduct.totalcount=l.goodsData.skus[0].count,l.orderProduct.num=1,l.orderProduct.product_id=l.goodsData.product_id,l.orderProduct.img_url=l.goodsData.img_url;console.log(["团长下订单的数据",l.orderProduct]),window.sessionStorage.setItem("orderProducts",JSON.stringify([l.orderProduct])),t.go("createOrder")}var l=this;window.sessionStorage.removeItem("orderProducts"),l.goodsId=e.goodsId,l.MALLCONFIG=i,l.goodsData={},l.orderProduct={},l.sliderdata=["https://imagecdn.yqphh.com/3/2016/03/pex0zqlj7y41lblb.jpg","https://imagecdn.yqphh.com/3/2016/02/5hptms3yv4okrvof.jpg","https://imagecdn.yqphh.com/3/2016/02/9ptt6l8naeg6m53x.jpg","https://imagecdn.yqphh.com/3/2016/02/wmomcart0pw9t9bl.jpg"],l.getGoodsDetail=r,l.createOrder=d,l.init=c,c()}t.$inject=["$state","$stateParams","MALLCONFIG","nAPI","shopInfo","wxAPI","wPopup"],angular.module("shop").controller("groupForGoodsDetailCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n,c,r){function d(){var e=navigator.userAgent.toLowerCase();console.log(["浏览器agent",e]),"micromessenger"==e.match(/MicroMessenger/i)?(console.log("是微信浏览器"),t.chat=!0):(t.chat=!1,console.log("不是微信浏览器"))}function l(t){return isNaN(t)?void 0:-1!=(t+"").indexOf(".")?!0:!1}function u(t,e){return 1e6*t/e/1e6}function p(){t.totalnum=0,t.giftProduct.productsTotalPrice=0,angular.forEach(t.giftProduct,function(e,i){t.giftProduct.productsTotalPrice+=e.price*parseInt(e.num),t.totalnum+=parseInt(e.num)}),console.log(t.giftProduct.productsTotalPrice),console.log(t.toscorescale),t.cangetscore=Math.floor(t.giftProduct.productsTotalPrice*t.toscorescale),console.log(t.cangetscore),v()}function v(){var e=[];t.getfreightdata={},angular.forEach(t.giftProduct,function(i,a){var o={sku_id:i.sku_id,count:i.num};e.push(o),t.getfreightdata={receiver_province_code:g.defaultList.province_code,receiver_city_code:g.defaultList.city_code,receiver_dist_code:g.defaultList.dist_code,skus:e}});var a=s.freight(t.getfreightdata);a.then(function(e){t.freight=e.freight,console.log(["获取运费成功",e]),t.giftProduct.productsTotalPrice+=t.freight})["catch"](function(t){}),0==t.noselectcou&&void 0!=t.coupon_id&&null!=t.coupon_id?console.log("我选择了优惠券"):(console.log("我没有选择优惠券"),1==t.usepoints&&(console.log(g.defaultList.use_score),void 0==g.defaultList.use_score||0==g.defaultList.use_score?(t.usepoints=!1,n.show("输入的积分要大于0"),i(function(){n.hide()},700)):parseInt(g.defaultList.use_score)>t.userinfo.totalscore&&1==t.usepoints?t.userinfo.totalscore*t.tomoneyscale>t.giftProduct.productsTotalPrice?l(u(t.giftProduct.productsTotalPrice,t.tomoneyscale))?(g.defaultList.use_score=Math.floor(u(t.giftProduct.productsTotalPrice,t.tomoneyscale)),t.giftProduct.productsTotalPrice-=Math.floor(u(t.giftProduct.productsTotalPrice,t.tomoneyscale)),t.cangetscore=0,0==g.defaultList.use_score?(t.usepoints=!1,g.defaultList.use_score="",n.show("您未达到使用积分的最低条件"),i(function(){n.hide()},700)):(n.show("您最多可以使用"+g.defaultList.use_score+"积分"),i(function(){n.hide()},700))):(g.defaultList.use_score=u(t.giftProduct.productsTotalPrice,t.tomoneyscale),t.giftProduct.productsTotalPrice=0,t.cangetscore=0):(g.defaultList.use_score=t.userinfo.totalscore,n.show("您最多可以使用"+t.userinfo.totalscore+"积分"),i(function(){n.hide()},700),t.giftProduct.productsTotalPrice-=g.defaultList.use_score*t.tomoneyscale,t.cangetscore=Math.floor(t.giftProduct.productsTotalPrice*t.toscorescale)):Math.floor(g.defaultList.use_score*t.tomoneyscale)>=t.giftProduct.productsTotalPrice?l(u(t.giftProduct.productsTotalPrice,t.tomoneyscale))?(g.defaultList.use_score=Math.floor(u(t.giftProduct.productsTotalPrice,t.tomoneyscale)),t.giftProduct.productsTotalPrice=t.giftProduct.productsTotalPrice-Math.floor(t.giftProduct.productsTotalPrice),t.cangetscore=Math.floor(t.giftProduct.productsTotalPrice*t.toscorescale),0==g.defaultList.use_score&&(t.usepoints=!1,g.defaultList.use_score="",n.show("您未达到使用积分的最低条件"),i(function(){n.hide()},700))):(g.defaultList.use_score=u(t.giftProduct.productsTotalPrice,t.tomoneyscale),t.giftProduct.productsTotalPrice=0,t.cangetscore=0):(g.defaultList.use_score=parseInt(g.defaultList.use_score),t.giftProduct.productsTotalPrice-=g.defaultList.use_score*t.tomoneyscale,t.cangetscore=Math.floor(t.giftProduct.productsTotalPrice*t.toscorescale))))}t.chat=!0,d(),t.usepoints=!1,t.noshowcoupon=!1,t.showcard=!1,t.pullshow=function(){1==t.showcard?($("#pullshow").css("transform","rotate(0deg)"),t.showcard=!1):($("#pullshow").css("transform","rotate(90deg)"),t.showcard=!0)},s.tomoney().then(function(e){console.log(e),t.tomoneyscale=e.amount/e.score,console.log(t.tomoneyscale)})["catch"](function(t){}),s.toscore().then(function(e){console.log(e),isNaN(e.score/e.amount)?t.isNaNShow=!1:(t.isNaNShow=!0,t.toscorescale=e.score/e.amount),console.log(t.toscorescale),p()})["catch"](function(t){}),s.getuserinfo().then(function(e){console.log(e),t.userinfo=e})["catch"](function(t){console.log(t)}),t.delNum=function(e){e.num>1&&(e.num--,t.giftProduct.productsTotalPrice-=e.price)},t.addNum=function(e){e.num<e.count&&(e.num++,t.giftProduct.productsTotalPrice+=e.price)},t.noselectcou=!1,t.selectcouBtn=function(e){console.log(e),t.noselectcou=!1,e.select=!0;for(var i in t.couponlist)t.couponlist[i].cardcoupon_id!=e.cardcoupon_id&&(t.couponlist[i].select=!1);t.coupon_id=e.cardcoupon_id,p()},t.notselectcouBtn=function(){t.noselectcou=!0;for(var e in t.couponlist)t.couponlist[e].select=!1;p()},t.selectpointsBtn=function(){t.usepoints=!t.usepoints,p()},t.checkpoints=function(){1==isNaN(parseInt(g.defaultList.use_score))&&(g.defaultList.use_score=""),1==t.usepoints&&p()};{var g=t.pageData={defaultList:[],isChoose:!1,selectId:o.selectId},g=t.pageData={defaultList:[],isChoose:!1,selectId:o.selectId};t.pageFunc={}}t.giftProduct=window.sessionStorage.getItem("giftorder"),t.giftProduct=JSON.parse(t.giftProduct),console.log(["$scope.giftProduct",t.giftProduct]),s.formatSku(t.giftProduct),t.freight=0,t.submitOrderAndPay=function(){var e=[];angular.forEach(t.giftProduct,function(t,i){var a={sku_id:t.sku_id,count:t.num};e.push(a)});var i="";i=1==t.chat?"WEIXIN":"ALIPAY",t.saleid=window.localStorage.getItem("Saleid")?window.localStorage.getItem("Saleid"):"",1!=t.usepoints&&(g.defaultList.use_score=0),0==t.noselectcou&&void 0!=t.coupon_id&&null!=t.coupon_id&&(g.defaultList.cardcoupon_id=t.coupon_id);var o={buyer_memo:g.defaultList.buyer_memo,cardcoupon_id:g.defaultList.cardcoupon_id,use_score:parseInt(g.defaultList.use_score),pay_type:i,skus:e,sale_id:t.saleid};n.show("数据请求中...");var d=JSON.stringify(o);console.log(["提交订单的数据",o]),s.giveGiftOrder({data:d}).then(function(e){console.log(e),0===e.errcode?(console.log(["提交订单成功",e]),console.log(["订单付款方式",o.pay_type]),console.log(["订单id",e.order_id]),console.log(["订单的价格",t.giftProduct.productsTotalPrice]),t.orderId=e.order_id,0==t.giftProduct.productsTotalPrice?(n.show("数据请求中..."),n.hide(),a.go("givegift",{orderID:e.order_id})):c(o.pay_type,e.order_id)):(n.hide(),r.alert(e.errmsg))})["catch"](function(t){r.alert(t.errmsg),console.log(["提交订单失败",t])})}}t.$inject=["$scope","$rootScope","$timeout","$state","$stateParams","nAPI","wLoading","giftpay","wPopup"],angular.module("shop").controller("paygiftCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n){console.log(o.orderID),s.getGiftOrderDetail({order_id:o.orderID}).then(function(e){console.log(["获得的商品详情",e]),t.productDetailData=e,t.url=location.href.split("#")[0]+"&ngroute=/getgift/"+o.orderID+"#/getgift/"+o.orderID,n.share({title:"礼品分享",desc:"小小礼品，不成敬意，请笑纳！",link:t.url,imgUrl:e.product_img_url})}).then(function(t){console.log(t)}),t.getGiftUrlBtn=function(){$(".shareimg").css("display","block")},t.hideShareImg=function(){$(".shareimg").css("display","none")}}t.$inject=["$scope","$rootScope","$timeout","$state","$stateParams","nAPI","wxAPI"],angular.module("shop").controller("givegiftCtrl",t)}(),function(){"use strict";function t(t,e,i,a){}t.$inject=["$scope","$rootScope","$timeout","$state"],angular.module("shop").controller("giftdetailCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n,c,r,d,l){var u=this;u.addressId=o.addressId,u.addressData="",e.orderID=o.giftID,s.getGiftOrderDetail({order_id:o.giftID}).then(function(i){console.log(["获得的商品详情",i]),t.productDetailData=i,t.url=l.location.href.split("#")[0]+"&ngroute=/getgift/"+e.orderID+"#/getgift/"+e.orderID,d.share({title:"礼品分享",desc:"小小礼品，不成敬意，请笑纳！",link:t.url,imgUrl:i.product_img_url})})["catch"](function(t){console.log(["报错",t])}),t.getGiftUrlBtn=function(){$(".shareimg").css("display","block")},t.hideShareImg=function(){$(".shareimg").css("display","none")},t.gotoaddlist=function(){a.go("receiveAddressList"),e.fromCreatorder=3};{var p=t.pageData={defaultList:[],isChoose:!1,selectId:o.selectId};t.pageFunc={}}t.getGiftBtn=function(){if(void 0==p.defaultList.buyer_memo&&(p.defaultList.buyer_memo=""),!u.addressData)return c.show("请选择寄送的地址"),void i(function(){c.hide()},600);var t={order_id:o.giftID,receiver_province:u.addressData.province,receiver_province_code:u.addressData.province_code,receiver_city:u.addressData.city,receiver_city_code:u.addressData.city_code,receiver_dist:u.addressData.dist,receiver_dist_code:u.addressData.dist_code,receiver_name:u.addressData.consigneename,receiver_phone:u.addressData.phone,buyer_memo:u.addressData.buyer_memo,receiver_address:u.addressData.address};c.show("数据请求中...");var e=JSON.stringify(t);console.log(["提交订单的数据",t]),s.getGiftOrder({data:e}).then(function(t){console.log(["领取礼品成功",t]),c.hide();var e=r.confirm({title:"友情提示",template:"领取礼品成功，即将跳转到个人中心",cssClass:"borderradius5px",cancelText:"取消",cancelType:"button button-clear button-positive",okText:"确认",okType:"button button-clear button-positive"});e.then(function(t){t&&(l.location.href="/customize/comeoncloud/Index.aspx?key=PersonalCenter")})})["catch"](function(t){c.hide(),r.alert(t.errmsg),console.log(["领取礼品失败",t])})}}t.$inject=["$scope","$rootScope","$timeout","$state","$stateParams","nAPI","$q","wLoading","wPopup","wxAPI","$window"],angular.module("shop").controller("getgiftCtrl",t)}(),function(){"use strict";function t(t){return{link:function(e,i,a){var o=t(a.wechatClick),s=0,n=0,c=0,r=0;i[0].addEventListener("touchstart",function(t){s=t.touches[0].clientX,n=t.touches[0].clientY}),i[0].addEventListener("touchmove",function(t){c=t.touches[0].clientX,r=t.touches[0].clientY}),i[0].addEventListener("touchend",function(t){console.log(["touchmove event",t]),0==c&&0==r&&o(e),s=0,n=0,c=0,r=0})}}}t.$inject=["$parse"],angular.module("shop").directive("wechatClick",t)}(),function(){"use strict";function t(){function t(){return e}var e=[{title:"AngularJS",url:"https://angularjs.org/",description:"HTML enhanced for web apps!",logo:"angular.png"},{title:"BrowserSync",url:"http://browsersync.io/",description:"Time-saving synchronised browser testing.",logo:"browsersync.png"},{title:"GulpJS",url:"http://gulpjs.com/",description:"The streaming build system.",logo:"gulp.png"},{title:"Jasmine",url:"http://jasmine.github.io/",description:"Behavior-Driven JavaScript.",logo:"jasmine.png"},{title:"Karma",url:"http://karma-runner.github.io/",description:"Spectacular Test Runner for JavaScript.",logo:"karma.png"},{title:"Protractor",url:"https://github.com/angular/protractor",description:"End to end test framework for AngularJS applications built on top of WebDriverJS.",logo:"protractor.png"},{title:"Bootstrap",url:"http://getbootstrap.com/",description:"Bootstrap is the most popular HTML, CSS, and JS framework for developing responsive, mobile first projects on the web.",logo:"bootstrap.png"},{title:"Sass (Node)",url:"https://github.com/sass/node-sass",description:"Node.js binding to libsass, the C version of the popular stylesheet preprocessor, Sass.",logo:"node-sass.png"}];this.getTec=t}angular.module("shop").service("webDevTec",t)}(),function(){"use strict";function t(t,e,i,a,o){function s(t,e){for(var i=0;i<e.length;i++)e[i].pre_id==t.category_id&&(s(e[i],e),t.subList||(t.subList=[]),t.subList.push(e[i]))}return{templateUrl:"app/components/sideMenu/sideMenu.html",link:function(t,n,c,r){t.sideMenus=0,t.showMenus=function(){0==t.sideMenus?(t.sideMenus=1,$("html").addClass("sidebar-move")):(t.sideMenus=0,$("html").removeClass("sidebar-move"))},null==e.mallconfignew.nav_group_name||""==e.mallconfignew.nav_group_name?o.pdCatrgory().then(function(e){console.log(["左侧导航商品分类",e]);for(var i in e.list)e.list[i].navigation_name=e.list[i].category_name,e.list[i].navigation_link=e.list[i].category_id,e.list[i].navigation_type=1,e.list[i].subListShow=!0;for(var a=[],i=0;i<e.list.length;i++)e.list[i].pre_id||(s(e.list[i],e.list),a.push(e.list[i]));console.log("rootList",a);var o={category_name:"全部",navigation_name:"全部",category_id:"",navigation_link:"",isme:!0,navigation_type:1,pre_id:0};a.unshift(o),t.leftnavdatas=a}):i.getNavList(e.mallconfignew.nav_group_name).then(function(e){console.log(["左侧导航",e]);for(var i in e)e[i].navigation_type=2;t.leftnavdatas=e}),t.$on("ngRepeatFinished",function(t){new IScroll("#wrapper",{mouseWheel:!0,click:!0})}),$(".sideMenuMask")[0].addEventListener("touchmove",function(t){t.preventDefault()}),t.goList=function(e,i){t.sideMenus=!t.sideMenus,2==i?location.href=e:a.go("productList",{catID:e})}}}}t.$inject=["$timeout","MALLCONFIG","nAPI","$state","sAPI"],angular.module("shop").directive("sideMenu",t)}(),function(){"use strict";function t(t){return{restrict:"E",templateUrl:"app/components/slider/slider.html",transclude:!0,link:function(t,e,i,a){function o(){var t=0;if(i.aspectratio)if(i.aspectratio.match(":")){var a=i.aspectratio.split(":");t=Number(a[1])/Number(a[0])}else t=Number(i.aspectratio);t>0&&e.find(".sliders").css({height:e.find(".sliders").parent().width()*t})}t.$on("ngRepeatFinished",function(){return e.find(".sliderlist").length<=0?void e.hide():(o(),e.show(),void e.find(".sliders").touchSlider({animatetime:300,automatic:!1,timeinterval:4e3,sliderpoint:!0,sliderpointwidth:8,sliderpointcolor:"#fff",sliderpointbgcolor:"#ccc"}))})}}}function e(t){return{restrict:"E",template:'<div class="sliderlist"  ng-transclude></div>',transclude:!0,link:function(e,i,a,o){e.$last===!0&&t(function(){e.$emit("ngRepeatFinished")})}}}t.$inject=["$timeout"],e.$inject=["$timeout"],angular.module("shop").directive("shopslider",t).directive("shopSliderItem",e)}(),function(){"use strict";function t(t,e,i,a,o,s){return{restrict:"A",scope:{addressInfo:"=",customize:"=",addressId:"="},transclude:!0,templateUrl:"app/components/selectAddress/selectAddress.html",link:function(t,a,n,c){console.log(o),t.customize||(t.customize=!1),
t.addressListPr=e.addressList().then(function(e){t.addressListData=e.list,t.addressListData&&t.addressListData.length>0&&(t.hasAddress=!0),console.log(["$scope.addressListData",t.addressListData]),t.addressId?angular.forEach(t.addressListData,function(e,i){e.address_id==t.addressId&&(t.addressInfo=e)}):angular.forEach(t.addressListData,function(e,i){1==e.isdefault&&(t.addressInfo=e)}),console.log(["$scope.addressInfo",t.addressInfo]),void 0==t.addressInfo&&(t.addressInfo=t.addressListData[0])})["catch"](function(t){i.alert(JSON.stringify(t))}),t.selectAddressBtn=function(){var t=angular.toJson(o.params);o.go("receiveAddressList",{siteName:o.current.name,siteparams:s.encodeURIComponent(t)})}}}}t.$inject=["$q","nAPI","wPopup","$stateParams","$state","$window"],angular.module("shop").directive("selectAddress",t)}(),function(){"use strict";function t(){return{templateUrl:"app/components/relateSearch/relateSearch.html",link:function(t,e,i,a){}}}angular.module("shop").directive("relateSearch",t)}(),function(){"use strict";function t(){return{templateUrl:"app/components/productBoxList/productBoxList.html",transclude:!0,link:function(t,e,i,a){}}}angular.module("shop").directive("productBoxList",t)}(),function(){"use strict";function t(t,e,i){return{templateUrl:"app/components/productBox/saleBox.html",link:function(t,e,a,o){function s(){var t=1;if(a.scale)if(a.scale.match(":")){var e=a.scale.split(":");t=Number(e[0])/Number(e[1])}else t=Number(a.scale);return t}var n=s(),c=(angular.element(i).width()-30)/2,r=c+"px",d=parseInt(c/n)+"px";$(".product-list").append("<style>.img-wrap{width:"+r+";height:"+d+"!important;}</style>"),$(".product-list").append("<style>.img-span{width:"+r+";height:"+d+"!important;}</style>"),$(".product-list").append("<style>.product-img{max-width:"+r+";max-height:"+d+"!important;}</style>")},controller:["$scope","$state",function(t,e){t.goToDetail=function(t){t.isOnTheSale&&t.totalcount&&e.go("productDetail",{id:t.product_id})}}]}}t.$inject=["$timeout","$state","$window"],angular.module("shop").directive("saleBox",t)}(),function(){"use strict";function t(){return{templateUrl:"app/components/productBox/productBoxSale.html",link:function(t,e,i,a){},controller:["$scope","$state",function(t,e){t.goToDetail=function(t){t.isOnTheSale&&t.totalcount&&e.go("productDetail",{id:t.product_id})}}]}}angular.module("shop").directive("productBoxSale",t)}(),function(){"use strict";function t(t,e,i){return{templateUrl:"app/components/productBox/productBox.html",link:function(t,e,a,o){function s(){var t=1;if(a.scale)if(a.scale.match(":")){var e=a.scale.split(":");t=Number(e[0])/Number(e[1])}else t=Number(a.scale);return t}var n=s(),c=(angular.element(i).width()-30)/2,r=c+"px",d=parseInt(c/n)+"px";$(".product-list").append("<style>.img-wrap{width:"+r+";height:"+d+"!important;}</style>"),$(".product-list").append("<style>.img-span{width:"+r+";height:"+d+"!important;}</style>"),$(".product-list").append("<style>.product-img{max-width:"+r+";max-height:"+d+"!important;}</style>")}}}t.$inject=["$timeout","$state","$window"],angular.module("shop").directive("productBox",t)}(),function(){"use strict";function t(){function t(t){var e=this;e.relativeDate=t(e.creationDate).fromNow()}t.$inject=["moment"];var e={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("shop").directive("acmeNavbar",t)}(),function(){"use strict";function t(t){function e(e,i,a,o){var s,n=t(i[0],{typeSpeed:40,deleteSpeed:40,pauseDelay:800,loop:!0,postfix:" "});i.addClass("acme-malarkey"),angular.forEach(e.extraValues,function(t){n.type(t).pause()["delete"]()}),s=e.$watch("vm.contributors",function(){angular.forEach(o.contributors,function(t){n.type(t.login).pause()["delete"]()})}),e.$on("$destroy",function(){s()})}function i(t,e){function i(){return a().then(function(){t.info("Activated Contributors View")})}function a(){return e.getContributors(10).then(function(t){return o.contributors=t,o.contributors})}var o=this;o.contributors=[],i()}i.$inject=["$log","githubContributor"];var a={restrict:"E",scope:{extraValues:"="},template:"&nbsp;",link:e,controller:i,controllerAs:"vm"};return a}t.$inject=["malarkey"],angular.module("shop").directive("acmeMalarkey",t)}(),function(){"use strict";function t(t,e,i){return{link:function(t,a,o,s){a[0].offsetTop<angular.element(e).height()&&i(function(){a.attr("src",a.attr("data-src"))}),angular.element(e).bind("scroll",function(t){var e=a[0].offsetTop+a[0].clientHeight-t.currentTarget.innerHeight-t.currentTarget.scrollY;150>e&&a.attr("src",a.attr("data-src"))}),t.$on("$viewContentLoading",function(t,i){angular.element(e).unbind("scroll")})}}}t.$inject=["$parse","$window","$timeout"],angular.module("shop").directive("lazyLoad",t)}(),function(){"use strict";function t(){return{templateUrl:"app/components/hotSearch/hotSearch.html",link:function(t,e,i,a){}}}angular.module("shop").directive("hotSearch",t)}(),function(){"use strict";function t(){return{templateUrl:"app/components/goBack/goBack.html",link:function(t,e,i,a){t.goBack=function(){history.length<2?location.hash="#home":history.go(-1)}}}}angular.module("shop").directive("goBack",t)}(),function(){"use strict";function t(t,e){function i(i){function o(t){return t.data}function s(e){t.error("XHR Failed for getContributors.\n"+angular.toJson(e.data,!0))}return i||(i=30),e.get(a+"/contributors?per_page="+i).then(o)["catch"](s)}var a="https://api.github.com/repos/Swiip/generator-gulp-angular",o={apiHost:a,getContributors:i};return o}t.$inject=["$log","$http"],angular.module("shop").factory("githubContributor",t)}(),function(){"use strict";function t(t,e,i,a){return{templateUrl:"app/components/footerBar/footerBar.html",link:function(e,o,s,n){e.bottomList=[],console.log("接口地址",t.mainsiteurl),e.getShopNums=function(){},e.getShopNums(),e.goToOtherUrl=function(t){window.location.href="/customize/comeoncloud/Index.aspx?key="+t},e.$on("getShopNums",function(t,i){e.getShopNums()}),e.getBottomNavList=function(){i.getBottomNavList({key:"MallHome",property:"foottool_list",key_type:void 0==a.mallconfignew.foottool?"":a.mallconfignew.foottool}).then(function(t){if(console.log("底部导航成功",t),t.status&&(e.bottomList=t.result,e.bottomList&&e.bottomList.length>0))for(var i=0;i<e.bottomList.length;i++)e.bottomList[i].isFirstSelected=window.location.href.indexOf(e.bottomList[i].url)>=0?!0:!1})["catch"](function(t){console.log("底部导航失败",t)})},e.getBottomNavList(),e.goToBottomDetail=function(t,i){for(var a=0;a<e.bottomList.length;a++)e.bottomList[a].isFirstSelected=!1,e.bottomList[a].isSelected=-8,t.$$hashKey==e.bottomList[a].$$hashKey&&(e.bottomList[a].isSelected=i);window.location.href=t.url}}}}t.$inject=["$rootScope","mAPI","nAPI","MALLCONFIG"],angular.module("shop").directive("footerBar",t)}(),function(){"use strict";function t(t){function e(e,i,a,o){function s(t){return t?t=t.match(",")?t.split(","):[t]:[]}function n(){o.couponCheckBoxStatus=!1}function c(){if(o.couponCheckBoxStatus=!0,""===e.checkedCouponInfo)for(var t in o.couponData)o.couponData[t].checked=!1}function r(t){var e=t[0],i=(t[1],t[2]);angular.forEach(e,function(t,e){if("0"!==t.product_id&&(t.cantuse=!0,(2==i.length&&i[1].parent_product_id||1==i.length)&&t.product_id==i[0].product_id))return void(t.cantuse=!1);if(""!==t.product_tags){t.cantuse=!0;var a=!1,o=s(t.product_tags);if(2==i.length&&i[1].parent_product_id||1==i.length){for(var n=0;n<o.length;n++)if(i[0].tags.match(o[n])){a=!0;break}}else angular.forEach(i,function(t,e){if(!(e>0)||a){for(var i=!1,n=s(t.tags),c=0;c<o.length;c++){for(var r=0;r<n.length;r++)if(o[c]===n[r]){i=!0;break}if(i)break}a=i?!0:!1}});a&&(t.cantuse=!1)}}),o.canuseNum=o.couponData.length;for(var a=0;a<o.couponData.length;a++)o.couponData[a].cantuse&&(o.canuseNum-=1)}function d(t){if(!(e.orderTotalPrice<t.buckle_amount||e.orderTotalPrice<t.freefreight_amount||t.cantuse))if(t.checked)t.checked=!1,e.checkedCouponInfo="";else{for(var i in o.couponData)o.couponData[i].checked=!1;t.checked=!0,e.checkedCouponInfo=t}}e.amountName="订单金额",a.amountName&&(e.amountName=a.amountName);var l=[];o.couponCheckBoxStatus=!1,o.checkcoupon=d,o.confirmMyCheck=n,o.openCouponCheckBox=c,o.canuseNum=0;var u=t(function(t,i){l[0]=e.$watch("ccvm.couponData",function(e,i){e.length>0&&t(e)})}),p=t(function(t,i){l[1]=e.$watch("orderProductsTags",function(e,i){t(s(e))})}),v=t(function(t,i){l[2]=e.$watch("orderSkus",function(e,i){e.length>0&&t(e)})});t.all([u,p,v]).then(r),e.$on("$destroy",function(){for(var t=0;t<l.length;t++)l[t]()})}function i(t,e){function i(t){var e,i=new Date,a=[],o=[],s=[],n=[];for(e in t)t[e].valid_from=new Date(t[e].valid_from),t[e].valid_to=new Date(t[e].valid_to),t[e].outdate=!1,t[e].checked=!1,t[e].cantuse=!1,0===t[e].cardcoupon_status?a.push(t[e]):o.push(t[e]);for(e in a){var c=a[e].valid_to.getTime()-i.getTime();c>0?s.push(a[e]):(a[e].outdate=!0,n.push(a[e]))}return t=s.concat(o,n),s}var a=this;a.couponData=[],t.couponList({is_can_use:""}).then(function(t){a.couponData=i(t.list)})}i.$inject=["nAPI","$scope"];var a={restrict:"AE",scope:{orderTotalPrice:"=",orderSkus:"=",checkedCouponInfo:"=",orderProductsTags:"="},templateUrl:"app/components/checkCoupon/checkCoupon.html",link:e,controller:i,controllerAs:"ccvm"};return a}t.$inject=["$q"],angular.module("shop").directive("checkCoupon",t)}(),function(){"use strict";function t(t){return{restrict:"A",link:function(e,i,a){e.$last===!0&&t(function(){e.$emit("ngRepeatFinished")})}}}t.$inject=["$timeout"],angular.module("shop").directive("onFinishRenderFilters",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n){function c(){r()}function r(){s.getUserField().then(function(t){if(console.log("用户字段",t),t.status)for(var e=0;e<t.result.length;e++)"phone"==t.result[e].field&&(D.phoneIndex=e,t.result[e].oldvalue=t.result[e].value,""==t.result[e].value&&(D.isPhoneNull=!0)),"img"==t.result[e].type&&(D.imgIndex=e,D.imgURLs[0]=t.result[e].value,a(function(){void 0!=$("#upLoadImg0")[0]&&($("#upLoadImg0")[0].addEventListener("change",function(t){v(t,"#upLoadImg0")},!1),null!=D.fieldList[D.imgIndex].value&&($(".jia0").remove(),$(".label0").prepend('<img src="'+D.fieldList[D.imgIndex].value+'">')))},200)),"date"==t.result[e].type&&(t.result[e].value=new Date(t.result[e].value)),D.fieldList=t.result})["catch"](function(t){console.log("用户字段失败",t)})}function d(t){return h(t)?void s.getSMSCode({phone:t}).then(function(t){console.log("验证码",t),t.status?l():(n.show(t.msg),a(function(){n.hide()},1e3))})["catch"](function(t){console.log("验证码失败",t)}):(n.show("您的手机格式不正确"),void a(function(){n.hide()},1e3))}function l(){D.waitTime=60,i(function(){D.waitTime<=0||!D.isShowEdit?(i.cancel(l),D.isShowCode=!1,D.waitTime=0):D.waitTime--},1e3,0)}function u(){s.postUserInfoWithoutCode(D.userFieldData).then(function(t){t.isSuccess?(n.show("保存成功"),a(function(){n.hide()},1e3),D.isShowEdit=!1):(console.log("保存失败",t.msg),n.show(t.msg),a(function(){n.hide()},1e3))})["catch"](function(t){console.log("保存失败",t.msg),n.show(t.msg),a(function(){n.hide()},1e3)})}function p(){for(var t=0;t<D.fieldList.length;t++){if("email"==D.fieldList[t].field&&!b(D.fieldList[t].value))return n.show("邮箱格式不正确"),void a(function(){n.hide()},1e3);if(1==D.fieldList[t].no_null&&(""==D.fieldList[t].value||void 0==D.fieldList[t].value))return n.show("请填写"+D.fieldList[t].field_name),void a(function(){n.hide()},1e3);if("date"==D.fieldList[t].type&&"object"==typeof D.fieldList[t].value&&(D.fieldList[t].value=D.fieldList[t].value.getTime()),D.userFieldData[D.fieldList[t].field]=D.fieldList[t].value,D.isShowCode||(D.userFieldData.phone=void 0),"img"==D.fieldList[t].type&&(D.userFieldData[D.fieldList[t].field]=D.imgURLs[0]),"phone"==D.fieldList[t].field&&""!=D.fieldList[t].value&&D.fieldList[t].oldvalue!=D.fieldList[t].value)return""==D.code?(n.show("验证码为空"),void a(function(){n.hide()},1e3)):(D.userFieldData.code=D.code,void y())}u()}function v(e,i){t.imgData=[],console.log(["e",e]);for(var a=e.target.files.length,o=0;a>o;o++)t.imgData.push(e.target.files[o]);n.show("图片上传中"),setTimeout(function(){console.log(t.imgData),g()},200)}function g(){var i=new XMLHttpRequest;i.open("POST",e.mainsiteurl+"/serv/api/common/file.ashx?action=add",!0);var a=new FormData;console.log(["$scope.imgData",t.imgData]);for(var o=0;o<t.imgData.length;o++)console.log("$scope.imgData[i]",t.imgData[o]),a.append("file",t.imgData[o]);i.send(a),i.onreadystatechange=function(t){if(console.log(["xhr.responseText",i.responseText]),4==i.readyState)if(200==i.status){console.log(["JSON.parse(xhr.responseText)",JSON.parse(i.responseText)]);var e=JSON.parse(i.responseText);D.imgURLs[0]=e.file_url_list[0],n.hide(),m(D.imgURLs)}else n.hide(),console.log(["JSON.parse(xhr.responseText)",JSON.parse(i.responseText)])}}function m(t){$(".jia0").remove(),$("img").remove(),$(".label0").prepend('<img src="'+t[0]+'">')}function f(){window.location.href=history.go(-1)}function h(t){var e=/(^(([0\+]\d{2,3}-)?(0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$)|(^0{0,1}1[3|4|5|6|7|8|9][0-9]{9}$)/;return e.test(t)?!0:!1}function b(t){var e=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return e.test(t)?!0:!1}function _(t){"phone"==t.field&&(D.isShowCode=""!=t.oldvalue&&""!=t.value&&t.oldvalue!=t.value?!0:!1)}function y(){for(var t=0,e=0;e<D.fieldList.length;e++)if("phone"==D.fieldList[e].field){if(t=e,""==D.fieldList[e].value)return n.show("请填写手机号"),void a(function(){n.hide()},1e3);if(!h(D.fieldList[e].value))return n.show("您的手机格式不正确"),void a(function(){n.hide()},1e3);break}s.checkPhoneCode({phone:D.fieldList[t].value,code:D.code}).then(function(t){t.status?u():(n.show(t.msg),a(function(){n.hide()},1e3))})["catch"](function(t){console.log("检查验证码错误",t)})}{var D=t.vm={imgURLs:[],waitTime:0,code:"",imgIndex:0,isPhoneNull:!1,isShowCode:!1,isShowEdit:!1,userFieldData:{},fieldList:{}};t.vf={getUserField:r,getSMSCode:d,checkPhoneCode:y,waitForSMSCode:l,getFile:v,upLoadImg:g,viewImg:m,isPhone:h,isEmail:b,isPhoneChange:_,postUserInfoWithoutCode:u,goBackPage:f,beforeSubmitCheck:p,init:c}}c()}t.$inject=["$scope","$rootScope","$interval","$timeout","$filter","nAPI","wLoading"],angular.module("shop").controller("userMangeCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o,s){function n(){i.basketList("/mall/shoppingcart.ashx",{action:"list"},function(i){console.log(["获取购物篮列表成功",i]),t.showempty=0==i.list.length?!0:!1,t.productTotalPrice=0,t.freight=0,e.totalnums=0,t.basketListData=i.list},function(t){console.log(["获取购物篮列表失败",t])})}function c(t){a.show(t),setTimeout(function(){a.hide()},600)}console.log("shopBasketController"),t.selectMenu=4,t.orderProducts=[],n(),t.addnum=function(a,o){o.stopPropagation(),a.count++,console.log(a.count),i.basketeditnum("/mall/shoppingcart.ashx",{action:"update",sku_id:a.sku_id,count:a.count},function(i,o,s,n){console.log(i),0==i.errcode?(e.$broadcast("getShopNums",{}),1==a.selected&&(t.productTotalPrice+=a.price)):(a.count=a.max_count,e.$broadcast("getShopNums",{}),c(i.errmsg))},function(t,e,i,a){console.log(t)})},t.delnum=function(a,o){o.stopPropagation(),console.log(a.count),a.count>1?(a.count--,i.basketeditnum("/mall/shoppingcart.ashx",{action:"update",sku_id:a.sku_id,count:a.count},function(i,o,s,n){console.log(i),0==i.errcode&&(e.$broadcast("getShopNums",{}),1==a.selected&&(t.productTotalPrice-=a.price))},function(t,e,i,a){console.log(t)})):(a.count=1,e.$broadcast("getShopNums",{}))},t.checknum=function(a){console.log(a),a.count>1?i.basketeditnum("/mall/shoppingcart.ashx",{action:"update",sku_id:a.sku_id,count:a.count},function(o,s,n,r){0==o.errcode?(t.productTotalPrice=0,angular.forEach(t.basketListData,function(e){1==e.selected&&(t.productTotalPrice+=e.price*e.count)}),e.$broadcast("getShopNums",{})):(c(o.errmsg),a.count=a.max_count,i.basketeditnum("/mall/shoppingcart.ashx",{action:"update",sku_id:a.sku_id,count:a.count},function(i,a,o,s){t.productTotalPrice=0,e.totalnums=0,angular.forEach(t.basketListData,function(e){1==e.selected&&(t.productTotalPrice+=e.price*e.count)}),e.$broadcast("getShopNums",{})},function(t,e,i,a){})),console.log(o)},function(t,e,i,a){console.log(t)}):(a.count=1,i.basketeditnum("/mall/shoppingcart.ashx",{action:"update",sku_id:a.sku_id,count:a.count},function(i,a,o,s){t.productTotalPrice=0,angular.forEach(t.basketListData,function(e){1==e.selected&&(t.productTotalPrice+=e.price*e.count)}),e.$broadcast("getShopNums",{})},function(t,e,i,a){}))},t.delme=function(a,s){s.stopPropagation();var c=o.confirm({title:"友情提示",template:"确认要删除这个商品吗？",cssClass:"borderradius5px",cancelText:"取消",cancelType:"button button-clear button-positive",okText:"确认",okType:"button button-clear button-positive"});c.then(function(o){o?(console.log(a),i.basketdel("/mall/shoppingcart.ashx",{action:"delete",cart_ids:a.cart_id},function(i,a,o,s){console.log("删除物品成功"),t.selectedall=!1,e.$broadcast("getShopNums",{}),n()},function(t,e,i,a){console.log("删除物品失败")})):console.log("取消取消订单")})},t.slectemeBtn=function(e){e.selected=!e.selected,console.log(e.selected);var i=!0;t.basketListData.filter(function(t){t.selected||(i=!1)}),t.selectedall=i,t.productTotalPrice=0,angular.forEach(t.basketListData,function(e){1==e.selected&&(t.productTotalPrice+=e.price*e.count)})},t.selectedall=!1,t.selectedallBtn=function(){0!=t.basketListData.length&&(t.selectedall=!t.selectedall,angular.forEach(t.basketListData,function(e){e.selected=t.selectedall,t.productTotalPrice=0,angular.forEach(t.basketListData,function(e){1==e.selected&&(t.productTotalPrice+=e.price*e.count)})}))},t.goCreateOrder=function(){var e=-1;for(var i in t.basketListData)1==t.basketListData[i].selected&&(e++,t.orderProducts[e]={},t.orderProducts[e].title=t.basketListData[i].title,t.orderProducts[e].properties=t.basketListData[i].properties,t.orderProducts[e].img_url=t.basketListData[i].img_url,t.orderProducts[e].count=t.basketListData[i].max_count,t.orderProducts[e].price=t.basketListData[i].price,t.orderProducts[e].num=t.basketListData[i].count,t.orderProducts[e].product_id=t.basketListData[i].product_id,t.orderProducts[e].quote_price=t.basketListData[i].quote_price,t.orderProducts[e].sku_id=t.basketListData[i].sku_id,t.orderProducts[e].tags=t.basketListData[i].tags);0!=t.orderProducts.length?(window.sessionStorage.setItem("orderProducts",JSON.stringify(t.orderProducts)),s.go("createOrder")):c("请至少选择一件商品哦！")}}t.$inject=["$scope","$rootScope","mAPI","wLoading","wPopup","$state"],angular.module("shop").controller("shopBasketController",t)}(),function(){"use strict";function t(t,e,i,a,o,s){function n(){(""==_.MALLCONFIG.mallconfignew.product_img_ratio1||""==_.MALLCONFIG.mallconfignew.product_img_ratio2)&&(_.MALLCONFIG.mallconfignew.product_img_ratio1=1,_.MALLCONFIG.mallconfignew.product_img_ratio2=1),r(),d(),a(function(){$("#sale").width()<screen.width&&($("#sale").css("width",screen.width),console.log("正常"))},1e3)}function c(){window.sessionStorage.removeItem("orderStatu")}function r(){var t={action:"listbytype",slide_type:"promotion"};o.getSlideByType(t).then(function(t){console.log(["slide获取数据成功",t]),_.sliderdata=t.list})["catch"](function(t){console.log(["slide获取数据失败",t])})}function d(){var t={action:"list",pageindex:1,pagesize:10};o.getSaleList(t).then(function(t){console.log(["获取限时特卖活动列表成功",t]),_.scrollxyData=t.list,_.currSelectSale=t.list[0],l(t.list[0]);for(var e=0;e<_.scrollxyData.length;e++)_.scrollxyData[0].isSelected=0,v(_.scrollxyData[e]);v(t.list[0])})["catch"](function(t){console.log(["获取限时特卖活动列表失败",t])})}function l(t){v(t),_.dataloading=!0,_.activityId=t.promotion_activity_id;var e={promotion_activity_id:t.promotion_activity_id,pageindex:_.pageindex,pagesize:_.pagesize,price_sort:_.pageData.priceRank,discount_sort:_.pageData.discountRank};o.getSaleProductList(e).then(function(t){console.log(["获取限时特卖活动商品列表成功",t]),g(),_.saleProductList=_.saleProductList.concat(t.list);for(var e=0;e<_.saleProductList.length;e++)_.saleProductList[e].isOnTheSale=_.isProOnTheSale;console.log("123",_.saleProductList),_.pageindex++,a(function(){_.dataloading=!1}),t.list.length<_.pagesize&&(_.loadingEndTag=!0,_.loadingTag=!1)})["catch"](function(t){console.log(["获取限时特卖活动商品列表失败",t])})}function u(){console.log("加载更多。。。。"),_.dataloading||(console.log("到底"),l(_.currSelectSale))}function p(t){0==t?(_.pageindex=1,_.pagesize=5,_.dataloading=!1,_.loadingEndTag=!1,_.loadingTag=!0,_.saleProductList=[],_.pageData.priceRank=_.pageData.priceAdd%2==0?"price_asc":"price_desc",l(_.currSelectSale),_.pageData.priceAdd++):1==t&&(_.pageindex=1,_.pagesize=5,_.dataloading=!1,_.loadingEndTag=!1,_.loadingTag=!0,_.saleProductList=[],_.pageData.discountRank=_.pageData.discountAdd%2==0?"discount_asc":"discount_desc",l(_.currSelectSale),_.pageData.discountAdd++)}function v(t){var e=new Date,i=e.getTime();_.startCompare=t.promotion_activity_start_time-i,_.stopCompare=t.promotion_activity_stop_time-i;for(var a=0;a<_.scrollxyData.length;a++)t.promotion_activity_id==_.scrollxyData[a].promotion_activity_id&&(_.startCompare<0&&_.stopCompare>0?(_.leftName="结束",_.isProOnTheSale=!0,_.scrollxyData[a].status=0,_.diffTime=t.promotion_activity_stop_time):_.startCompare>0?(_.leftName="开抢",_.isProOnTheSale=!1,_.scrollxyData[a].status=1,_.diffTime=t.promotion_activity_start_time):_.stopCompare<0&&(_.leftName="活动已结束",_.isProOnTheSale=!1,_.scrollxyData[a].status=2));m()}function g(){var t=0;t=_.diffTime-(new Date).getTime()>0?_.diffTime-(new Date).getTime():(new Date).getTime()-_.diffTime;var e=parseInt(t/1e3/60/60/24,10),i=parseInt(t/1e3/60/60%24,10),a=parseInt(t/1e3/60%60,10),o=parseInt(t/1e3%60,10);_.pageData.leftDay=h(e),_.pageData.leftHour=h(i),_.pageData.leftMinus=h(a),_.pageData.leftSecond=h(o)}function m(){_.pageData.interval=i(function(){g(),console.log("倒计时循环")},1e3,0)}function f(){i.cancel(_.pageData.interval)}function h(t){return 10>t&&(t="0"+t),t}function b(t,e){_.pageindex=1,_.pagesize=5,_.dataloading=!1,_.loadingEndTag=!1,_.loadingTag=!0,_.saleProductList=[],_.currSelectSale=t;for(var i=0;i<_.scrollxyData.length;i++)_.scrollxyData[i].isSelected=-8,t.promotion_activity_id==_.scrollxyData[i].promotion_activity_id&&(0==_.scrollxyData[i].status&&(_.scrollxyData[i].status=3),_.scrollxyData[i].isSelected=e);l(t)}var _=this;_.title="限时特卖",_.sliderdata=[],_.currSelectSale=[],_.MALLCONFIG=s,_.pageindex=1,_.pagesize=5,_.dataloading=!1,_.loadingEndTag=!1,_.loadingTag=!0,_.saleProductList=[],_.showscrollx=!0,_.scrollxyData=[{count:111,url:"http://wap.baidu.com"},{count:112,url:"http://wap.baidu.com"},{count:113,url:"http://wap.baidu.com"},{count:114,url:"http://wap.baidu.com"},{count:115,url:"http://wap.baidu.com"},{count:116,url:"http://wap.baidu.com"},{count:117,url:"http://wap.baidu.com"},{count:118,url:"http://wap.baidu.com"},{count:119,url:"http://wap.baidu.com"},{count:120,url:"http://wap.baidu.com"},{count:111,url:"http://wap.baidu.com"},{count:112,url:"http://wap.baidu.com"},{count:113,url:"http://wap.baidu.com"},{count:114,url:"http://wap.baidu.com"},{count:115,url:"http://wap.baidu.com"},{count:116,url:"http://wap.baidu.com"},{count:117,url:"http://wap.baidu.com"},{count:118,url:"http://wap.baidu.com"},{count:119,url:"http://wap.baidu.com"},{count:120,url:"http://wap.baidu.com"}],_.isProOnTheSale=!1,_.leftName="",_.startCompare=0,_.stopCompare=0,_.diffTime=0,_.screenWidth=0,_.pageData={interval:{},leftDay:"",leftHour:"",leftMinus:"",leftSecond:"",priceAdd:0,discountAdd:0,priceRank:"",discountRank:""},_.clearHistory=c,_.getSaleSlide=r,_.getSaleList=d,_.getSaleProductList=l,_.tabClick=p,_.judgeTime=v,_.timer=g,_.startInterval=m,_.closeInterval=f,_.loadMoreData=u,_.clickWeek=b,n()}t.$inject=["$scope","$filter","$interval","$timeout","nAPI","MALLCONFIG"],angular.module("shop").controller("saleListCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n,c){function r(t){i.show(t),setTimeout(function(){i.hide()},600)}var d=e.pageData={action:"list",list:"",singleAction:"get",address_id:"",deleteAction:"delete",setAction:"setdefault"},l=e.pageFunc={};l.receiveAddressListFunc=function(){t.receiveAddressList("/mall/deliveraddress.ashx",{action:d.action},function(t,i,a,o){t?(console.log(["获取地址成功",t]),d.list=t.list,1==t.list.length&&(l.setDefaultReceiveAdd(t.list[0]),e.isone=!0)):console.log(["获取地址失败",t])},function(t,e,i,a){console.log(["获取地址请求失败",t])})},e.isGotoCreateBtn=function(t){if(console.log(n.siteName),console.log(t),void 0!=n.siteName){var e=c.decodeURIComponent(n.siteparams);e=angular.fromJson(e),console.log(e),e.addressId=t.address_id,s.go(n.siteName,e)}else console.log("不是从创建订单过来的,我还是呆在这边吧")},l.deleteReceiveAddress=function(e){var i=a.confirm({title:"友情提示",template:"确认要删除这个地址吗？",cssClass:"borderradius5px",cancelText:"取消",cancelType:"button button-clear button-positive",okText:"确认",okType:"button button-clear button-positive"});i.then(function(i){i?t.deleteReceiveAddress("/mall/deliveraddress.ashx",{action:d.deleteAction,address_id:e},function(t,e,i,a){0==t.errcode?(r("删除收货地址成功"),l.receiveAddressListFunc()):(console.log(["删除收货地址失败",t]),r("删除收货地址失败"))},function(t,e,i,a){console.log(["请求删除收货地址失败",t]),r("删除收货地址失败")}):console.log("取消删除地址")})},l.setDefaultReceiveAdd=function(i){t.deleteReceiveAddress("/mall/deliveraddress.ashx",{action:d.setAction,address_id:i.address_id},function(t,a,o,s){0==t.errcode?(console.log(["设置默认收货地址成功",t]),i.isdefault=1,1==e.isone?console.log("只有一个收获地址"):l.receiveAddressListFunc(),d.list.length>1&&r("设置默认收货地址成功")):(console.log(["设置默认收货地址失败",t]),r("设置默认收货地址失败"))},function(t,e,i,a){console.log(["请求设置默认收货地址失败",t]),r("设置默认收货地址失败")})},l.init=function(){l.receiveAddressListFunc()},l.init()}t.$inject=["mAPI","$scope","wLoading","wPopup","$rootScope","$state","$stateParams","$window"],angular.module("shop").controller("receiveAddressListController",t)}(),function(){"use strict";function t(t,e,i,a,o){function s(){e.receiveAddressList("/mall/deliveraddress.ashx",{action:"list"},function(t,e,i,a){t?(console.log(["获取地址成功",t.list.length]),t.list.length>=1&&history.go(-1)):console.log(["获取地址失败",t.list.length])},function(t,e,i,a){console.log(["获取地址请求失败",t])})}var n=t.pageData={id:i.addressId,action:"add",getAction:"get",updateAction:"update",proAction:"provinces",cityAction:"cities",disAction:"districts",consigneename:"",address:"",zip_code:"",phone:"",isdefault:"",data:"",provinceList:[],province:null,cityList:[{code:"0",name:"请选择城市"}],city:"",districtList:[{code:"0",name:"请选择区"}],district:""},c=t.pageFunc={};c.addReceiveAddress=function(){return 0==c.allCheck()?!1:void(void 0==n.id?e.addReceiveAddress("/mall/deliveraddress.ashx",{action:n.action,consigneename:n.consigneename,address:n.address,province:n.province.name,province_code:n.province.code,city:n.city.name,city_code:n.city.code,dist:n.district.name,dist_code:n.district.code,zip_code:n.zip_code,phone:n.phone,isdefault:n.isdefault},function(t,e,i,o){if(0==t.errcode){console.log(["新增收货地址成功",t]);var s="新增收货地址成功";history.go(-1)}else if(10010==t.errcode)console.log("请先登录"),popUp(t.errmsg,function(){a.go("login")});else{console.log(["新增收货失败",t]);var s="新增收货失败";popUp(s,function(){})}},function(t,e,i,a){console.log(["请求新增收货地址失败",t]);var o="请求新增收货地址失败";popUp(o,function(){})}):e.updateReceiveAdd("/mall/deliveraddress.ashx",{action:n.updateAction,address_id:n.id,consigneename:n.consigneename,address:n.address,province:n.province.name,province_code:n.province.code,city:n.city.name,city_code:n.city.code,dist:n.district.name,dist_code:n.district.code,zip_code:n.zip_code,phone:n.phone,isdefault:n.isdefault},function(t,e,i,a){if(0==t.errcode){console.log(["修改收货地址成功",t]);var o="修改收货地址成功";s(),c.clearAll()}else{console.log(["修改收货失败",t]);var o="修改收货失败";popUp(o,function(){})}},function(t,e,i,a){console.log(["请求修改收货地址失败",t]);var o="请求修改收货地址失败";popUp(o,function(){})}))},c.getCity=function(){var t={code:"0",name:"请选择所属城市"},i={code:"0",name:"请选择所属区"};e.getCity("/mall/area.ashx",{action:n.cityAction,province_code:n.province.code},function(e,a,o,s){e?(n.cityList=e.list,n.cityList.unshift(t),n.city=n.cityList[0],n.districtList=[],n.districtList.unshift(i),n.district=n.districtList[0]):console.log(["获取城市失败",e])},function(t,e,i,a){})},c.getDistrict=function(){var t={code:"0",name:"请选择所属区"};e.getDistrict("/mall/area.ashx",{action:n.disAction,city_code:n.city.code},function(e,i,a,o){e&&(n.districtList=e.list,n.districtList.unshift(t),n.district=n.districtList[0])},function(t,e,i,a){})},c.getSingleReceiveAddress=function(){e.getSingleReceiveAddress("/mall/deliveraddress.ashx",{action:n.getAction,address_id:n.id},function(i,a,o,s){console.log(i),i?(console.log(["获取单个收货地址成功",i]),n.consigneename=i.consigneename,n.phone=i.phone,n.address=i.address,n.zip_code=i.zip_code,n.isdefault=i.isdefault,t.provincecode=i.province_code,t.citycode=i.city_code,t.distcode=i.dist_code,e.getProvince("/mall/area.ashx",{action:"provinces"},function(e,i,a,o){console.log(e);for(var s in e.list)e.list[s].code==t.provincecode&&(n.province.name=e.list[s].name,n.province.code=e.list[s].code)},function(t,e,i,a){console.log(["请求获取省份失败",t])}),t.provincecode=i.province_code,e.getCity("/mall/area.ashx",{action:"cities",province_code:t.provincecode},function(e,i,a,o){console.log(e);for(var s in e.list)e.list[s].code==t.citycode&&(n.city.name=e.list[s].name,n.city.code=e.list[s].code);n.cityList=n.cityList.concat(e.list)},function(t,e,i,a){console.log(["请求获取省份失败",t])}),e.getDistrict("/mall/area.ashx",{action:"districts",city_code:t.citycode},function(e,i,a,o){console.log(e);for(var s in e.list)e.list[s].code==t.distcode&&(n.district.name=e.list[s].name,n.district.code=e.list[s].code);n.districtList=n.districtList.concat(e.list)},function(t,e,i,a){console.log(["请求获取省份失败",t])})):console.log(["获取单个收货地址失败",i])},function(t,e,i,a){console.log(["请求获取单个收货地址失败",t])})},c.allCheck=function(){if(""==n.consigneename){console.log("姓名为空");var t=o.alert({title:"友情提示",template:"姓名不能为空",okText:"知道了",okType:"button button-clear button-positive"});return t.then(function(t){}),!1}if(""==n.address){console.log("地址为空");var t=o.alert({title:"友情提示",template:"地址不能为空",okText:"知道了",okType:"button button-clear button-positive"});return t.then(function(t){}),!1}if(""==n.phone){console.log("手机号为空");var t=o.alert({title:"友情提示",template:"手机号不能为空",okText:"知道了",okType:"button button-clear button-positive"});return t.then(function(t){}),!1}if(!c.isPhone(n.phone)){console.log("手机号无效");var t=o.alert({title:"友情提示",template:"您填写的是无效的手机号",okText:"知道了",okType:"button button-clear button-positive"});return t.then(function(t){}),!1}if("0"==n.province.code){console.log("没有填写省份");var t=o.alert({title:"友情提示",template:"您选择省份",okText:"知道了",okType:"button button-clear button-positive"});return t.then(function(t){}),!1}if("0"==n.city.code){console.log("没有填写城市");var t=o.alert({title:"友情提示",template:"您选择城市",okText:"知道了",okType:"button button-clear button-positive"});return t.then(function(t){}),!1}if("0"==n.district.code){console.log("没有填写区");var t=o.alert({title:"友情提示",template:"您选择区域",okText:"知道了",okType:"button button-clear button-positive"});return t.then(function(t){}),!1}return!0},c.isPhone=function(t){var e=/(^(([0\+]\d{2,3}-)?(0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$)|(^0{0,1}1[3|4|5|6|7|8|9][0-9]{9}$)/;return e.test(t)?!0:!1},c.clearAll=function(){n.consigneename="",n.address="",n.province.name="请选择省份",n.province.code="0",n.city.name="请选择市",n.city.code="0",n.district.name="请选择区",n.district.code="0",n.zip_code="",n.phone="",n.isdefault=""},c.init=function(){var t={code:"0",name:"请选择省份"};n.city=n.cityList[0],n.district=n.districtList[0],e.getProvince("/mall/area.ashx",{action:n.proAction},function(e,i,a,o){e?(n.provinceList=e.list,n.provinceList.unshift(t),n.province=n.provinceList[0]):console.log(["获取省份失败",e])},function(t,e,i,a){console.log(["请求获取省份失败",t])}),void 0!=n.id&&c.getSingleReceiveAddress()},c.init()}t.$inject=["$scope","mAPI","$stateParams","$state","wPopup"],angular.module("shop").controller("receiveAddressController",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n,c,r,d,l){function u(){i.pdCatrgory().then(function(t){var e={category_name:"全部",category_id:"",
isme:!0};t.list.unshift(e),v.catDate=t.list,sessionStorage.setItem("catDate",JSON.stringify(v.catDate))})}function p(){var t={action:"list",pageindex:v.pageindex,pagesize:v.pagesize,keyword:v.keywordID,category_id:v.catID,tags:v.tagID,color_name:v.colorID,size_name:v.sizeID,sort:v.updownID,is_have_relation_product_id:1};if("y"==v.hasDisTime){var e=d.sessionStorage.getItem("jikuCreatOrderTime");if(e){var o=angular.fromJson(e);if(""!==o.departure_date){var s=new Date(o.departure_date);console.log("timeStorage.departure_date",o.departure_date);var n=s.getMonth()+1,l=s.getDate();10>n&&(n="0"+n),10>l&&(l="0"+l),t.start_time=s.getFullYear()+"/"+n+"/"+l}}}v.dataloading=!0;i.pdList(t).then(function(t){v.productListData=v.productListData.concat(t.list),console.log(["more productListDate",t.list]),v.pageindex++,a(function(){v.dataloading=!1}),t.list.length<v.pagesize&&(v.loadingEndTag=!0,v.loadingTag=!1),c.title=v.navName,c.desc=v.navName,c.link=location.href,c.imgUrl=v.productListData[0].img_url,console.log(["shopInfo",c]),r.share(c)})["catch"](function(t){console.log(["error",v.productListDate])})}r.share(c);var v=this;t.selectMenu=2,v.keywordID=n.keywordID?n.keywordID:"",v.catID=n.catID?n.catID:"",v.tagID=n.tagID?n.tagID:"",v.updownID=n.updownID?n.updownID:"",v.colorID=n.colorID?n.colorID:"",v.sizeID=n.sizeID?n.sizeID:"",v.navName=n.navName?n.navName:"全部商品",v.hasDisTime=n.hasDisTime?n.hasDisTime:"",v.selected=1,v.MALLCONFIG=l,console.log("=========",v.MALLCONFIG),(""==v.MALLCONFIG.mallconfignew.product_img_ratio1||""==v.MALLCONFIG.mallconfignew.product_img_ratio2)&&(v.MALLCONFIG.mallconfignew.product_img_ratio1=1,v.MALLCONFIG.mallconfignew.product_img_ratio2=1),v.pageData={},v.productListData=[],v.pageindex=1,v.pagesize=10,v.dataloading=!1,v.loadingEndTag=!1,v.loadingTag=!0,v.show=0;var g=sessionStorage.getItem("catDate");g?v.catDate=JSON.parse(g):(v.catDate="",u()),v.tagchangge=function(t){v.show=t},v.navswitch=function(t){v.catID=t.category_id,v.pageindex=1,v.productListData=[],p();for(var e in v.catDate)v.catDate[e].isme=v.catDate[e].category_id==t.category_id?!0:!1};var m=window.sessionStorage.getItem("productListStorage");window.sessionStorage.removeItem("productListStorage"),m=JSON.parse(m),console.log(["跳回来productListStorageData",m]),m&&(v.productListData=m.data,v.pageindex=m.pageindex,v.pagesize=m.pagesize),v.goProductDetail=function(t){t.access_level>l.mallconfignew.access_level?window.location.href=l.mallconfignew.is_member?l.mallconfignew.nopms_url:l.mallconfignew.apply_url:o.go("productDetail",{id:t.product_id})},p();var f=$(".wrap-jiku-product-list").dropload({autoLoad:!1,scrollArea:window,loadUpFn:function(t){setTimeout(function(){o.reload()},1e3)}});f.lock("down"),v.loadMoreData=function(){console.log("加载更多。。。。"),v.dataloading||(console.log("到底"),p())},v.searchMask=0,v.pageData.searchInfo="",v.pageData.searchInfo=v.keywordID,v.searchBtn=0,v.searchRelateMask=0,v.conditionSort=0,v.placeholder="搜索商品",v.startSearch=function(){$(".product-list-wrap .header .search-wrap").css("width","72%"),v.sideMenus=0,v.pageData.searchInfo?(v.quxiao=0,v.searchMask=0,v.searchBtn=1,v.searchRelateMask=1):(v.quxiao=1,v.searchMask=1,v.searchBtn=0,v.searchRelateMask=0)},v.cancelSearch=function(){$(".product-list-wrap .header .search-wrap").css("width","86%"),v.pageData.searchInfo=v.keywordID,v.placeholder="搜索商品",v.quxiao=0,v.searchMask=0},v.nosearch=function(){$(".product-list-wrap .header .search-wrap").css("width","86%"),v.placeholder="搜索商品",v.quxiao=0,v.searchMask=0,v.searchRelateMask=0},v.checkSearchInfo=function(){v.pageData.searchInfo?(v.quxiao=0,v.searchMask=0,v.searchBtn=1,v.searchRelateMask=1):(v.quxiao=1,v.searchMask=1,v.searchBtn=0,v.searchRelateMask=0)},v.goSearch=function(){$(".product-list-wrap .header .search-wrap").css("width","86%"),v.quxiao=1,v.searchMask=1,v.searchBtn=0,v.searchRelateMask=0,console.log(["vm.pageData.searchInfo",v.pageData.searchInfo]),v.placeholder="搜索商品",v.searchBtn=0,v.searchMask=0,v.searchRelateMask=0,a(function(){o.go("productList",{keywordID:v.pageData.searchInfo})})};var h=[{prop_id:"",prop_name:"默认排序"},{prop_id:"price_asc",prop_name:"价格最低"},{prop_id:"price_desc",prop_name:"价格最高"},{prop_id:"time_asc",prop_name:"最新上架"},{prop_id:"time_desc",prop_name:"最早上架"}];v.showSelectSort=function(){1==v.conditionSort?v.conditionSort=0:(v.conditionSort=1,v.conditionListData=[],v.conditionListData=h)},v.showSelectColor=function(){if(2==v.conditionSort)v.conditionSort=0;else{v.conditionSort=2;{i.colorList().then(function(t){v.conditionListData=[],v.conditionListData=t.list,console.log(["获取颜色列表成功",t])})["catch"](function(t){})}}},v.showSelectSize=function(){if(3==v.conditionSort)v.conditionSort=0;else{v.conditionSort=3;{i.sizeList().then(function(t){v.conditionListData=[],v.conditionListData=t.list,console.log(["获取尺码列表成功",t])})["catch"](function(t){})}}},v.closeCondition=function(){v.conditionSort=0},t.$on("ngRepeatFinished",function(t){new IScroll("#wrapper1",{mouseWheel:!0,click:!0})}),v.sortByPrice=function(t){v.updownID=t,v.productListData=[],v.pageindex=1,v.pagesize=10,v.dataloading=!1,v.loadingEndTag=!1,v.loadingTag=!0,p()},v.goSearchProductList=function(t,e,i){1==t?(v.updownID=i,v.productListData=[],v.pageindex=1,v.pagesize=10,v.dataloading=!1,v.loadingEndTag=!1,v.loadingTag=!0,v.conditionSort=0,p()):2==t?o.go("productList",{colorID:e}):3==t&&o.go("productList",{sizeID:e})}}t.$inject=["$scope","$rootScope","nAPI","$timeout","$state","$q","$stateParams","shopInfo","wxAPI","$window","MALLCONFIG"],angular.module("shop").controller("productListController",t)}(),function(){"use strict";function t(t){return function(e,i){e=angular.copy(e),i=angular.copy(i);for(var a=t(e),o=0;o<e.length;o++)for(var s=0;s<e[o].values.length;s++){var n=e[o].values[s].p_id+":"+e[o].values[s].v_id;e[o].values[s].countnum=0;for(var c=0;c<i.length;c++)if(a.length>0){for(var r=0,d=0;d<a.length;d++)(a[d].pi===o||i[c].properties.match(a[d].matchtext))&&r++;r===a.length&&i[c].properties.match(n)&&(e[o].values[s].countnum+=i[c].count)}else i[c].properties.match(n)&&(e[o].values[s].countnum+=i[c].count)}return{skucheckdata:e,checkedsku:a}}}function e(){return function(t){for(var e=[],i=0;i<t.length;i++)for(var a=0;a<t[i].values.length;a++){var o=t[i].values[a].p_id+":"+t[i].values[a].v_id+":"+t[i].name+":"+t[i].values[a].value;t[i].values[a].checked&&e.push({pi:i,vi:a,matchtext:o,p_id:t[i].values[a].p_id,v_id:t[i].values[a].v_id,name:t[i].name,value:t[i].values[a].value})}return e}}t.$inject=["getCheckedSku"],angular.module("shop").factory("checkSkuNum",t).factory("getCheckedSku",e)}(),function(){"use strict";function t(t,e,i,a,o,s,n,c,r,d,l,u,p,v,g,m){function f(){c.addToCar({action:"add",sku_id:t.orderProduct.sku_id,count:t.orderProduct.num}).then(function(e){if(0===e.errcode)console.log(["加入购物篮成功",e]),t.skuClose(),u.show("加入购物车成功"),a.shop_nums=0,h(),s(function(){u.hide()},1e3);else{var i=p.alert({title:"提示信息",template:e.errmsg});i.then(function(t){}),console.log(["加入购物篮失败",e])}})["catch"](function(t){var e=p.alert({title:"提示信息",template:t.errmsg});e.then(function(t){}),console.log(["加入购物篮失败",t])})}function h(){r.basketList("/mall/shoppingcart.ashx",{action:"list"},function(e){if(console.log(["获取购物篮列表成功",e]),e.list&&0==e.list.length)t.is_shownums=!1;else{t.is_shownums=!0;for(var i in e.list)a.shop_nums+=e.list[i].count,console.log(a.shop_nums)}})}window.sessionStorage.removeItem("orderProducts"),t.orderProduct={},t.selectAll=!1,t.orderProduct.num=1,t.noSKU=!1,t.buynow=!1,t.MALLCONFIG=m,console.log("$scope.MALLCONFIG",m),t.productId=i.id;var b=c.pdDetail(t.productId).then(function(e){t.productDetailData=e,t.productDetailData.product_desc=n.trustAsHtml(t.productDetailData.product_desc),t.leftProductCount=t.productDetailData.totalcount,console.log(["$scope.productDetailData",t.productDetailData]),t.productDetailData.totalcount=0,angular.forEach(t.productDetailData.skus,function(e,i){t.productDetailData.totalcount+=e.count,console.log(["$scope.productDetailData.totalcount",t.productDetailData.totalcount])}),t.orderProduct.img_url=t.productDetailData.img_url,t.orderProduct.quote_price=t.productDetailData.quote_price,t.orderProduct.title=t.productDetailData.title,t.orderProduct.count=t.productDetailData.totalcount,t.orderProduct.price=t.productDetailData.price,t.orderProduct.product_id=t.productDetailData.product_id;location.href;v.title=t.productDetailData.title,v.desc=t.productDetailData.product_summary,v.link=location.origin+location.pathname+"?ngroute="+location.hash.substring(1)+"#"+location.hash.substring(1),v.imgUrl=t.productDetailData.img_url,console.log(["shopInfo",v]),g.share(v)})["catch"](function(t){t.access_level>m.mallconfignew.access_level&&(window.location.href=m.mallconfignew.is_member||m.mallconfignew.is_login===!1?m.mallconfignew.nopms_url:m.mallconfignew.apply_url)});o.resolve(b).then(function(){t.sliderdata=[],t.picsData={},t.picsData.datalist=t.productDetailData.show_img_list,t.picsData.ratio="640:700",t.sliderdata[0]=t.picsData,console.log(["$scope.sliderdata",t.sliderdata])});var _=c.pdProperty(t.productId).then(function(e){t.productPropertyData=e.list,"undefined"==typeof t.productPropertyData||0==t.productPropertyData.length?(t.noSKU=!0,console.log(["$scope.noSKU",t.noSKU])):angular.forEach(t.productPropertyData,function(t,e){angular.forEach(t.values,function(t,e){t.checked=!1})}),console.log(["$scope.productPropertyData",t.productPropertyData])})["catch"](function(){});o.all([b,_]).then(function(){if(!t.noSKU){var e=l(t.productPropertyData,t.productDetailData.skus);t.productPropertyData=e.skucheckdata}})["catch"](function(){}),t.selectSkuValue=function(e,i){if(console.log(e,i),!(t.productPropertyData[e].values[i].countnum<=0)){for(var a=0;a<t.productPropertyData.length;a++)for(var o=0;o<t.productPropertyData[a].values.length;o++)a==e&&(t.productPropertyData[a].values[o].checked=o==i&&0==t.productPropertyData[a].values[o].checked?!0:!1);var s=l(t.productPropertyData,t.productDetailData.skus);if(t.productPropertyData=s.skucheckdata,t.orderProduct.count=t.orderProduct.totalcount,t.selectAll=!1,s.checkedsku.length>0&&s.checkedsku.length===s.skucheckdata.length){for(var n=[],c=0;c<s.checkedsku.length;c++)n.push(s.checkedsku[c].matchtext);var r=t.productDetailData.skus.filter(function(t){return t.properties.match(n.join(";"))});t.orderProduct=angular.extend(t.orderProduct,r[0]),t.orderProduct.num>t.orderProduct.count&&(t.orderProduct.num=t.orderProduct.count),t.selectAll=!0}console.log(s.skucheckdata,s.checkedsku)}},t.delNum=function(){if(t.orderProduct.num<=0){var e=p.alert({title:"提示信息",template:"不能再少了哦"});e.then(function(t){})}else t.orderProduct.num=t.orderProduct.num-1},t.addNum=function(){if(t.orderProduct.num>=t.orderProduct.count){var e=p.alert({title:"提示信息",template:"不能再多了哦"});e.then(function(t){}),t.orderProduct.num=t.orderProduct.count}else t.orderProduct.num=t.orderProduct.num+1},t.checknum=function(){if(t.orderProduct.num>t.orderProduct.count){t.orderProduct.num=t.orderProduct.count;var e=p.alert({title:"提示信息",template:"您所填写的商品数量超过库存"});e.then(function(t){})}if(t.orderProduct.num<1)if(""===t.orderProduct.num);else{t.orderProduct.num=1;var e=p.alert({title:"提示信息",template:"请选择至少选择一件商品"});e.then(function(t){})}},t.buySure=function(){if(0==t.leftProductCount){var i=p.alert({title:"提示信息",template:"当前商品已经没有了哦，请看看其他商品"});return void i.then(function(t){})}if(0==t.orderProduct.num){var i=p.alert({title:"提示信息",template:"请选择至少选择一件商品"});return void i.then(function(t){})}if(console.log(["$scope.selectAll",t.selectAll]),console.log(["$scope.noSKU",t.noSKU]),t.selectAll);else{if(!t.noSKU){var i=p.alert({title:"提示信息",template:"请选择商品规格"});return void i.then(function(t){})}t.orderProduct.properties=t.productDetailData.skus[0].properties,t.orderProduct.sku_id=t.productDetailData.skus[0].sku_id,t.orderProduct.price=t.productDetailData.skus[0].price,t.orderProduct.totalcount=t.productDetailData.skus[0].count,t.orderProduct.product_id=t.productDetailData.product_id,t.orderProduct.tags=t.productDetailData.tags}console.log(["下订单的数据",t.orderProduct]),window.sessionStorage.setItem("orderProducts",JSON.stringify([t.orderProduct])),e.go("createOrder")},t.showSkuPage=function(){t.productDetailData.properties="",t.showSKU=1,t.noSKU&&(t.orderProduct.totalcount=t.productDetailData.skus[0].count)},t.addToShopCar=function(){t.buynow=!1,t.Basket=1,t.showSkuPage()},t.buyNow=function(){t.buynow=!0,t.Basket=1,t.showSkuPage()},t.carSure=function(){if(0==t.leftProductCount){var e=p.alert({title:"提示信息",template:"当前商品已经没有了哦，请看看其他商品"});return void e.then(function(t){})}if(0==t.orderProduct.num){var e=p.alert({title:"提示信息",template:"请选择至少选择一件商品"});return void e.then(function(t){})}if(t.selectAll);else{if(!t.noSKU){var e=p.alert({title:"提示信息",template:"请选择商品规格"});return void e.then(function(t){})}t.orderProduct.sku_id=t.productDetailData.skus[0].sku_id}f(),console.log(["加入购物篮商品数据",t.orderProduct])},$(".sku-page")[0]&&$(".sku-page")[0].addEventListener("touchmove",function(t){t.preventDefault()}),t.showSKU=0,t.showSku=function(){t.showSKU=1},t.skuClose=function(){t.showSKU=0},t.addCollectFunc=function(){c.addCollect(t.productId).then(function(e){console.log(["收藏商品成功",e]),0==e.errcode&&(t.productDetailData.is_collect=1)})["catch"](function(t){})},t.delCollectFunc=function(){c.delCollect(t.productId).then(function(e){console.log(["删除收藏商品成功",e]),0==e.errcode&&(t.productDetailData.is_collect=0)})["catch"](function(t){})},a.shop_nums=0,h(),t.showGiftBtn=function(){console.log("送礼"),t.showGiftBuy()},t.showGiftBuy=function(){console.log(["$scope.productDetailData.totalcount",t.productDetailData.totalcount]),t.showSkuPage(),t.Basket=2},t.giveGiftBtn=function(){if(0==t.leftProductCount){var i=p.alert({title:"提示信息",template:"当前商品已经没有了哦，请看看其他商品"});return void i.then(function(t){})}if(t.selectAll);else{if(!t.noSKU){var i=p.alert({title:"提示信息",template:"请选择商品规格"});return void i.then(function(t){})}t.orderProduct.properties=t.productDetailData.skus[0].properties,t.orderProduct.sku_id=t.productDetailData.skus[0].sku_id,t.orderProduct.price=t.productDetailData.skus[0].price,t.orderProduct.count=t.productDetailData.skus[0].count,t.orderProduct.product_id=t.productDetailData.product_id}t.orderProduct.title=t.productDetailData.title,t.orderProduct.product_id=t.productDetailData.product_id,t.orderProduct.quote_price=t.productDetailData.quote_price,t.orderProduct.img_url=t.productDetailData.img_url,console.log(["礼品订单的数据",t.orderProduct]),window.sessionStorage.setItem("giftorder",JSON.stringify([t.orderProduct])),e.go("paygift")},t.goToOtherUrl=function(){window.location.href="/customize/comeoncloud/Index.aspx?key=MallHome"}}t.$inject=["$scope","$state","$stateParams","$rootScope","$q","$timeout","$sce","nAPI","mAPI","getCheckedSku","checkSkuNum","wLoading","wPopup","shopInfo","wxAPI","MALLCONFIG"],angular.module("shop").controller("productDetailController",t)}(),function(){"use strict";function t(t,e){t.payMoney=e.totalPrice,t.order_id=e.orderid}t.$inject=["$scope","$stateParams"],angular.module("shop").controller("paySuccessCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n,c,r,d,l,u){function p(t){var e=a.defer();return console.log(["获取订单列表请求失败",t]),e.resolve(),e.promise}function v(e){var i=a.defer();if(e){console.log(["获取订单列表成功",e]),0==e.totalcount&&(m.noOrder=!0);for(var o in e.list){e.list[o].allprice=0;for(var s in e.list[o].product_list)e.list[o].allprice+=e.list[o].product_list[s].price,null!=e.list[o].product_list[s].parent_product_id?e.list[o].depositprice=e.list[o].product_list[s].price:e.list[o].titlename=e.list[o].product_list[s].product_name}f.list=f.list.concat(e.list),e.list&&(e.list.length>=f.pageSize?(f.pageIndex++,r(function(){m.dataloading=!1})):r(function(){m.dataloading=!0,m.nodata=!0}),t.$broadcast("scroll.infiniteScrollComplete"))}else console.log(["获取订单列表失败",e]);return i.resolve("ok"),i.promise}function g(t){var e=0,i=0,a="";"极酷退款"==t?(e=1,i=0):"极酷申诉"==t?(e=0,i=1):a=t;var o={pageindex:1,pagesize:10,order_status:a,order_from_time:"",order_to_time:"",order_type:0,is_appeal:i,is_refund:e};s.odList(o).then(function(e){switch(t){case"":m.allCount=e.totalcount,h.init();break;case"待付款":m.waitPayCount=e.totalcount;break;case"待发货":m.waitGoodCount=e.totalcount;break;case"待归还":m.waitReturnCount=e.totalcount;break;case"待退押金中":m.depositCount=e.totalcount;break;case"极酷退款":m.refundCount=e.totalcount;break;case"极酷申诉":m.appealCount=e.totalcount}})["catch"](function(t){console.log(["获取订单列表请求失败",t])})}console.log("orderListController");var m=this;m.dataloading=!1,m.from_time="",m.to_time="",m.noOrder=!1,m.isAllOrder=!1,m.firstShow=!1,m.isAppeal=0,m.isRefund=0,void 0==i.status?i.status="":"is_appeal"==i.status?(m.isAppeal=1,m.isRefund=0,i.status=""):"is_refund"==i.status?(m.isAppeal=0,m.isRefund=1,i.status=""):(m.isAppeal=0,m.isRefund=0),m.clear_history=function(){window.sessionStorage.removeItem("orderStatu")},window.location.href.indexOf("infoCenter")>-1&&window.sessionStorage.removeItem("orderStatu");var f=m.pageData={offLineAction:"GetOffLineOrder",status:i.status,allCount:0,waitPayCount:0,waitGoodCount:0,waitReturnCount:0,depositCount:0,pageIndex:1,pageSize:10,list:[]},h=m.pageFunc={};m.goStatusBtn=function(t){"is_appeal"!=t&&"is_refund"!=t?(window.sessionStorage.setItem("orderStatu",t),f.status=t,m.isAppeal=0,m.isRefund=0):(window.sessionStorage.setItem("orderStatu",t),"is_appeal"==t?(m.isAppeal=1,m.isRefund=0):"is_refund"==t&&(m.isAppeal=0,m.isRefund=1),f.status=""),m.nodata=!1,f.pageIndex=1,f.list=[],h.loadData()},h.loadData=function(){m.dataloading=!0,m.title=m.isAllOrder?""==f.status?"全部订单":f.status:"退款/申诉订单";var t={pageindex:f.pageIndex,pagesize:f.pageSize,order_status:f.status,order_from_time:m.from_time,order_to_time:m.to_time,order_type:0,is_appeal:m.isAppeal,is_refund:m.isRefund};return void 0==f.status&&(f.status=""),s.odList(t).then(v)["catch"](p)},m.loadMoreData=function(){m.dataloading||(console.log("到底"),h.loadData())},h.init=function(){window.location.href.indexOf("backList")>-1?(m.isAllOrder=!1,m.isAppeal=0,m.isRefund=1):m.isAllOrder=!0,m.firstShow=!0;var t=window.sessionStorage.getItem("orderStatu");null==t||""==t||(m.isAllOrder?("is_appeal"!=t&&"is_refund"!=t&&(f.status=t),m.isAppeal=0,m.isRefund=0):("is_appeal"==t?(m.isAppeal=1,m.isRefund=0):"is_refund"==t&&(m.isAppeal=0,m.isRefund=1),window.sessionStorage.removeItem("orderStatu"),f.status="")),h.loadData()};var b=$(".wrap-order-list-body").dropload({scrollArea:window,loadUpFn:function(t){var e=h.loadData();e.then(function(){setTimeout(function(){t.resetload()},1e3)})["catch"](function(){setTimeout(function(){t.resetload()},1e3)})}});b.lock("down"),h.pay=function(t){l.pay(t.order_id).then(function(t){h.loadData()})["catch"](function(t){console.log(t)})},h.confirm=function(t){var e=d.confirm({title:"友情提示",template:"您确定收到商品了吗？",cssClass:"borderradius5px",cancelText:"取消",cancelType:"button button-clear button-positive",okText:"确认",okType:"button button-clear button-positive"});e.then(function(e){e?o.confirmreceipt({action:"receiptconfirm",order_id:m.pageData.list[t].order_id},function(e){console.log(["确认订单成功",e]),0==e.errcode?m.pageData.list[t].order_status="交易成功":(u.show(e.errmsg),setTimeout(function(){u.hide()},600))},function(t){console.log(["确认订单失败",t])}):console.log("取消确认收货")})},h.deleteorder=function(t){var e=d.confirm({title:"友情提示",template:"您确定要取消订单么？",cssClass:"borderradius5px",cancelText:"取消",cancelType:"button button-clear button-positive",okText:"确认",okType:"button button-clear button-positive"});e.then(function(e){e?o.confirmreceipt({action:"cancel",order_id:m.pageData.list[t].order_id},function(e){console.log(["取消订单成功",e]),0==e.errcode&&(m.pageData.list[t].order_status="已取消")},function(t){console.log(["取消订单失败",t])}):console.log("不要取消订单")})},g(""),g("待付款"),g("待发货"),g("待归还"),g("待退押金中"),g("极酷退款"),g("极酷申诉")}t.$inject=["$scope","$rootScope","$stateParams","$q","mAPI","nAPI","$state","$sce","$timeout","wPopup","wxAPI","wLoading"],angular.module("shop").controller("orderListController",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n,c,r){function d(){o.applyReturnMoney(k.orderData.order_id).then(l)["catch"](u)}function l(t){k.orderData.ex11=1,n.alert("申请成功"),k.loadData()}function u(t){n.alert("申请失败，再申请试试")}function p(){o.applyReturnDeposit(k.orderData.order_id).then(v)["catch"](g)}function v(t){k.orderData.ex10=1,n.alert("申请成功"),k.loadData()}function g(t){n.alert("申请失败，再申请试试")}function m(t){console.log("seeReturn"),1==t&&(k.tipconnet=k.orderData.ex19+" test"),2==t&&(k.tipconnet=k.orderData.ex21+" test"),k.tipconnet||(k.tipconnet="工作人员处理中，请稍后...");var e=n.confirm({template:'<div class="retitle fontgold">'+k.tipconnet+"</div>",cancelText:"申诉",cancelType:"contact",okText:"确定",okType:"contact"});e.then(function(t){t?console.log("确定了"):(console.log("取消了"),f())})}function f(){t.appeal={};var e=n.show({template:'<textarea rows="3" cols="20" ng-model="appeal.content" placeholder="请输入申诉理由"></textarea>',scope:t,buttons:[{text:"取消",type:"contact"},{text:"确定",type:"contact",onTap:function(t){console.log(t)}}]});e.then(function(t){console.log("Tapped!",t)})}function h(){o.odDetail(i.orderID).then(_)["catch"](b)}function b(t){console.log(t),n.alert(t.errmsg)}function _(t){if(t){console.log(["获取订单详情成功",t]);var e=t.ex2-t.ex1;t.days=parseInt(e/1e3/60/60/24,10)+1,k.showorder_detail=!0,k.orderData=t,angular.forEach(k.orderData.product_list,function(t,e){t.parent_product_id?k.sproducts.push(t):k.mainproducts.push(t),k.totalMoney+=t.count*t.price}),a.exchangerate("/mall/score.ashx",{action:"exchangerate"},function(t){0===t.errcode&&(console.log(["获取积分兑换比例成功",t]),k.exchangerateData=t,k.scoreCostMoney=parseInt(k.orderData.use_score*k.exchangerateData.amount/k.exchangerateData.score))},function(t){console.log(["获取积分兑换比例请求成功",t])}),1==t.order_type&&o.getGiftOrderDetail({order_id:t.order_id}).then(function(t){console.log(["获得送礼商品详情",t]),k.giftDetailData=t})["catch"](function(t){console.log(["报错",t])})}else console.log(["获取订单详情失败",t])}function y(){c.pay(i.orderID).then(function(t){k.orderData.order_status="待发货",k.orderData.is_pay=1})["catch"](function(t){console.log(t)})}function D(){var t=n.confirm({title:"友情提示",template:"您确定收到商品了吗？",cssClass:"borderradius5px",cancelText:"取消",cancelType:"button button-clear button-positive",okText:"确认",okType:"button button-clear button-positive"});console.log(k.order_id),t.then(function(t){t?a.confirmreceipt({action:"receiptconfirm",order_id:k.orderData.order_id},function(t){console.log(t),k.loadData()},function(t){console.log(t)}):console.log("取消确认收货")})}console.log("orderDetailController"),console.log(i.orderID);var k=this;k.showorder_detail=!1,k.orderData={},k.loadData=h,k.pay=y,k.totalMoney=0,k.mainproducts=[],k.sproducts=[],k.confirm=D,k.scoreCostMoney=0,k.checkReturn=p,k.seeReturn=m,k.tipconnet="",k.returnMoney=d,k.loadData()}t.$inject=["$scope","$rootScope","$stateParams","mAPI","nAPI","wLoading","wPopup","wxAPI","$timeout"],angular.module("shop").controller("orderDetailController",t)}(),function(){"use strict";function t(t,e,i,a,o){function s(){c(),r(),p(""),g()}function n(){window.sessionStorage.removeItem("orderStatu")}function c(){var t={action:"listbytype",slide_type:"promotion"};o.getSlideByType(t).then(function(t){console.log(["slide获取数据成功",t]),b.sliderdata=t.list})["catch"](function(t){console.log(["slide获取数据失败",t])})}function r(){var t={action:"list",pageindex:1,pagesize:10};o.getSaleList(t).then(function(t){console.log(["获取限时特卖活动列表成功",t]),b.activityListData=t.list,b.activityListOne=t.list[0],b.activityListTwo=t.list[1],b.activityListThree=t.list[2];for(var e=0;3>e;e++)b.pageData.isNextSale==e+1&&(b.activityId=t.list[e].promotion_activity_id,b.week=e+2,d(t.list[e].promotion_activity_id,e+2))})["catch"](function(t){console.log(["获取限时特卖活动列表失败",t])})}function d(t,e){switch(p(e),b.dataloading=!0,b.activityId=t,e){case 2:1==b.pageData.isOnTheSale&&(b.isProOnTheSale=!0);break;case 4:2==b.pageData.isOnTheSale&&(b.isProOnTheSale=!0);break;case 6:3==b.pageData.isOnTheSale&&(b.isProOnTheSale=!0)}var i={promotion_activity_id:t,pageindex:b.pageindex,pagesize:b.pagesize};o.getSaleProductList(i).then(function(t){console.log(["获取限时特卖活动商品列表成功",t]),v(),console.log(["$scope.pageindex",b.pageindex]),b.saleProductList=b.saleProductList.concat(t.list);for(var e=0;e<b.saleProductList.length;e++)b.saleProductList[e].isOnTheSale=b.isProOnTheSale;console.log("123",b.saleProductList),b.pageindex++,a(function(){b.dataloading=!1}),t.list.length<b.pagesize&&(b.loadingEndTag=!0,b.loadingTag=!1)})["catch"](function(t){console.log(["获取限时特卖活动商品列表失败",t])})}function l(){console.log("加载更多。。。。"),b.dataloading||(console.log("到底"),d(b.activityId,b.week))}function u(t){0==t?(b.pageindex=1,b.pageData.priceRank=b.pageData.priceAdd%2==0?"price_asc":"price_desc",b.pageData.priceAdd++):1==t&&(b.pageindex=1,b.pageData.discountRank=b.pageData.discountAdd%2==0?"discount_asc":"discount_desc",b.pageData.discountAdd++)}function p(t){var i=new Date,a=i.getDay(),o=i.getHours(),s=new Date(e("date")(i,"yyyy/MM/dd")).getTime();if(""!=t)switch(t){case 2:a=2,s=new Date(b.pageData.tuesdayDate.replace(/-/g,"/")).getTime();break;case 4:a=4,s=new Date(b.pageData.thursdayDate.replace(/-/g,"/")).getTime();break;case 6:a=6,s=new Date(b.pageData.saturdayDate.replace(/-/g,"/")).getTime()}switch(a){case 1:b.pageData.tuesdayDate=e("date")(s+864e5,"yyyy/MM/dd"),b.pageData.latestDate=b.pageData.tuesdayDate+" 10:00:00",b.pageData.startTimeStamp=new Date(b.pageData.tuesdayDate+" 10:00:00"),b.pageData.stopTimeStamp=new Date(e("date")(s+1728e5,"yyyy/MM/dd")+" 10:00:00"),b.pageData.tuesdayDate=b.pageData.tuesdayDate,b.pageData.thursdayDate=e("date")(s+2592e5,"yyyy/MM/dd"),b.pageData.saturdayDate=e("date")(s+432e6,"yyyy/MM/dd"),b.pageData.leftName="距离活动开始",b.pageData.isNextSale=1;break;case 2:b.pageData.tuesdayDate=e("date")(s,"yyyy/MM/dd"),b.pageData.latestDate=b.pageData.tuesdayDate,b.pageData.startTimeStamp=new Date(b.pageData.tuesdayDate+" 10:00:00"),b.pageData.stopTimeStamp=new Date(e("date")(s+864e5,"yyyy/MM/dd")+" 10:00:00"),b.pageData.tuesdayDate=b.pageData.tuesdayDate,""==t||s==new Date(e("date")(i,"yyyy/MM/dd")).getTime()?(b.pageData.thursdayDate=e("date")(s+1728e5,"yyyy/MM/dd"),b.pageData.saturdayDate=e("date")(s+3456e5,"yyyy/MM/dd"),10>o?(pageData.leftName="开抢",pageData.latestDate=pageData.latestDate+" 10:00:00"):(b.pageData.isOnTheSale=1,b.pageData.leftName="结束",b.pageData.latestDate=e("date")(s+864e5,"yyyy/MM/dd")+" 00:00:00")):(b.pageData.leftName="开抢",b.pageData.latestDate=e("date")(s+864e5,"yyyy/MM/dd")+" 00:00:00"),b.pageData.isNextSale=1;break;case 3:b.pageData.tuesdayDate=e("date")(s+5184e5,"yyyy/MM/dd"),b.pageData.thursdayDate=e("date")(s+864e5,"yyyy/MM/dd"),b.pageData.latestDate=b.pageData.thursdayDate+" 10:00:00",b.pageData.startTimeStamp=new Date(b.pageData.thursdayDate+" 10:00:00"),b.pageData.stopTimeStamp=new Date(e("date")(s+1728e5,"yyyy/MM/dd")+" 10:00:00"),b.pageData.thursdayDate=b.pageData.thursdayDate,b.pageData.saturdayDate=e("date")(s+2592e5,"yyyy/MM/dd"),b.pageData.leftName="距离活动开始",b.pageData.isNextSale=2;break;case 4:""==t&&(b.pageData.tuesdayDate=e("date")(s+432e6,"yyyy/MM/dd"),b.pageData.saturdayDate=e("date")(s+1728e5,"yyyy/MM/dd")),b.pageData.thursdayDate=e("date")(s,"yyyy/MM/dd"),""==t||s==new Date(e("date")(i,"yyyy/MM/dd")).getTime()?10>o?(b.pageData.leftName="开抢",b.pageData.latestDate=b.pageData.thursdayDate+" 10:00:00"):(b.pageData.isOnTheSale=2,b.pageData.leftName="结束",b.pageData.latestDate=e("date")(s+864e5,"yyyy/MM/dd")+" 00:00:00"):(b.pageData.leftName="开抢",b.pageData.latestDate=e("date")(s+864e5,"yyyy/MM/dd")+" 00:00:00"),b.pageData.startTimeStamp=new Date(b.pageData.thursdayDate+" 10:00:00"),b.pageData.stopTimeStamp=new Date(e("date")(s+864e5,"yyyy/MM/dd")+" 10:00:00"),b.pageData.thursdayDate=b.pageData.thursdayDate,b.pageData.isNextSale=2;break;case 5:b.pageData.tuesdayDate=e("date")(s+3456e5,"yyyy/MM/dd"),b.pageData.thursdayDate=e("date")(s+5184e5,"yyyy/MM/dd"),b.pageData.saturdayDate=e("date")(s+864e5,"yyyy/MM/dd"),b.pageData.latestDate=b.pageData.saturdayDate+" 10:00:00",b.pageData.startTimeStamp=new Date(b.pageData.saturdayDate+" 10:00:00"),b.pageData.stopTimeStamp=new Date(e("date")(s+1728e5,"yyyy/MM/dd")+" 10:00:00"),b.pageData.saturdayDate=b.pageData.saturdayDate,b.pageData.leftName="距离活动开始",b.pageData.isNextSale=3;break;case 6:""==t&&(b.pageData.tuesdayDate=e("date")(s+2592e5,"yyyy/MM/dd"),b.pageData.thursdayDate=e("date")(s+432e6,"yyyy/MM/dd")),b.pageData.saturdayDate=e("date")(s,"yyyy/MM/dd"),b.pageData.latestDate=b.pageData.saturdayDate,b.pageData.startTimeStamp=new Date(b.pageData.saturdayDate+" 10:00:00"),b.pageData.stopTimeStamp=new Date(e("date")(s+864e5,"yyyy/MM/dd")+" 10:00:00"),b.pageData.saturdayDate=b.pageData.saturdayDate,""==t||s==new Date(e("date")(i,"yyyy/MM/dd")).getTime()?10>o?(b.pageData.leftName="开抢",b.pageData.latestDate=b.pageData.latestDate+" 10:00:00"):(b.pageData.isOnTheSale=3,b.pageData.leftName="结束",b.pageData.latestDate=e("date")(s+864e5,"yyyy/MM/dd")+" 00:00:00"):(b.pageData.leftName="开抢",b.pageData.latestDate=e("date")(s+864e5,"yyyy/MM/dd")+" 00:00:00"),b.pageData.isNextSale=3;break;case 0:b.pageData.tuesdayDate=e("date")(s+1728e5,"yyyy/MM/dd"),b.pageData.latestDate=b.pageData.tuesdayDate+" 10:00:00",b.pageData.startTimeStamp=new Date(b.pageData.latestDate),b.pageData.stopTimeStamp=new Date(e("date")(s+2592e5,"yyyy/MM/dd")+" 10:00:00"),b.pageData.tuesdayDate=b.pageData.tuesdayDate,b.pageData.thursdayDate=e("date")(s+3456e5,"yyyy/MM/dd"),b.pageData.saturdayDate=e("date")(s+5184e5,"yyyy/MM/dd"),b.pageData.leftName="距离活动开始",b.pageData.isNextSale=1}}function v(){b.pageData.latestTime=new Date(b.pageData.latestDate),b.pageData.latestTime=b.pageData.latestTime.getTime();var t=new Date(b.pageData.latestDate)-new Date,e=parseInt(t/1e3/60/60/24,10),i=parseInt(t/1e3/60/60%24,10),a=parseInt(t/1e3/60%60,10),o=parseInt(t/1e3%60,10);b.pageData.leftDay=f(e),b.pageData.leftHour=f(i),b.pageData.leftMinus=f(a),b.pageData.leftSecond=f(o)}function g(){b.pageData.interval=i(function(){v()},1e3,0)}function m(){i.cancel(b.pageData.interval)}function f(t){return 10>t&&(t="0"+t),t}function h(t,e){b.pageindex=1,b.pagesize=5,b.dataloading=!1,b.loadingEndTag=!1,b.loadingTag=!0,b.saleProductList=[],b.activityId=t,b.week=e,d(t,e)}var b=this;b.title="限时特卖",b.sliderdata=[],b.activityListData=[],b.activityListOne=[],b.activityListTwo=[],b.activityListThree=[],b.activityId=1,b.week=0,b.pageindex=1,b.pagesize=5,b.dataloading=!1,b.loadingEndTag=!1,b.loadingTag=!0,b.saleProductList=[],b.showscrollx=!0,b.scrollxyData=[{count:111,url:"http://wap.baidu.com"},{count:112,url:"http://wap.baidu.com"},{count:113,url:"http://wap.baidu.com"},{count:114,url:"http://wap.baidu.com"},{count:115,url:"http://wap.baidu.com"},{count:116,url:"http://wap.baidu.com"},{count:117,url:"http://wap.baidu.com"},{count:118,url:"http://wap.baidu.com"},{count:119,url:"http://wap.baidu.com"},{count:120,url:"http://wap.baidu.com"},{count:111,url:"http://wap.baidu.com"},{count:112,url:"http://wap.baidu.com"},{count:113,url:"http://wap.baidu.com"},{count:114,url:"http://wap.baidu.com"},{count:115,url:"http://wap.baidu.com"},{count:116,url:"http://wap.baidu.com"},{count:117,url:"http://wap.baidu.com"},{count:118,url:"http://wap.baidu.com"},{count:119,url:"http://wap.baidu.com"},{count:120,url:"http://wap.baidu.com"}],b.isProOnTheSale=!1,b.pageData={interval:{},tuesdayDate:"",thursdayDate:"",saturdayDate:"",latestDate:"",latestTime:"",leftDay:"",leftHour:"",leftMinus:"",leftSecond:"",leftName:"",isOnTheSale:0,isNextSale:0,priceAdd:0,discountAdd:0,priceRank:"",discountRank:"",startTimeStamp:"",stopTimeStamp:""},b.clearHistory=n,b.getSaleSlide=c,b.getSaleList=r,b.getSaleProductList=d,b.tabClick=u,b.judgeTime=p,b.timer=v,b.startInterval=g,b.closeInterval=m,b.loadMoreData=l,b.clickWeek=h,s()}t.$inject=["$scope","$filter","$interval","$timeout","nAPI"],angular.module("shop").controller("oldSaleCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o){console.log("myscoresCtrl");

var s=t.pageData={id:"",dataloading:!1,nodata:!0,pageindex:1,pagesize:7,list:[]};a.userInfo().then(function(e){console.log(e),t.userInfoData=e});var n=t.pageFunc={};n.loadData=function(){s.nodata=!0,a.getScorereCord({pageindex:s.pageindex,pagesize:s.pagesize,score_type:s.id}).then(function(t){console.log(t),s.list=s.list.concat(t.list),t.list.length>=s.pagesize?(s.pageindex++,o(function(){s.dataloading=!1})):o(function(){s.dataloading=!0,s.nodata=!1})})},n.loadData(),t.loadMoreData=function(){s.dataloading||(console.log("到底"),n.loadData())},t.whichScoreBtn=function(t){s.pageindex=1,s.list=[],s.id=t,n.loadData()}}t.$inject=["$scope","$rootScope","mAPI","nAPI","$timeout"],angular.module("shop").controller("myscoresCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n){function c(t){var e,i=new Date,a=[],o=[],s=[],n=[],c=[];for(e in t){t[e].valid_tos=new Date(t[e].valid_to);{t[e].valid_tos.getTime()-i.getTime()}}for(e in t)t[e].valid_from2=new Date(t[e].valid_from),t[e].valid_to2=new Date(t[e].valid_to),t[e].outdate=!1,t[e].checked=!1,t[e].cantuse=!1,0===t[e].cardcoupon_status?a.push(t[e]):o.push(t[e]);for(e in a){var r=a[e].valid_to2.getTime()-i.getTime();r>0?s.push(a[e]):(a[e].outdate=!0,c.push(a[e]))}t=o.concat(c);var d={arr1:a,arr2:o,arr3:s,arr4:c,arr5:n};return d}t.showEmpty=!1,t.couponTitle=n.mallconfignew.my_cardcoupons_title,t.canuse=1,t.canUse=function(){t.canuse=1,r(t.canuse)},t.noCanUse=function(){t.canuse=2,r(t.canuse)},t.outDate=function(){t.canuse=3,r(t.canuse)},t.couponData=[];var r=function(e){s.show("数据请求中..."),o.couponList({pagesize:1e3,is_can_use:0}).then(function(i){s.hide(),console.log(["获取优惠券列表成功",i]),1==e?(t.couponData=c(i.list).arr3,console.log(["可用",t.couponData])):2==e?(t.couponData=c(i.list).arr2,console.log(["已使用",t.couponData])):3==e&&(t.couponData=c(i.list).arr4,console.log(["已过期",t.couponData]));var a=new Date,o=a.getTime();angular.forEach(t.couponData,function(t,e){t.valid_from=t.valid_from.split(" ")[0],t.valid_from=t.valid_from.replace(/\//g,"."),t.valid_to=t.valid_to.split(" ")[0],t.valid_to=t.valid_to.replace(/\//g,".");var i=parseInt(t.valid_to_timestamp)-parseInt(o);t.valid=i>0?!0:!1,1==t.cardcoupon_status&&(t.valid=!1),null===t.limit_type&&(t.limit_type="")})})["catch"](function(e){t.couponData=[],console.log(["优惠券失败",e]),s.hide()})};r(t.canuse),t.$on("ngRepeatFinished",function(t){for(var e=0;100>e;e++)$(".small-white-circle-wrap").append("<div style='width: 2px;height: 2px;border-radius: 2px;background: #fff;float: left;margin:0 0 0 8px;'></div>")})}t.$inject=["$scope","$rootScope","mAPI","$timeout","nAPI","wLoading","MALLCONFIG"],angular.module("shop").controller("mycouponsCtrl",t)}(),function(){"use strict";function t(t,e,i){function a(){s(),t(function(){n.classAnimation="rubberBand"},4e3)}function o(){i.info('Fork <a href="https://github.com/Swiip/generator-gulp-angular" target="_blank"><b>generator-gulp-angular</b></a>'),n.classAnimation=""}function s(){n.awesomeThings=e.getTec(),angular.forEach(n.awesomeThings,function(t){t.rank=Math.random()})}var n=this;n.awesomeThings=[],n.classAnimation="",n.creationDate=1447635943477,n.showToastr=o,a()}t.$inject=["$timeout","webDevTec","toastr"],angular.module("shop").controller("MainController",t)}(),function(){"use strict";function t(t,e,i,a,o,s){function n(t){var e={pageindex:1,pagesize:10,order_status:t,order_from_time:"",order_to_time:"",order_type:0};o.odList(e).then(function(e){switch(t){case"待付款":c.waitPayCount=e.totalcount;break;case"待发货":c.waitGoodCount=e.totalcount;break;case"待归还":c.waitReturnCount=e.totalcount;break;case"待退押金中":c.depositCount=e.totalcount}})["catch"](function(t){console.log(["获取订单列表请求失败",t])})}e.selectMenu=5;var c=this;c.userInfoData={},c.userInfoBtn=[],c.uiset=s[i.current.name],c.waitPayCount=0,c.waitGoodCount=0,c.waitReturnCount=0,c.depositCount=0;o.navigation("personal").then(function(t){c.userInfoBtn=t}),o.userInfo().then(function(t){console.log(t),c.userInfoData=t}),c.goToShopInfoCenter=function(){window.location.href="/customize/shop/?v=1.0#/userMange"},n("待付款"),n("待发货"),n("待归还"),n("待退押金中");var r=$(".wrap-infocenter").dropload({autoLoad:!1,scrollArea:window,loadUpFn:function(t){setTimeout(function(){i.reload()},1e3)}});r.lock("down")}t.$inject=["$scope","$rootScope","$state","mAPI","nAPI","SHOP_UI"],angular.module("shop").controller("infoCenterController",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n,c,r,d){function l(){u.dataloading=!0;i.pdList({action:"list",pageindex:u.pageindex,pagesize:u.pagesize,keyword:"",category_id:"",tags:"",color_name:"",size_name:"",sort:""}).then(function(t){u.productListData=u.productListData.concat(t.list),console.log(["more productListDate",t.list]),u.pageindex++,s(function(){u.dataloading=!1}),t.list.length<u.pagesize&&(u.loadingEndTag=!0,u.loadingTag=!1)})["catch"](function(e){console.log(["error",t.productListDate])})}console.log(["shopInfo",r]),r.link=location.href,n.share(r);var u=this;u.pageData={},u.productListData=[],u.pageindex=1,u.pagesize=10,u.dataloading=!1,u.loadingEndTag=!1,u.loadingTag=!0,u.MALLCONFIG=d,console.log("=========",u.MALLCONFIG);var p=window.sessionStorage.getItem("productListStorage");window.sessionStorage.removeItem("productListStorage"),p=JSON.parse(p),console.log(["跳回来productListStorageData",p]),p&&(u.productListData=p.data,u.pageindex=p.pageindex,u.pagesize=p.pagesize),u.goProductDetail=function(t){o.go("productDetail",{id:t})},l(),u.loadMoreData=function(){console.log("加载更多。。。。"),u.dataloading||(console.log("到底"),l())},t.sliderdata=[],t.goProductDetail=function(t){var e={data:u.productListData,pageindex:u.pageindex,pagesize:u.pagesize};console.log(["跳之前productListStorageData",e]),window.sessionStorage.setItem("productListStorage",JSON.stringify(e)),o.go("productDetail",{id:t})},e.selectMenu=1,t.placeholder="搜索商品",t.quxiao=0,t.searchMask=0,u.pageData.searchInfo="",t.searchBtn=0,t.searchRelateMask=0,t.startSearch=function(){t.placeholder="搜索双肩包",t.sideMenus=0,u.pageData.searchInfo?(t.quxiao=0,t.searchMask=0,t.searchBtn=1,t.searchRelateMask=1):(t.quxiao=1,t.searchMask=1,t.searchBtn=0,t.searchRelateMask=0)},t.cancelSearch=function(){t.placeholder="搜索商品",t.quxiao=0,t.searchMask=0},t.checkSearchInfo=function(){u.pageData.searchInfo?(t.quxiao=0,t.searchMask=0,t.searchBtn=1,t.searchRelateMask=1):(t.quxiao=1,t.searchMask=1,t.searchBtn=0,t.searchRelateMask=0)},t.goSearch=function(){console.log(["vm.pageData.searchInfo",u.pageData.searchInfo]),t.placeholder="搜索商品",t.searchBtn=0,t.searchMask=0,t.searchRelateMask=0,o.go("productList",{keywordID:u.pageData.searchInfo})}}t.$inject=["$scope","$rootScope","nAPI","mAPI","$state","$timeout","wxAPI","$http","shopInfo","MALLCONFIG"],angular.module("shop").controller("homeController",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n,c,r){var d=this;d.showstatus=s.ID,t.dataloading=!1,t.nodata=!1;var l=t.pageData={id:s.ID,pageIndex:1,pageSize:5,hasMoreOrder:!0,list:[],value:[0,1]},u=t.pageFunc={};u.loadData=function(){t.dataloading=!0;var e="",a={pageindex:l.pageIndex,pagesize:l.pageSize,order_status:e,order_type:1,gift_order_type:l.id};o.odList(a).then(function(e){console.log(["获取订单列表成功",e.list]),l.list=l.list.concat(e.list),void 0==l.id&&(l.id=l.value[0]),e.list&&(e.list.length>=l.pageSize?(console.log("还有"),l.pageIndex++,i(function(){t.dataloading=!1})):i(function(){console.log("没了"),t.dataloading=!0,t.nodata=!0}))})["catch"](function(t){console.log(["获取订单列表请求失败",t])})},t.loadMoreData=function(){console.log("加载更多"),t.dataloading||(console.log("到底"),u.loadData())},u.init=function(){u.loadData()},u.init(),u.pay=function(t){n(t.pay_type,t.order_id,t.total_amount)},u.confirm=function(t){var e=c.confirm({title:"友情提示",template:"您确定收到商品了吗？",cssClass:"borderradius5px",cancelText:"取消",cancelType:"button button-clear button-positive",okText:"确认",okType:"button button-clear button-positive"});e.then(function(e){e?o.confirmreceipt({action:"receiptconfirm",order_id:t.order_id},function(e){console.log(["确认订单成功",e]),0==e.errcode?t.order_status="交易成功":c.show(e.errmsg)},function(t){console.log(["确认订单失败",t])}):console.log("取消确认收货")})},u.deleteorder=function(t){var e=c.confirm({title:"友情提示",template:"您确定要取消订单么？",cssClass:"borderradius5px",cancelText:"取消",cancelType:"button button-clear button-positive",okText:"确认",okType:"button button-clear button-positive"});e.then(function(e){e?o.confirmreceipt({action:"cancel",order_id:t.order_id},function(e){console.log(["取消订单成功",e]),0==e.errcode&&(t.order_status="已取消")},function(t){console.log(["取消订单失败",t])}):console.log("不取消订单")})},t.gotoGiveGiftBtn=function(t){a.go("givegift",{orderID:t.order_id})},t.clear_history=function(){window.sessionStorage.removeItem("orderStatu")}}t.$inject=["$scope","$rootScope","$timeout","$state","nAPI","$stateParams","payment","wPopup","$sce"],angular.module("shop").controller("giftorderlistCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n,c){function r(t){e.reciveCoupon(t).then(function(e){0==e.errcode&&(i.show("领 取 成 功"),o(function(){i.hide(),l(t)},500),d.what_btn=2)})["catch"](function(t){1==t.errcode?(d.what_btn=1,d.showalready=!0):2==t.errcode&&(d.what_btn=1,d.shownonum=!0)})}var d=this;d.cp_ids=[],d.cp_datas=[],d.what_btn=0,t.cp_ids.indexOf(",")?d.cp_ids=t.cp_ids.split(","):d.cp_ids[0]=t.cp_ids;var l=function(t){e.getCouponInfo(t).then(function(e){console.log(["获取优惠券详细信息接口",e]),e.valid_to=e.valid_to.split(" ")[0],e.couponId=t,d.cp_datas=e,d.overDue=(new Date).getTime()-parseInt(e.valid_to_timestamp),console.log(["vm.overDue",d.overDue]),null==e.limit_type&&(e.limit_type=""),e.valid_from=e.valid_from.split(" ")[0],e.valid_from=e.valid_from.replace(/\//g,"."),e.valid_to=e.valid_to.split(" ")[0],e.valid_to=e.valid_to.replace(/\//g,".");var i=parseInt(e.valid_to_timestamp)-parseInt((new Date).getTime());e.valid=i>0?!0:!1,n.title=e.cardcoupon_name,n.link=location.href,console.log(["shopInfo",n]),c.share(n)})["catch"](function(t){a.alert(t.errmsg)})};for(var u in d.cp_ids)""==d.cp_ids[u]||null==d.cp_ids[u]||l(d.cp_ids[u]);d.getCouponBtn=function(t){r(t)},d.goback=function(){history.go(-1)},o(function(){for(var t=0;100>t;t++)console.log("hi"),$(".small-white-circle-wrap").append("<div style='width: 2px;height: 2px;border-radius: 2px;background: #fff;float: left;margin:0 0 0 8px;'></div>")})}t.$inject=["$stateParams","nAPI","wLoading","wPopup","$timeout","$scope","shopInfo","wxAPI"],angular.module("shop").controller("getcouponCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n){console.log(i.orderId);var c=this;c.title="快递信息",t.goBack=function(){history.length>2?history.go(-1):e.go("home")},t.orderinfo={},t.expressdata=[];({action:"get",order_id:i.orderId});t.hasExpressInfo=!1,s.odDetail(i.orderId).then(function(e){console.log(["获取订单详情成功",e]);var i={express_company_code:e.express_company_code,express_number:e.express_number};return t.orderinfo=e,n.expressInfo(i)}).then(function(e){console.log(["获取物流信息失败",e]),0===e.errcode?(console.log(["获取物流信息成功",e]),t.expressdata=e.express_info,t.hasExpressInfo=!0):t.hasExpressInfo=!1})}t.$inject=["$scope","$state","$stateParams","$rootScope","$http","nAPI","sAPI"],angular.module("shop").controller("expressInfoCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n){var c=this;c.showWrapOfflineConfirm=e.location.href.match("jikuwifi")?!1:!0,c.couponId=t.couponId,c.couponState=t.cpstate,c.offlineConfirmCode="",i.getCouponInfo(c.couponId).then(function(t){console.log(["获取卡券详情成功",t]),c.couponDetailData=t,t.valid_to=t.valid_to.split(" ")[0],c.overDue=(new Date).getTime()-parseInt(t.valid_to_timestamp),console.log(["vm.overDue",c.overDue]),t.valid_from=t.valid_from.split(" ")[0],t.valid_from=t.valid_from.replace(/\//g,"."),t.valid_to=t.valid_to.split(" ")[0],t.valid_to=t.valid_to.replace(/\//g,".");var e=parseInt(t.valid_to_timestamp)-parseInt((new Date).getTime());t.valid=e>0?!0:!1,null===t.limit_type&&(t.limit_type=""),s(function(){for(var t=0;100>t;t++)console.log("hi"),$(".small-white-circle-wrap").append("<div style='width: 2px;height: 2px;border-radius: 2px;background: #fff;float: left;margin:0 0 0 8px;'></div>")})})["catch"](function(t){console.log(["获取卡券详情失败",t])}),$("#btnShowOfflineConfirm").on("click",function(){$("#btnShowOfflineConfirm").fadeOut("fast",function(){$("#wrapOfflineConfirm").fadeIn()})}),$("#btnOfflineConfirm").on("click",function(){a.show(c.offlineConfirmCode?"核销码输入错误":"请输入核销码"),setTimeout(function(){a.hide()},600)})}t.$inject=["$stateParams","$window","nAPI","wLoading","wPopup","$timeout","$scope"],angular.module("shop").controller("couponDetailCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n,c,r,d,l){function u(){d.basketList("/mall/shoppingcart.ashx",{action:"list"},function(e){if(0==e.list.length)t.is_shownums=!1;else{t.is_shownums=!0;for(var i in e.list)c.shop_nums+=e.list[i].count}})}function p(t){for(var e in t){var i="",a=[];if(""===t[e].properties);else{a=t[e].properties.split(";");for(var o in a){var s=[];s=a[o].split(":"),i+=s[s.length-2]+":"+s[s.length-1]+";"}t[e].properties=i.substring(0,i.length-1)}}}function v(){t.totalnum=0,t.orderProducts.productsTotalPrice=0,angular.forEach(t.orderProducts,function(e,i){t.orderProducts.productsTotalPrice+=e.price*parseInt(e.num),t.totalnum+=parseInt(e.num)}),g()}function g(){var e=[];t.getfreightdata={},angular.forEach(t.orderProducts,function(i,a){var o={sku_id:i.sku_id,count:i.num};e.push(o),t.getfreightdata={receiver_province_code:t.addressData.province_code,receiver_city_code:t.addressData.city_code,receiver_dist_code:t.addressData.dist_code,skus:e}});var a=i.freight(t.getfreightdata);a.then(function(e){t.freight=e.freight,t.orderProducts.productsTotalPrice+=t.freight})["catch"](function(t){})}function m(t){void 0!=t.msg?s.alert(t.msg):"chooseWXPay:cancel"==t.errMsg?(window.sessionStorage.removeItem("orderProducts"),e.go("orderList")):s.alert(JSON.stringify(t.errmsg))}function f(){var e=[];angular.forEach(t.orderProducts,function(t,i){var a={sku_id:t.sku_id,count:t.num};e.push(a)});var i="WEIXIN",a={receiver_province:t.addressData.province,receiver_province_code:t.addressData.province_code,receiver_city:t.addressData.city,receiver_city_code:t.addressData.city_code,receiver_dist:t.addressData.dist,receiver_dist_code:t.addressData.dist_code,receiver_name:t.addressData.consigneename,receiver_phone:t.addressData.phone,receiver_address:t.addressData.address,pay_type:i,skus:e,sale_id:0};return"leader"==t.groupType?(a.sale_id=void 0,a.rule_id=t.orderProducts[0].rule_id):"member"==t.groupType&&(a.sale_id=void 0,a.order_id=t.orderProducts[0].order_id),t.checkedCouponInfo&&(a.cardcoupon_id=t.checkedCouponInfo.cardcoupon_id),a}(l.$$absUrl.match("localhost")||l.$$absUrl.match("192.168."))&&i.login({username:"WXUser201512231014329G7MC",password:"GLFPIDYNLQEZ"}).then(function(t){})["catch"](function(t){}),c.shop_nums=0;var h=this;return h.addressId=a.addressId,u(),c.isWhere="",t.groupType="",t.orderProducts=window.sessionStorage.getItem("orderProducts"),t.orderProducts?(t.orderProducts=JSON.parse(t.orderProducts),console.log(["$scope.orderProducts",t.orderProducts]),t.orderProducts&&1==t.orderProducts.length&&void 0!=t.orderProducts[0].grouptype&&(t.groupType=t.orderProducts[0].grouptype),t.hasAddress=!1,t.freight=0,p(t.orderProducts),t.orderSkus=[],angular.forEach(t.orderProducts,function(e,i){var a={sku_id:e.sku_id,count:e.num,product_id:e.product_id,tags:e.tags};t.orderSkus.push(a)}),t.$watch("addressData",function(){void 0!=t.addressData&&v()}),t.delNum=function(e){return void 0==t.addressData?(r.show("请选择寄送地址~"),void setTimeout(function(){r.hide()},600)):void(1!=e.num&&(e.num--,v()))},t.addNum=function(e){if(void 0==t.addressData)return r.show("请选择寄送地址~"),void setTimeout(function(){r.hide()},600);if(e.num++,e.num>e.count){var i=s.alert({title:"提示信息",template:"不能再多了哦"});i.then(function(t){}),e.num=e.count}else v()},t.checknum=function(e){if(void 0==t.addressData)return r.show("请选择寄送地址~"),setTimeout(function(){r.hide()},600),void(e.num>e.count&&(e.num=e.count));if(e.num>e.count){e.num=e.count;var i=s.alert({title:"提示信息",template:"您所填写的商品数量超过库存"});i.then(function(t){}),v()}else if(e.num<1)if(""===e.num)e.num=1,v();else{e.num=1;var i=s.alert({title:"提示信息",template:"至少要选择一个"});i.then(function(t){}),v()}else v()},void(t.submitOrderAndPay=function(){if(void 0==t.addressData)return r.show("请选择寄送地址~"),void setTimeout(function(){r.hide()},600);var a="";""==t.groupType?i.odSubmit(f()).then(function(i){return a=i.order_id,t.checkedCouponInfo&&t.orderProducts.productsTotalPrice<=t.checkedCouponInfo.deductible_amount?(window.sessionStorage.removeItem("orderProducts"),void e.go("paySuccess",{totalPrice:t.orderProducts.productsTotalPrice,orderid:a})):o.pay(i.order_id)}).then(function(i){window.sessionStorage.removeItem("orderProducts"),e.go("paySuccess",{totalPrice:t.orderProducts.productsTotalPrice,orderid:a})})["catch"](function(t){m(t)}):"leader"==t.groupType?i.submitByGroupLeader(f()).then(function(t){return a=t,t.status?o.pay(t.result.order_id):void s.alert(t.msg)}).then(function(t){a.status&&(e.go("waitForGroupDetail",{goodsGroupId:a.result.order_id}),window.sessionStorage.removeItem("orderProducts"))})["catch"](function(t){m(t)}):"member"==t.groupType&&i.submitByGroupMember(f()).then(function(t){return a=t,t.status?o.pay(t.result.order_id):void s.alert(t.msg)}).then(function(t){a.status&&(e.go("groupGoodsList"),window.sessionStorage.removeItem("orderProducts"))})["catch"](function(t){m(t)})})):void history.go(-1)}t.$inject=["$scope","$state","nAPI","$stateParams","wxAPI","wPopup","$q","$rootScope","wLoading","mAPI","$location"],angular.module("shop").controller("createOrderController",t)}(),function(){"use strict";function t(t,e,i){function a(e,i){console.log(i),e.errMsg&&e.errMsg.match("chooseWXPay")&&(e.errMsg.match("chooseWXPay:ok")?t.go("paySuccess",i):t.go("payError",i))}var o={dealPayInfo:a};return o}function e(t,e){function i(t){var i={action:"get",express_company_code:"",express_number:""};return i=angular.extend(i,t),e(function(t,e){s("/serv/api/mall/express.ashx",i,t,e)})}function a(t){var i={action:"list",pageindex:1,pagesize:1e4};return i=angular.extend(i,t),e(function(t,e){s("/serv/api/mall/category.ashx",i,t,e)})}{var o={expressInfo:i,pdCatrgory:a},s=(t.apiUri,t.apiGet);t.apiPost}return o}function i(t,e,i,a){return function(o,s){function n(e){function i(){WeixinJSBridge.invoke("getBrandWCPayRequest",e,function(e){"get_brand_wcpay_request:ok"==e.err_msg&&t.go("givegift",{orderID:s})})}"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",i,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",i),document.attachEvent("onWeixinJSBridgeReady",i)):i()}i.show("数据请求中..."),e.odPay_wx(s).then(function(t){0==t.errcode?(console.log(["微信支付成功",t]),i.hide(),n(t.pay_req)):(i.hide(),a.alert(t.errmsg),console.log(["微信支付失败",t]))})["catch"](function(t){i.hide(),console.log(["微信支付请求失败",t])})}}function a(t,e,i,a){return function(o,s,n){function c(t){function i(){WeixinJSBridge.invoke("getBrandWCPayRequest",t,function(t){"get_brand_wcpay_request:ok"==t.err_msg&&e.go("paySuccess",{totalPrice:n,orderid:s})})}"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",i,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",i),document.attachEvent("onWeixinJSBridgeReady",i)):i()}t.alert(data.errmsg),i.show("数据请求中..."),console.log("微信支付"),a.odPay_wx(s).then(function(e){0==e.errcode?(console.log(["微信支付成功",e]),i.hide(),c(e.pay_req)):(i.hide(),t.alert(e.errmsg),console.log(["微信支付失败",e]))})["catch"](function(t){i.hide(),console.log(["微信支付请求失败",t])})}}t.$inject=["$state","wPopup","giftpay"],e.$inject=["nAPI","$q"],i.$inject=["$state","nAPI","wLoading","wPopup"],a.$inject=["wPopup","$state","wLoading","nAPI"],angular.module("shop").factory("shopAPI",t).factory("sAPI",e).factory("giftpay",i).factory("payment",a)}(),function(){"use strict";function t(t,e,i,a,o,s){function n(){a.basketList("/mall/shoppingcart.ashx",{action:"list"},function(i){if(console.log(["获取购物篮列表成功",i]),0==i.list.length)t.is_shownums=!1;else{t.is_shownums=!0;for(var a in i.list)e.shop_nums+=i.list[a].count,console.log(e.shop_nums)}})}function c(){t.dataloading=!0,a.collectionList("/mall/collect.ashx",{action:"list",pageindex:t.pageindex,pagesize:t.pagesize},function(e){return console.log(["获取收藏的商品列表成功",e]),0==e.list.length?(t.showLinks=!0,void(t.nodata=!1)):(t.showLinks=!1,t.productListData=t.productListData.concat(e.list),void(e.list.length>=t.pagesize?(t.pageindex++,i(function(){t.dataloading=!1})):i(function(){t.dataloading=!0,t.nodata=!0})))},function(t){console.log(["获取商品列表请求失败",t])})}t.MALLCONFIG=s,t.productListData=[],t.pageindex=1,t.pagesize=6,t.dataloading=!1,e.shop_nums=0,n(),c(),t.loadMoreData=function(){t.dataloading||(console.log("到底"),c())},t.goProductDetail=function(t){o.go("productDetail",{id:t})}}t.$inject=["$scope","$rootScope","$timeout","mAPI","$state","MALLCONFIG"],angular.module("shop").controller("collectListCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o,s){var n=navigator.userAgent;n.indexOf("MQQBrowser")>0&&(t.isQQBrowser=!0),angular.element("title").html(a.title),"$$$MallConfig$$$"!=MALLCONFIG&&(t.websiteVersion=MALLCONFIG.mallconfignew.website_version),t.mainsiteurl=location.hostname.match("localhost")||location.hostname.match("192.168.")?"http://dev1.comeoncloud.net":location.origin,o.location.href.match("localhost")||o.location.href.match("192.168.1")||t.$on("$stateChangeStart",function(t,e,i,a,o){s.mycenternochange||($("html").removeClass("sidebar-move"),"home"==e.name?window.location.href="/customize/comeoncloud/Index.aspx?key=MallHome":"infoCenter"==e.name&&(window.location.href="/customize/comeoncloud/Index.aspx?key=PersonalCenter"))})}t.$inject=["$rootScope","$location","$log","shopInfo","$window","SHOP_UI"],angular.module("shop").run(t)}(),function(){"use strict";function t(){this.$get=function(){return 0},this.setrouter=!0,this.router=i}function e(t,e,i){if(console.log(["SHOP_CONFIGProvider",i]),i.setrouter)for(var a in i.router)t.state(a,i.router[a]);e.otherwise("/home")}e.$inject=["$stateProvider","$urlRouterProvider","SHOP_CONFIGProvider"],angular.module("shop").provider("SHOP_CONFIG",t).config(e);var i={home:{url:"/home",templateUrl:"app/home/home.html",controller:"homeController",controllerAs:"pdlist"},productList:{url:"/productList?catID&navName&keywordID&colorID&sizeID&updownID&tagID",templateUrl:"app/productList/productList.html",controller:"productListController",controllerAs:"pdlist"},productDetail:{url:"/productDetail/:id",templateUrl:"app/productDetail/productDetail.html",controller:"productDetailController",controllerAs:"productDetail"},groupForGoodsDetail:{url:"/groupForGoodsDetail/:goodsId",templateUrl:"app/groupForGoods/groupForGoodsDetail/groupForGoodsDetail.html",controller:"groupForGoodsDetailCtrl",controllerAs:"vm"},groupForGoodsList:{url:"/groupForGoodsList",templateUrl:"app/groupForGoods/groupForGoodsList/groupForGoodsList.html",controller:"groupForGoodsListCtrl",controllerAs:"vm"},groupGoodsList:{url:"/groupGoodsList",templateUrl:"app/groupForGoods/groupGoodsList/groupGoodsList.html",controller:"groupGoodsListCtrl",controllerAs:"vm"},waitForGroupDetail:{url:"/waitForGroupDetail/:goodsGroupId",templateUrl:"app/groupForGoods/waitForGroupDetail/waitForGroupDetail.html",controller:"waitForGroupDetailCtrl",controllerAs:"vm"},saleList:{url:"/saleList",templateUrl:"app/saleList/saleList.html",controller:"saleListCtrl",controllerAs:"vm"},orderList:{url:"/orderList?status",templateUrl:"app/orderList/orderList.html",controller:"orderListController",controllerAs:"vm"},backList:{url:"/backList?status",templateUrl:"app/orderList/orderList.html",controller:"orderListController",controllerAs:"vm"},orderDetail:{url:"/orderDetail/:orderID",templateUrl:"app/orderDetail/orderDetail.html",controller:"orderDetailController",controllerAs:"vm"},createOrder:{url:"/createOrder?addressId",templateUrl:"app/createOrder/createOrder.html",controller:"createOrderController",controllerAs:"vm"},shopBasket:{url:"/shopBasket",templateUrl:"app/shopBasket/shopBasket.html",controller:"shopBasketController",controllerAs:"shopBasket"},paySuccess:{url:"/paySuccess/:totalPrice/:orderid",templateUrl:"app/paySuccess/paySuccess.html",controller:"paySuccessCtrl"},payError:{url:"/payError/:totalPrice/:orderid",templateUrl:"app/paySuccess/payError.html",controller:"paySuccessCtrl"},receiveAddress:{url:"/receiveAddress",templateUrl:"app/receiveAddress/receiveAddress.html",controller:"receiveAddressController"},receiveAddressUpdata:{url:"/receiveAddress/:addressId",templateUrl:"app/receiveAddress/receiveAddress.html",controller:"receiveAddressController"},receiveAddressList:{url:"/receiveAddressList?siteName&siteparams",templateUrl:"app/receiveAddressList/receiveAddressList.html",controller:"receiveAddressListController"},register:{url:"/register",templateUrl:"app/registerLogin/register/register.html",controller:"registerCtrl"},login:{url:"/login",templateUrl:"app/registerLogin/login/login.html",controller:"loginCtrl"},retrievePassword:{url:"/retrievePassword",templateUrl:"app/registerLogin/retrievePassword/retrievePassword.html",controller:"searchNoResultsCtrl"},infoCenter:{url:"/infoCenter",templateUrl:"app/infoCenter/infoCenter.html",controller:"infoCenterController",controllerAs:"vm"},applyRefund:{url:"/applyRefund/:orderId/:orderDetailId/:update",templateUrl:"app/returnGoods/applyRefund/applyRefund.html",controller:"applyRefundCtrl"},refundState:{url:"/refundState/:orderId/:orderDetailId",templateUrl:"app/returnGoods/refundState/refundState.html",controller:"refundStateCtrl"},returnLogistics:{url:"/returnLogistics/:orderId/:orderDetailId",templateUrl:"app/returnGoods/returnLogistics/returnLogistics.html",controller:"returnLogisticsCtrl"},refundDestination:{url:"/refundDestination/:orderId/:orderDetailId",templateUrl:"app/returnGoods/refundDestination/refundDestination.html",controller:"refundDestinationCtrl"},refundLog:{url:"/refundLog/:orderDetailId",templateUrl:"app/returnGoods/refundLog/refundLog.html",controller:"refundLogCtrl"},collectList:{url:"/collectList",templateUrl:"app/collectList/collectList.html",controller:"collectListCtrl"},userMange:{url:"/userMange",templateUrl:"app/userMange/userMange.html",controller:"userMangeCtrl"},myscores:{url:"/myscores",templateUrl:"app/myscores/myscores.html",controller:"myscoresCtrl"},mycoupons:{url:"/mycoupons",templateUrl:"app/mycoupons/mycoupons.html",controller:"mycouponsCtrl"},getcoupon:{url:"/getcoupon/:cp_ids",templateUrl:"app/getcoupon/getcoupon.html",controller:"getcouponCtrl",controllerAs:"vm"},couponDetail:{url:"/couponDetail/:couponId/:cpstate",templateUrl:"app/couponDetail/couponDetail.html",controller:"couponDetailCtrl",controllerAs:"vm"},expressInfo:{url:"/expressInfo/:orderId",templateUrl:"app/expressInfo/expressInfo.html",controller:"expressInfoCtrl",controllerAs:"vm"},paygift:{url:"/paygift",templateUrl:"app/gift/paygift/paygift.html",controller:"paygiftCtrl",controllerAs:"vm"},givegift:{url:"/givegift/:orderID",templateUrl:"app/gift/givegift/givegift.html",controller:"givegiftCtrl",controllerAs:"vm"},getgift:{url:"/getgift/:giftID?addressId",templateUrl:"app/gift/getgift/getgift.html",controller:"getgiftCtrl",controllerAs:"vm"},giftorderlist:{url:"/giftorderlist/:ID",templateUrl:"app/giftorderlist/giftorderlist.html",controller:"giftorderlistCtrl",controllerAs:"vm"}}}(),function(){"use strict";function t(){var t={infoCenter:{footerbar:!0,btnstyle:1}};return t}"$$$MallConfig$$$"===MALLCONFIG&&(MALLCONFIG={mallconfignew:{mall_name:"至云玩微信商城——好玩，研究微信的商城",mall_desc:"至云玩微信商城——好玩，研究微信的商城",mall_logo:"http://open-files.comeoncloud.net/www/comeoncloud/jubit/image/20151201/603267469092451AA2434FEC5BC163E0.png",product_img_ratio1:"321",product_img_ratio2:"200",nav_group_name:null,slide_name:"首页幻灯片",foottool:"微网站首页导航按钮",is_member:!1,access_level:0,apply_url:"/App/Member/Wap/PhoneVerify.aspx",nopms_url:"/error/nopms.htm",website_version:"高级分销版",my_cardcoupons_title:""}}),angular.module("shop").constant("malarkey",malarkey).constant("moment",moment).constant("MALLCONFIG",MALLCONFIG).constant("SHOP_UI",t()).constant("shopInfo",{title:MALLCONFIG.mallconfignew.mall_name,desc:MALLCONFIG.mallconfignew.mall_desc,imgUrl:MALLCONFIG.mallconfignew.mall_logo,link:""})}(),function(){"use strict";function t(t,e){t.debugEnabled(!0),e.allowHtml=!0,e.timeOut=3e3,e.positionClass="toast-top-right",e.preventDuplicates=!0,e.progressBar=!0}t.$inject=["$logProvider","toastrConfig"],angular.module("shop").config(t)}(),/*! iScroll v5.1.3 ~ (c) 2008-2014 Matteo Spinelli ~ http://cubiq.org/license */
function(t,e,i){function a(t,i){this.wrapper="string"==typeof t?e.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var a in i)this.options[a]=i[a];this.translateZ=this.options.HWCompositing&&c.hasPerspective?" translateZ(0)":"",this.options.useTransition=c.hasTransition&&this.options.useTransition,this.options.useTransform=c.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?c.ease[this.options.bounceEasing]||c.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function o(t,i,a){var o=e.createElement("div"),s=e.createElement("div");return a===!0&&(o.style.cssText="position:absolute;z-index:9999",s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),s.className="iScrollIndicator","h"==t?(a===!0&&(o.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",s.style.height="100%"),o.className="iScrollHorizontalScrollbar"):(a===!0&&(o.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",s.style.width="100%"),o.className="iScrollVerticalScrollbar"),o.style.cssText+=";overflow:hidden",i||(o.style.pointerEvents="none"),o.appendChild(s),o}function s(i,a){this.wrapper="string"==typeof a.el?e.querySelector(a.el):a.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=i,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var o in a)this.options[o]=a[o];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(c.addEvent(this.indicator,"touchstart",this),c.addEvent(t,"touchend",this)),this.options.disablePointer||(c.addEvent(this.indicator,c.prefixPointerEvent("pointerdown"),this),c.addEvent(t,c.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(c.addEvent(this.indicator,"mousedown",this),c.addEvent(t,"mouseup",this))),this.options.fade&&(this.wrapperStyle[c.style.transform]=this.scroller.translateZ,this.wrapperStyle[c.style.transitionDuration]=c.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},c=function(){function a(t){return n===!1?!1:""===n?t:n+t.charAt(0).toUpperCase()+t.substr(1)}var o={},s=e.createElement("div").style,n=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],i=0,a=e.length;a>i;i++)if(t=e[i]+"ransform",t in s)return e[i].substr(0,e[i].length-1);return!1}();o.getTime=Date.now||function(){return(new Date).getTime()},o.extend=function(t,e){for(var i in e)t[i]=e[i]},o.addEvent=function(t,e,i,a){t.addEventListener(e,i,!!a)},o.removeEvent=function(t,e,i,a){t.removeEventListener(e,i,!!a)},o.prefixPointerEvent=function(e){return t.MSPointerEvent?"MSPointer"+e.charAt(9).toUpperCase()+e.substr(10):e},o.momentum=function(t,e,a,o,s,n){var c,r,d=t-e,l=i.abs(d)/a;return n=void 0===n?6e-4:n,c=t+l*l/(2*n)*(0>d?-1:1),r=l/n,o>c?(c=s?o-s/2.5*(l/8):o,d=i.abs(c-t),r=d/l):c>0&&(c=s?s/2.5*(l/8):0,d=i.abs(t)+c,r=d/l),{destination:i.round(c),duration:r}};var c=a("transform");return o.extend(o,{hasTransform:c!==!1,hasPerspective:a("perspective")in s,hasTouch:"ontouchstart"in t,hasPointer:t.PointerEvent||t.MSPointerEvent,hasTransition:a("transition")in s}),o.isBadAndroid=/Android /.test(t.navigator.appVersion)&&!/Chrome\/\d/.test(t.navigator.appVersion),o.extend(o.style={},{transform:c,transitionTimingFunction:a("transitionTimingFunction"),transitionDuration:a("transitionDuration"),transitionDelay:a("transitionDelay"),transformOrigin:a("transformOrigin")}),o.hasClass=function(t,e){var i=new RegExp("(^|\\s)"+e+"(\\s|$)");return i.test(t.className)},o.addClass=function(t,e){if(!o.hasClass(t,e)){var i=t.className.split(" ");i.push(e),t.className=i.join(" ")}},o.removeClass=function(t,e){if(o.hasClass(t,e)){var i=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(i," ")}},o.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},o.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},o.extend(o.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),o.extend(o.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return i.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,a=.4;return 0===t?0:1==t?1:a*i.pow(2,-10*t)*i.sin(2*(t-e/4)*i.PI/e)+1}}}),o.tap=function(t,i){var a=e.createEvent("Event");a.initEvent(i,!0,!0),a.pageX=t.pageX,a.pageY=t.pageY,t.target.dispatchEvent(a)},o.click=function(t){var i,a=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(a.tagName)||(i=e.createEvent("MouseEvents"),i.initMouseEvent("click",!0,!0,t.view,1,a.screenX,a.screenY,a.clientX,a.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),i._constructed=!0,a.dispatchEvent(i))},o}();a.prototype={version:"5.1.3",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if(!(1!=c.eventType[t.type]&&0!==t.button||!this.enabled||this.initiated&&c.eventType[t.type]!==this.initiated)){!this.options.preventDefault||c.isBadAndroid||c.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,a=t.touches?t.touches[0]:t;this.initiated=c.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=c.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=a.pageX,this.pointY=a.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&c.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,a,o,s,n=t.touches?t.touches[0]:t,r=n.pageX-this.pointX,d=n.pageY-this.pointY,l=c.getTime();if(this.pointX=n.pageX,this.pointY=n.pageY,this.distX+=r,this.distY+=d,o=i.abs(this.distX),s=i.abs(this.distY),!(l-this.endTime>300&&10>o&&10>s)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=o>s+this.options.directionLockThreshold?"h":s>=o+this.options.directionLockThreshold?"v":"n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);d=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);r=0}r=this.hasHorizontalScroll?r:0,d=this.hasVerticalScroll?d:0,e=this.x+r,a=this.y+d,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+r/3:e>0?0:this.maxScrollX),(a>0||a<this.maxScrollY)&&(a=this.options.bounce?this.y+d/3:a>0?0:this.maxScrollY),this.directionX=r>0?-1:0>r?1:0,this.directionY=d>0?-1:0>d?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,a),l-this.startTime>300&&(this.startTime=l,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&c.eventType[t.type]===this.initiated){this.options.preventDefault&&!c.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,a,o=(t.changedTouches?t.changedTouches[0]:t,c.getTime()-this.startTime),s=i.round(this.x),n=i.round(this.y),r=i.abs(s-this.startX),d=i.abs(n-this.startY),l=0,u="";if(this.isInTransition=0,this.initiated=0,this.endTime=c.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(s,n),!this.moved)return this.options.tap&&c.tap(t,this.options.tap),this.options.click&&c.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&200>o&&100>r&&100>d)return void this._execEvent("flick");if(this.options.momentum&&300>o&&(e=this.hasHorizontalScroll?c.momentum(this.x,this.startX,o,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:s,duration:0},a=this.hasVerticalScroll?c.momentum(this.y,this.startY,o,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:n,duration:0},s=e.destination,n=a.destination,l=i.max(e.duration,a.duration),this.isInTransition=1),this.options.snap){var p=this._nearestSnap(s,n);this.currentPage=p,l=this.options.snapSpeed||i.max(i.max(i.min(i.abs(s-p.x),1e3),i.min(i.abs(n-p.y),1e3)),300),s=p.x,n=p.y,this.directionX=0,this.directionY=0,u=this.options.bounceEasing}return s!=this.x||n!=this.y?((s>0||s<this.maxScrollX||n>0||n<this.maxScrollY)&&(u=c.ease.quadratic),void this.scrollTo(s,n,l,u)):void this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),e==this.x&&i==this.y?!1:(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=c.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;i>e;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,a){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,a)},scrollTo:function(t,e,i,a){a=a||c.ease.circular,this.isInTransition=this.options.useTransition&&i>0,!i||this.options.useTransition&&a.style?(this._transitionTimingFunction(a.style),this._transitionTime(i),this._translate(t,e)):this._animate(t,e,i,a.fn)},scrollToElement:function(t,e,a,o,s){if(t=t.nodeType?t:this.scroller.querySelector(t)){var n=c.offset(t);n.left-=this.wrapperOffset.left,n.top-=this.wrapperOffset.top,a===!0&&(a=i.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),o===!0&&(o=i.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),n.left-=a||0,n.top-=o||0,n.left=n.left>0?0:n.left<this.maxScrollX?this.maxScrollX:n.left,n.top=n.top>0?0:n.top<this.maxScrollY?this.maxScrollY:n.top,e=void 0===e||null===e||"auto"===e?i.max(i.abs(this.x-n.left),i.abs(this.y-n.top)):e,this.scrollTo(n.left,n.top,e,s)}},_transitionTime:function(t){if(t=t||0,this.scrollerStyle[c.style.transitionDuration]=t+"ms",!t&&c.isBadAndroid&&(this.scrollerStyle[c.style.transitionDuration]="0.001s"),this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[c.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[c.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=i.round(t),e=i.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var a=this.indicators.length;a--;)this.indicators[a].updatePosition()},_initEvents:function(e){var i=e?c.removeEvent:c.addEvent,a=this.options.bindToWrapper?this.wrapper:t;i(t,"orientationchange",this),i(t,"resize",this),this.options.click&&i(this.wrapper,"click",this,!0),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(a,"mousemove",this),i(a,"mousecancel",this),i(a,"mouseup",this)),c.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,c.prefixPointerEvent("pointerdown"),this),i(a,c.prefixPointerEvent("pointermove"),this),i(a,c.prefixPointerEvent("pointercancel"),this),i(a,c.prefixPointerEvent("pointerup"),this)),c.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(a,"touchmove",this),i(a,"touchcancel",this),i(a,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,i,a=t.getComputedStyle(this.scroller,null);return this.options.useTransform?(a=a[c.style.transform].split(")")[0].split(", "),e=+(a[12]||a[4]),i=+(a[13]||a[5])):(e=+a.left.replace(/[^-\d.]/g,""),i=+a.top.replace(/[^-\d.]/g,"")),{x:e,y:i}},_initIndicators:function(){function t(t){for(var e=c.indicators.length;e--;)t.call(c.indicators[e])}var e,i=this.options.interactiveScrollbars,a="string"!=typeof this.options.scrollbars,n=[],c=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:o("v",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:a,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),n.push(e)),this.options.scrollX&&(e={el:o("h",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:a,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),n.push(e))),this.options.indicators&&(n=n.concat(this.options.indicators));for(var r=n.length;r--;)this.indicators.push(new s(this,n[r]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){c.addEvent(this.wrapper,"wheel",this),c.addEvent(this.wrapper,"mousewheel",this),c.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){c.removeEvent(this.wrapper,"wheel",this),c.removeEvent(this.wrapper,"mousewheel",this),c.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault(),t.stopPropagation();var e,a,o,s,n=this;if(void 0===this.wheelTimeout&&n._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){n._execEvent("scrollEnd"),n.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,a=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,a=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,a=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=a=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=a=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,a*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=a,a=0),this.options.snap)return o=this.currentPage.pageX,s=this.currentPage.pageY,e>0?o--:0>e&&o++,a>0?s--:0>a&&s++,void this.goToPage(o,s);o=this.x+i.round(this.hasHorizontalScroll?e:0),s=this.y+i.round(this.hasVerticalScroll?a:0),o>0?o=0:o<this.maxScrollX&&(o=this.maxScrollX),s>0?s=0:s<this.maxScrollY&&(s=this.maxScrollY),this.scrollTo(o,s,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,a,o,s,n,c=0,r=0,d=0,l=this.options.snapStepX||this.wrapperWidth,u=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(a=i.round(l/2),o=i.round(u/2);d>-this.scrollerWidth;){for(this.pages[c]=[],t=0,s=0;s>-this.scrollerHeight;)this.pages[c][t]={x:i.max(d,this.maxScrollX),y:i.max(s,this.maxScrollY),width:l,height:u,cx:d-a,cy:s-o},s-=u,t++;d-=l,c++}else for(n=this.options.snap,t=n.length,e=-1;t>c;c++)(0===c||n[c].offsetLeft<=n[c-1].offsetLeft)&&(r=0,e++),this.pages[r]||(this.pages[r]=[]),d=i.max(-n[c].offsetLeft,this.maxScrollX),s=i.max(-n[c].offsetTop,this.maxScrollY),a=d-i.round(n[c].offsetWidth/2),o=s-i.round(n[c].offsetHeight/2),this.pages[r][e]={x:d,y:s,width:n[c].offsetWidth,height:n[c].offsetHeight,cx:a,cy:o},d>this.maxScrollX&&r++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var a=0,o=this.pages.length,s=0;if(i.abs(t-this.absStartX)<this.snapThresholdX&&i.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);o>a;a++)if(t>=this.pages[a][0].cx){t=this.pages[a][0].x;break}for(o=this.pages[a].length;o>s;s++)if(e>=this.pages[0][s].cy){e=this.pages[0][s].y;break}return a==this.currentPage.pageX&&(a+=this.directionX,0>a?a=0:a>=this.pages.length&&(a=this.pages.length-1),t=this.pages[a][0].x),s==this.currentPage.pageY&&(s+=this.directionY,0>s?s=0:s>=this.pages[0].length&&(s=this.pages[0].length-1),e=this.pages[0][s].y),{x:t,y:e,pageX:a,pageY:s}},goToPage:function(t,e,a,o){o=o||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:0>t&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:0>e&&(e=0);var s=this.pages[t][e].x,n=this.pages[t][e].y;a=void 0===a?this.options.snapSpeed||i.max(i.max(i.min(i.abs(s-this.x),1e3),i.min(i.abs(n-this.y),1e3)),300):a,this.currentPage={x:s,y:n,pageX:t,pageY:e},this.scrollTo(s,n,a,o)},next:function(t,e){var i=this.currentPage.pageX,a=this.currentPage.pageY;i++,i>=this.pages.length&&this.hasVerticalScroll&&(i=0,a++),this.goToPage(i,a,t,e)},prev:function(t,e){var i=this.currentPage.pageX,a=this.currentPage.pageY;i--,0>i&&this.hasVerticalScroll&&(i=0,a--),this.goToPage(i,a,t,e)},_initKeys:function(e){var i,a={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(i in this.options.keyBindings)"string"==typeof this.options.keyBindings[i]&&(this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(i in a)this.options.keyBindings[i]=this.options.keyBindings[i]||a[i];c.addEvent(t,"keydown",this),this.on("destroy",function(){c.removeEvent(t,"keydown",this)})},_key:function(t){if(this.enabled){var e,a=this.options.snap,o=a?this.currentPage.pageX:this.x,s=a?this.currentPage.pageY:this.y,n=c.getTime(),r=this.keyTime||0,d=.25;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1),this.keyAcceleration=200>n-r?i.min(this.keyAcceleration+d,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?o+=a?1:this.wrapperWidth:s+=a?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?o-=a?1:this.wrapperWidth:s-=a?1:this.wrapperHeight;break;case this.options.keyBindings.end:o=a?this.pages.length-1:this.maxScrollX,s=a?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:o=0,s=0;break;case this.options.keyBindings.left:o+=a?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:s+=a?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:o-=a?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:s-=a?1:5+this.keyAcceleration>>0;break;default:return}if(a)return void this.goToPage(o,s);o>0?(o=0,this.keyAcceleration=0):o<this.maxScrollX&&(o=this.maxScrollX,this.keyAcceleration=0),s>0?(s=0,this.keyAcceleration=0):s<this.maxScrollY&&(s=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(o,s,0),this.keyTime=n}},_animate:function(t,e,i,a){function o(){var p,v,g,m=c.getTime();return m>=u?(s.isAnimating=!1,s._translate(t,e),void(s.resetPosition(s.options.bounceTime)||s._execEvent("scrollEnd"))):(m=(m-l)/i,g=a(m),p=(t-r)*g+r,v=(e-d)*g+d,s._translate(p,v),void(s.isAnimating&&n(o)))}var s=this,r=this.x,d=this.y,l=c.getTime(),u=l+i;this.isAnimating=!0,o()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},s.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.interactive&&(c.removeEvent(this.indicator,"touchstart",this),c.removeEvent(this.indicator,c.prefixPointerEvent("pointerdown"),this),c.removeEvent(this.indicator,"mousedown",this),c.removeEvent(t,"touchmove",this),c.removeEvent(t,c.prefixPointerEvent("pointermove"),this),c.removeEvent(t,"mousemove",this),c.removeEvent(t,"touchend",this),c.removeEvent(t,c.prefixPointerEvent("pointerup"),this),c.removeEvent(t,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var i=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=i.pageX,this.lastPointY=i.pageY,this.startTime=c.getTime(),this.options.disableTouch||c.addEvent(t,"touchmove",this),this.options.disablePointer||c.addEvent(t,c.prefixPointerEvent("pointermove"),this),this.options.disableMouse||c.addEvent(t,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){{var e,i,a,o,s=t.touches?t.touches[0]:t;c.getTime()}this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=s.pageX-this.lastPointX,this.lastPointX=s.pageX,i=s.pageY-this.lastPointY,this.lastPointY=s.pageY,a=this.x+e,o=this.y+i,this._pos(a,o),t.preventDefault(),t.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),c.removeEvent(t,"touchmove",this),c.removeEvent(t,c.prefixPointerEvent("pointermove"),this),c.removeEvent(t,"mousemove",this),this.scroller.options.snap){var a=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),o=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-a.x),1e3),i.min(i.abs(this.scroller.y-a.y),1e3)),300);(this.scroller.x!=a.x||this.scroller.y!=a.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=a,this.scroller.scrollTo(a.x,a.y,o,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0,this.indicatorStyle[c.style.transitionDuration]=t+"ms",!t&&c.isBadAndroid&&(this.indicatorStyle[c.style.transitionDuration]="0.001s")},transitionTimingFunction:function(t){this.indicatorStyle[c.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(c.addClass(this.wrapper,"iScrollBothScrollbars"),c.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(c.removeClass(this.wrapper,"iScrollBothScrollbars"),c.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&i.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=i.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=i.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=i.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=i.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[c.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){0>t?t=0:t>this.maxPosX&&(t=this.maxPosX),0>e?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?i.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?i.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?250:500,a=t?0:300;t=t?"1":"0",this.wrapperStyle[c.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),a)}}},a.utils=c,"undefined"!=typeof module&&module.exports?module.exports=a:t.IScroll=a}(window,document,Math),angular.module("shop").run(["$templateCache",function(t){t.put("app/collectList/collectList.html",'<div class="header-bar"><go-back></go-back><div class="header-title">收藏的商品</div><div class="iconfont icon-gouwuche bug-car" ui-sref="shopBasket"><div class="card_nums" ng-if="is_shownums">{{shop_nums}}</div></div><div class="clear-both"></div></div><div class="product-list-search" ng-if="showmoresearch"><select class="select-box" ng-model="mycolor" ng-options="colorlist.prop_name for colorlist in colorlistData" ng-change="whichcolor(mycolor)"></select><select class="select-box" ng-model="mysize" ng-options="sizelist.prop_name for sizelist in sizelistData" ng-change="whichsize(mysize)"></select></div><div class="product-list" ng-if="!showLinks" scroll-bottom-bind="loadMoreData()"><product-box scale="{{MALLCONFIG.mallconfignew.product_img_ratio1}}:{{MALLCONFIG.mallconfignew.product_img_ratio2}}" wechat-click="goProductDetail(productItem.product_id)" ng-repeat="productItem in productListData"></product-box><div class="clear-both"></div><div class="nomoreorder" ng-if="nodata">没有更多收藏了额~</div><div class="nomoreorder" ng-if="!nodata">数据加载中~</div></div><div ng-if="showLinks" class="emptybasket"><div class="emptyicon"><span class="iconfont icon-yiguanzhu"></span></div><h4 class="font20 color31">&nbsp;您还没有收藏任何商品</h4><div class="gotopro"><a href="#/productList" class="font16">去逛逛</a></div></div>'),
t.put("app/couponDetail/couponDetail.html",'<div class="coupon-detail"><div class="new-coupons"><div class="new-coupon" on-finish-render-filters="" ng-class="{\'invalida\':!vm.couponDetailData.valid||vm.couponState==1}"><div class="coupon-type" ng-if="vm.couponDetailData.cardcoupon_type==3" ng-class="{\'invalidc\':!vm.couponDetailData.valid||vm.couponState==1}">满减券</div><div class="coupon-type" ng-if="vm.couponDetailData.cardcoupon_type==2" ng-class="{\'invalidc\':!vm.couponDetailData.valid||vm.couponState==1}">免邮券</div><div class="coupon-type" ng-if="vm.couponDetailData.cardcoupon_type==1" ng-class="{\'invalidc\':!vm.couponDetailData.valid||vm.couponState==1}">现金券</div><div class="coupon-type" ng-if="vm.couponDetailData.cardcoupon_type==0" ng-class="{\'invalidc\':!vm.couponDetailData.valid||vm.couponState==1}">折扣券</div><div class="coupon-content"><div class="coupon-left" ng-if="vm.couponDetailData.cardcoupon_type==0"><span class="big-word">{{vm.couponDetailData.discount}}</span> 折</div><div class="coupon-left" ng-if="vm.couponDetailData.cardcoupon_type==1">￥<span class="big-word">{{vm.couponDetailData.deductible_amount}}</span></div><div class="coupon-left" ng-if="vm.couponDetailData.cardcoupon_type==2"><span class="big-word">免邮</span></div><div class="coupon-left" ng-if="vm.couponDetailData.cardcoupon_type==3">￥<span class="big-word">{{vm.couponDetailData.buckle_sub_amount}}</span></div><div class="coupon-center"><div class="title">{{vm.couponDetailData.cardcoupon_name}}</div><div class="desc" ng-if="vm.couponDetailData.cardcoupon_type==0">使用无金额限制</div><div class="desc" ng-if="vm.couponDetailData.cardcoupon_type==1">使用无金额限制</div><div class="desc" ng-if="vm.couponDetailData.cardcoupon_type==2">满{{vm.couponDetailData.freefreight_amount}}元可用</div><div class="desc" ng-if="vm.couponDetailData.cardcoupon_type==3">满{{vm.couponDetailData.buckle_amount}}元可用</div><div class="time">{{vm.couponDetailData.valid_from}}-{{vm.couponDetailData.valid_to}}</div></div><div class="coupon-right"></div><div class="clear-both"></div></div><div class="coupon-desc" ng-class="{\'invalidb\':!vm.couponDetailData.valid||vm.couponState==1}" ng-if="vm.couponDetailData.limit_type==\'\'">全商品：任意商品可使用</div><div class="coupon-desc" ng-class="{\'invalidb\':!vm.couponDetailData.valid||vm.couponState==1}" ng-if="vm.couponDetailData.limit_type==\'0\'">限商品：只限单个商品使用</div><div class="coupon-desc" ng-class="{\'invalidb\':!vm.couponDetailData.valid||vm.couponState==1}" ng-if="vm.couponDetailData.limit_type==\'1\'">限商品：只限{{vm.couponDetailData.product_tags}}商品使用</div><div class="big-white-circle-left"></div><div class="big-white-circle-right"></div><div class="small-white-circle-wrap"></div><img src="assets/images/yishiyong.png" class="invalid-img" ng-show="vm.couponState==1&&vm.couponDetailData.valid==true"> <img src="assets/images/yiguoqi.png" class="invalid-img" ng-show="vm.couponDetailData.valid==false&&vm.couponState==0"></div></div><div class="white-bar"></div><div class="more-info"><div class="title">更多说明</div><ul class="content"><li ng-if="vm.couponDetailData.limit_type==\'\'">●&nbsp;&nbsp; 任意商品可使用</li><li ng-if="vm.couponDetailData.limit_type==\'0\'">●&nbsp;&nbsp; 只限单个商品使用</li><li ng-if="vm.couponDetailData.limit_type==\'1\'">●&nbsp;&nbsp; 只限{{vm.couponDetailData.product_tags}}商品使用</li><li ng-if="vm.couponDetailData.cardcoupon_type==3">●&nbsp;&nbsp; 满{{vm.couponDetailData.buckle_amount}}元可用</li><li>●&nbsp;&nbsp; 使用日期：{{vm.couponDetailData.valid_from}}&nbsp;至&nbsp;{{vm.couponDetailData.valid_to}}</li><div class="clear-both"></div></ul><div class="clear-both"></div></div><div class="white-bar"></div><div class="btn-wrap"><div class="cp_bt letterSpacing4" ng-show="vm.couponDetailData.is_recivece == 1&&vm.overDue<0&&vm.couponState==0" ui-sref="home">去商城使用</div><div class="cp_bt invalida letterSpacing4" ng-show="vm.couponDetailData.is_recivece == 0||vm.overDue>0||vm.couponState==1">去商城使用</div><div class="bt-desc">查看可购买商品并使用此券</div><div id="btnShowOfflineConfirm" ng-if="vm.showWrapOfflineConfirm" class="cp_bt mTop10 letterSpacing4" ng-show="vm.couponDetailData.is_recivece == 1&&vm.overDue<0&&vm.couponState==0">线下核销</div><div id="wrapOfflineConfirm" ng-if="vm.showWrapOfflineConfirm" class="cp_bt mTop10"><input type="password" placeholder="请输入核销码进行核销" ng-model="vm.offlineConfirmCode"><div id="btnOfflineConfirm">核销</div></div></div></div>'),t.put("app/createOrder/createOrder.html",'<div class="create-order"><div class="header-bar"><go-back></go-back><div class="header-title">订单信息</div><div class="iconfont icon-gouwuche bug-car" ui-sref="shopBasket"><div class="card_nums" ng-if="is_shownums">{{shop_nums}}</div></div><div class="clear-both"></div></div><div class="order-item-title">寄送地址：</div><div select-address="" address-info="addressData" customize="false" address-id="vm.addressId"></div><div class="order-item-title">支付方式 ：微信支付</div><div class="product-item-detail" ng-if="0"><div class="pay-img"><img src="assets/images/zhifubao.png"></div><div class="pay-txt">支付宝</div><div class="clear-both"></div></div><div class="order-item-title">商品：</div><div class="product-item-detail" ng-repeat="item in orderProducts"><div class="product-item-img"><img ng-src="{{item.img_url}}"></div><div class="product-item-txt"><div class="font14">{{item.title}}</div><div class="font14">{{item.properties}}</div><div class="font13">数量：{{item.num}}</div><div class="product-num-wrap" ng-if="groupType==undefined"><span class="iconfont icon-jian product-num-del" ng-click="delNum(item)"></span> <input type="input" class="product-num" ng-model="item.num" ng-change="checknum(item)" onkeyup="if(this.value.length==1){this.value=this.value.replace(/[\\D0]/g,\'\')}else{this.value=this.value.replace(/[^0-9]/g,\'\')}" onafterpaste="if(this.value.length==1){this.value=this.value.replace(/[[\\D0]/g,\'\')}else{this.value=this.value.replace(/[^0-9]/g,\'\')}"> <span class="iconfont icon-jia product-num-add" ng-click="addNum(item)"></span></div><div class="product-item-price"><div class="line-through">{{item.quote_price|currency:"￥":2}}</div><div>{{item.price|currency:"￥":2}}</div></div></div><div class="clear-both"></div></div><div style="margin:0 2px;border-bottom: 1px solid #ebebeb;"><check-coupon order-total-price="orderProducts.productsTotalPrice" order-skus="orderSkus" checked-coupon-info="checkedCouponInfo"></check-coupon></div><div class="order-item-title">预计产生的运费：{{freight|currency:"￥":2}}</div></div><div class="bt-wrap"><div class="submitorderL"><div class="allpaymoneyL"><strong>支付总金额</strong></div><div class="allpaymoneyR"><span class="red font18" ng-if="!checkedCouponInfo" ng-bind="orderProducts.productsTotalPrice | currency:\'￥\':\'2\'"></span><span class="red font18" ng-if="checkedCouponInfo.cardcoupon_type==3&&(orderProducts.productsTotalPrice>=checkedCouponInfo.buckle_amount)" ng-bind="orderProducts.productsTotalPrice - checkedCouponInfo.buckle_sub_amount | currency:\'￥\':\'2\'"></span><span class="red font18" ng-if="checkedCouponInfo.cardcoupon_type==0" ng-bind="orderProducts.productsTotalPrice*checkedCouponInfo.discount/10 | currency:\'￥\':\'2\'"></span><span class="red font18" ng-if="checkedCouponInfo.cardcoupon_type==1&&orderProducts.productsTotalPrice>=checkedCouponInfo.deductible_amount" ng-bind="orderProducts.productsTotalPrice - checkedCouponInfo.deductible_amount | currency:\'￥\':\'2\'"></span><span class="red font18" ng-if="checkedCouponInfo.cardcoupon_type==1&&orderProducts.productsTotalPrice<checkedCouponInfo.deductible_amount" ng-bind="orderProducts.productsTotalPrice - orderProducts.productsTotalPrice | currency:\'￥\':\'2\'"></span><span class="red font18" ng-if="checkedCouponInfo.cardcoupon_type==2" ng-bind="orderProducts.productsTotalPrice - freight | currency:\'￥\':\'2\'"></span></div></div><div class="submitorderR" ng-click="submitOrderAndPay()">确认</div></div>'),t.put("app/expressInfo/expressInfo.html",'<div class="header-bar"><go-back ng-click="vm.clear_history()"></go-back><div class="header-title">{{vm.title}}</div><div class="clear-both"></div></div><div class="logistics"><div class="compayn"><div class="erty"><div class="name">物流公司： <strong ng-bind="orderinfo.express_company_name"></strong></div><div class="id">运单编号： <span ng-bind="orderinfo.express_number"></span></div></div></div><div class="clear-both"></div><div class="clear-both"></div><div class="statu1"><span class="logisticstext">订单信息</span></div><div class="clear-both"></div><div class="statu2"><div class="oderlistcontent" ng-repeat="product in orderinfo.product_list"><img ng-src="{{product.img_url}}@140h_140w_1e_1c" alt="" class="orderlistimg"><div class="title"><span class="floatL pdname" ng-bind="product.product_name"></span> <span class="floatR" ng-bind="product.price | currency:\'¥\':2"></span></div><div class="skus"><span class="floatL" ng-bind="product.show_property"></span> <span class="floatR" ng-bind="product.count | currency:\'X\':0"></span></div></div></div><div class="statu1"><span class="logisticstext">物流跟踪</span></div><div class="statu4" ng-if="hasExpressInfo"><ul><li ng-repeat="express in expressdata"><p ng-bind="express.context"></p><p ng-bind="express.time"></p></li></ul></div><div class="statu4" ng-if="!hasExpressInfo"><br><p>亲，目前暂无物流信息,请耐心等候~</p></div></div>'),t.put("app/getcoupon/getcoupon.html",'<div class="lqcontent"><div class="new-coupons margintop"><div class="new-coupon" ng-class="{\'invalida\':!vm.cp_datas.valid}" ui-sref="couponDetail({\'couponId\':vm.cp_datas.couponId})"><div class="coupon-type" ng-if="vm.cp_datas.cardcoupon_type==3" ng-class="{\'invalidc\':!vm.cp_datas.valid}">满减券</div><div class="coupon-type" ng-if="vm.cp_datas.cardcoupon_type==2" ng-class="{\'invalidc\':!vm.cp_datas.valid}">免邮券</div><div class="coupon-type" ng-if="vm.cp_datas.cardcoupon_type==1" ng-class="{\'invalidc\':!vm.cp_datas.valid}">现金券</div><div class="coupon-type" ng-if="vm.cp_datas.cardcoupon_type==0" ng-class="{\'invalidc\':!vm.cp_datas.valid}">折扣券</div><div class="coupon-content"><div class="coupon-left" ng-if="vm.cp_datas.cardcoupon_type==0"><span class="big-word">{{vm.cp_datas.discount}}</span> 折</div><div class="coupon-left" ng-if="vm.cp_datas.cardcoupon_type==1">￥<span class="big-word">{{vm.cp_datas.deductible_amount}}</span></div><div class="coupon-left" ng-if="vm.cp_datas.cardcoupon_type==2"><span class="big-word">免邮</span></div><div class="coupon-left" ng-if="vm.cp_datas.cardcoupon_type==3">￥<span class="big-word">{{vm.cp_datas.buckle_sub_amount}}</span></div><div class="coupon-center"><div class="title">{{vm.cp_datas.cardcoupon_name}}</div><div class="desc" ng-if="vm.cp_datas.cardcoupon_type==0">使用无金额限制</div><div class="desc" ng-if="vm.cp_datas.cardcoupon_type==1">使用无金额限制</div><div class="desc" ng-if="vm.cp_datas.cardcoupon_type==2">满{{vm.cp_datas.freefreight_amount}}元可用</div><div class="desc" ng-if="vm.cp_datas.cardcoupon_type==3">满{{vm.cp_datas.buckle_amount}}元可用</div><div class="time">{{vm.cp_datas.valid_from}}-{{vm.cp_datas.valid_to}}</div></div><div class="coupon-right"><span class="iconfont icon-youjiantou"></span></div><div class="clear-both"></div></div><div class="coupon-desc" ng-class="{\'invalidb\':!vm.cp_datas.valid}" ng-if="vm.cp_datas.limit_type==\'\'">全商品：任意商品可使用</div><div class="coupon-desc" ng-class="{\'invalidb\':!vm.cp_datas.valid}" ng-if="vm.cp_datas.limit_type==\'0\'">限商品：只限单个商品使用</div><div class="coupon-desc" ng-class="{\'invalidb\':!vm.cp_datas.valid}" ng-if="vm.cp_datas.limit_type==\'1\'">限商品：只限{{vm.cp_datas.product_tags}}商品使用</div><div class="big-white-circle-left"></div><div class="big-white-circle-right"></div><div class="small-white-circle-wrap"></div><img src="assets/images/yiguoqi.png" ng-show="!vm.cp_datas.valid" ng-class="{\'invalid-img\':!vm.cp_datas.valid}"></div></div><div ng-show="vm.showalready" class="has_receive"><div class="lineheight30">不要贪心哟~</div><div>您已经领过了</div></div><div ng-show="vm.shownonum" class="has_receive"><div class="lineheight30">阿欧&nbsp;没抢到哦</div><div>手气不佳，攒人品下次再来吧</div></div><div class="cp_bt" ng-show="vm.cp_datas.is_recivece == 0&&vm.overDue<0&&vm.shownonum!=true" ng-click="vm.getCouponBtn(vm.cp_datas.cardcoupon_id)">点&nbsp;击&nbsp;领&nbsp;券</div><div class="cp_bt invalida" ng-show="vm.overDue>0&&vm.cp_datas.is_recivece == 0||max_count>0&&vm.cp_datas.un_send_count == 0&&vm.cp_datas.is_recivece == 0">该&nbsp;券&nbsp;不&nbsp;能&nbsp;领&nbsp;取</div><div class="cp_bt invalida marginBottom10" ng-show="vm.cp_datas.is_recivece == 1&&vm.overDue<0">已&nbsp;经&nbsp;领&nbsp;取</div><div class="cp_bt marginTop10" ng-show="vm.cp_datas.is_recivece == 1&&vm.overDue<0" ui-sref="mycoupons">查&nbsp;看&nbsp;优&nbsp;惠&nbsp;券</div></div>'),t.put("app/giftorderlist/giftorderlist.html",'<div class="order-list"><div class="header-bar"><go-back ng-click="clear_history()"></go-back><div class="header-title">我的礼单</div><div class="clear-both"></div></div><div class="orderlistnav"><span class="floatL" style="width:50%;" ng-class="{select:pageData.id==pageData.value[0]}" ui-sref="giftorderlist({ID:pageData.value[0]})">好友送我</span> <span class="floatL" style="width:50%;" ng-class="{select:pageData.id==pageData.value[1]}" ui-sref="giftorderlist({ID:pageData.value[1]})">我送好友</span><div class="BKline"></div></div><div class="the-list" ng-if="vm.showstatus == 0"><div class="the-order" ng-repeat="item in pageData.list" scroll-bottom-bind="loadMoreData()" ui-sref="orderDetail({orderID:item.order_id})"><div class="order-title"><div class="order-id">订单号：{{item.order_id}}</div><div class="order-time">{{item.order_time | date:\'yyyy/MM/dd HH:mm\'}}</div><div class="clear-both"></div></div><div class="order-content" ng-repeat="product in item.product_list track by $index"><div class="product-img"><img ng-src="{{product.img_url}}@140h_140w_1e_1c"></div><div class="product-info"><div class="product-name">{{product.product_name}}</div><div class="product-sku">{{product.show_property}}</div></div><div class="product-prices"><div class="the-price">{{product.quote_price | currency:\'￥\'}}</div><div class="num">X{{product.count}}</div></div><div class="clear-both"></div></div><div class="bottom-wrap"><span class="btn-default" ng-if="item.order_status==\'待付款\'" ng-click="pageFunc.pay(item)">立即支付</span> <span class="btn-default" ng-if="item.order_status==\'已取消\'">已取消</span> <span class="btn-active" ng-if="item.order_status==\'待付款\'" ng-click="pageFunc.deleteorder($index)">取消订单</span> <span class="btn-default" ng-if="item.express_number" ui-sref="expressInfo({orderId:item.order_id})">查看物流</span> <span class="btn-active" ng-if="item.order_status==\'已发货\'" ng-click="pageFunc.confirm($index)">确认收货</span> <span class="btn-active" ng-if="item.is_cansendgift== true && item.is_pay == 1" ng-click="gotoGiveGiftBtn(item)">送给好友</span></div></div></div><div class="the-list" ng-if="vm.showstatus == 1"><div class="the-order" ng-repeat="item in pageData.list" scroll-bottom-bind="loadMoreData()" ui-sref="orderDetail({orderID:item.order_id})"><div class="order-title"><div class="order-id">订单号：{{item.order_id}}</div><div class="order-time">{{item.order_time | date:\'yyyy/MM/dd HH:mm\'}}</div><div class="clear-both"></div></div><div class="order-content" ng-repeat="product in item.product_list track by $index"><div class="product-img"><img ng-src="{{product.img_url}}@140h_140w_1e_1c"></div><div class="product-info" ui-sref="orderDetail({orderID:item.order_id})"><div class="product-name">{{product.product_name}}</div><div class="product-sku">{{product.show_property}}</div></div><div class="product-prices"><div class="the-price">{{product.price | currency:\'￥\'}}</div><div class="old-price">{{product.quote_price | currency:\'￥\'}}</div><div class="num">X{{product.count}}</div></div><div class="clear-both"></div></div><div class="total-price">共{{item.product_count}}件商品，合计：{{item.total_amount | currency:\'￥\'}}</div><div class="bottom-wrap"><span class="btn-default" ng-if="item.order_status==\'待付款\'" ng-click="pageFunc.pay(item)">立即支付</span> <span class="btn-default" ng-if="item.order_status==\'已取消\'">已取消</span> <span class="btn-active" ng-if="item.order_status==\'待付款\'" ng-click="pageFunc.deleteorder($index)">取消订单</span> <span class="btn-default" ng-if="item.express_number" ui-sref="expressInfo({orderId:item.order_id})">查看物流</span> <span class="btn-active" ng-if="item.order_status==\'已发货\'" ng-click="pageFunc.confirm($index)">确认收货</span> <span class="btn-active" ng-if="item.is_cansendgift== true && item.is_pay == 1" ng-click="gotoGiveGiftBtn(item)">送给好友</span></div></div></div><div class="nomoreorder" ng-if="!nodata">数据加载中~</div><div class="nomoreorder" ng-if="nodata">没有更多订单了额~</div></div>'),t.put("app/home/home.html",'<div class="home"><div class="content"><sliderbox pic-size="640:300" slide-type="{{pdlist.MALLCONFIG.mallconfignew.slide_name}}"></sliderbox><product-box-list scroll-bottom-bind="pdlist.loadMoreData()"><product-box scale="{{pdlist.MALLCONFIG.mallconfignew.product_img_ratio1}}:{{pdlist.MALLCONFIG.mallconfignew.product_img_ratio2}}" wechat-click="pdlist.goProductDetail(productItem.product_id)" ng-repeat="productItem in pdlist.productListData"></product-box></product-box-list></div></div><footer-bar ng-if="!searchMask&&!searchRelateMask"></footer-bar><hot-search ng-if="searchMask"></hot-search><relate-search ng-if="searchRelateMask"></relate-search><side-menu ng-show="sideMenus"></side-menu>'),t.put("app/infoCenter/infoCenter.html",'<div class="info-center"><div class="info-head"><img class="person-img" ng-src="{{vm.userInfoData.head_img_url}}"><div class="person-text"><div class="person-name" ng-bind="vm.userInfoData.nickname"></div><div class="manage-btn" ng-click="vm.goToShopInfoCenter()">账号管理</div></div><div class="clear-both"></div></div><div class="wrap-infocenter" style="min-height: 500px;"><div class="my-orders"><div class="all-order-wrap"><div class="all-order">我的订单</div><div class="clear-both"></div></div><div class="sorts"><div class="sort" ui-sref="orderList"><span class="iconfont icon-quanbudingdan sort-img"></span><br>全部订单</div><div class="sort" ui-sref="orderList({status:\'待付款\'})"><div class="count" ng-if="vm.waitPayCount<99&&vm.waitPayCount>0" ng-bind="vm.waitPayCount"></div><div class="count" ng-if="vm.waitPayCount>99">···</div><span class="iconfont icon-daifukuan sort-img"></span><br>待付款</div><div class="sort" ui-sref="orderList({status:\'待发货\'})"><div class="count" ng-if="vm.waitGoodCount<99&&vm.waitGoodCount>0" ng-bind="vm.waitGoodCount"></div><div class="count" ng-if="vm.waitGoodCount>99">···</div><span class="iconfont icon-receive sort-img"></span><br>待发货</div><div class="sort" ui-sref="orderList({status:\'待归还\'})"><div class="count" ng-if="vm.waitReturnCount<99&&vm.waitReturnCount>0" ng-bind="vm.waitReturnCount"></div><div class="count" ng-if="vm.waitReturnCount>99">···</div><span class="iconfont icon-daifukuan sort-img"></span><br>待归还</div><div class="sort" ui-sref="orderList({status:\'待退押金中\'})"><div class="count" ng-if="vm.depositCount<99&&vm.depositCount>0" ng-bind="vm.depositCount"></div><div class="count" ng-if="vm.depositCount>99">···</div><span class="iconfont icon-daifukuan sort-img"></span><br>待退押金</div></div></div><div class="my-orders" ng-if="vm.uiset.btnstyle==1"><div class="sorts"><div class="sort borderright" ui-sref="collectList"><span class="iconfont icon-shoucang1 sort-img shoucang"></span><br>收藏的商品</div><div class="sort borderright" ui-sref="mycoupons"><span class="iconfont icon-youhuiquan sort-img youhuiquan"></span><br>优惠券</div><div class="sort borderright" ui-sref="myscores"><span class="iconfont icon-jifen2 sort-img jifen"></span><br>积分</div></div></div><div ng-if="vm.uiset.btnstyle==2"><div class="my-orders" ui-sref="{{btn.navigation_link}}" ng-repeat="btn in vm.userInfoBtn"><div class="all-order-wrap2 no-bottom-border"><div class="all-order" ng-bind="btn.navigation_name"></div><div class="more"><span class="iconfont icon-youjiantou"></span></div><div class="clear-both"></div></div></div></div></div></div><footer-bar ng-if="vm.uiset.footerbar"></footer-bar>'),t.put("app/main/main.html",'<div class="container"><div><acme-navbar creation-date="main.creationDate"></acme-navbar></div><div class="jumbotron text-center"><h1>\'Allo, \'Allo!</h1><p class="lead"><img src="assets/images/yeoman.png" alt="I\'m Yeoman"><br>Always a pleasure scaffolding your apps.</p><p class="animated infinite" ng-class="main.classAnimation"><button type="button" class="btn btn-lg btn-success" ng-click="main.showToastr()">Splendid Toastr</button></p><p>With ♥ thanks to the contributions of<acme-malarkey extra-values="[\'Yeoman\', \'Gulp\', \'Angular\']"></acme-malarkey></p></div><div class="row"><div class="col-sm-6 col-md-4" ng-repeat="awesomeThing in main.awesomeThings | orderBy:\'rank\'"><div class="thumbnail"><img class="pull-right" ng-src="assets/images/{{ awesomeThing.logo }}" alt="{{ awesomeThing.title }}"><div class="caption"><h3>{{ awesomeThing.title }}</h3><p>{{ awesomeThing.description }}</p><p><a ng-href="{{awesomeThing.url}}">{{ awesomeThing.url }}</a></p></div></div></div></div></div>'),t.put("app/mycoupons/mycoupons.html",'<div class="header-bar"><go-back></go-back><div class="header-title"><span ng-if="couponTitle!=\'\'" ng-bind="couponTitle"></span> <span ng-if="couponTitle==\'\'">我的优惠券</span></div><div class="clear-both"></div></div><div class="select-bar clearfix"><div class="select-btn-wrap" ng-class="{\'selected-btn-wrap\':canuse==1}" ng-click="canUse()"><div class="select-btn">未使用</div></div><div class="select-btn-wrap" ng-class="{\'selected-btn-wrap\':canuse==2}" ng-click="noCanUse()"><div class="select-btn">已使用</div></div><div class="select-btn-wrap" ng-class="{\'selected-btn-wrap\':canuse==3}" ng-click="outDate()"><div class="select-btn">已过期</div></div></div><div class="new-coupons" ng-if="!showEmpty"><div class="new-coupon" ng-repeat="item in couponData" on-finish-render-filters="" ng-class="{\'invalida\':!item.valid}" ui-sref="couponDetail({\'couponId\':item.main_cardcoupon_id,\'cpstate\':item.cardcoupon_status})"><div class="coupon-type" ng-if="item.cardcoupon_type==3" ng-class="{\'invalidc\':!item.valid}">满减券</div><div class="coupon-type" ng-if="item.cardcoupon_type==2" ng-class="{\'invalidc\':!item.valid}">免邮券</div><div class="coupon-type" ng-if="item.cardcoupon_type==1" ng-class="{\'invalidc\':!item.valid}">现金券</div><div class="coupon-type" ng-if="item.cardcoupon_type==0" ng-class="{\'invalidc\':!item.valid}">折扣券</div><div class="coupon-content"><div class="coupon-left" ng-if="item.cardcoupon_type==0"><span class="big-word">{{item.discount}}</span> 折</div><div class="coupon-left" ng-if="item.cardcoupon_type==1">￥<span class="big-word">{{item.deductible_amount}}</span></div><div class="coupon-left" ng-if="item.cardcoupon_type==2"><span class="big-word">免邮</span></div><div class="coupon-left" ng-if="item.cardcoupon_type==3">￥<span class="big-word">{{item.buckle_sub_amount}}</span></div><div class="coupon-center"><div class="title">{{item.cardcoupon_name}}</div><div class="desc" ng-if="item.cardcoupon_type==0">使用无金额限制</div><div class="desc" ng-if="item.cardcoupon_type==1">使用无金额限制</div><div class="desc" ng-if="item.cardcoupon_type==2">满{{item.freefreight_amount}}元可用</div><div class="desc" ng-if="item.cardcoupon_type==3">满{{item.buckle_amount}}元可用</div><div class="time">{{item.valid_from}}-{{item.valid_to}}</div></div><div class="coupon-right"><span class="iconfont icon-youjiantou"></span></div><div class="clear-both"></div></div><div class="coupon-desc" ng-class="{\'invalidb\':!item.valid}" ng-if="item.limit_type==\'\'">全商品：任意商品可使用</div><div class="coupon-desc" ng-class="{\'invalidb\':!item.valid}" ng-if="item.limit_type==\'0\'">限商品：只限单个商品使用</div><div class="coupon-desc" ng-class="{\'invalidb\':!item.valid}" ng-if="item.limit_type==\'1\'">限商品：只限{{item.product_tags}}商品使用</div><div class="big-white-circle-left"></div><div class="big-white-circle-right"></div><div class="small-white-circle-wrap"></div><img src="assets/images/yiguoqi.png" ng-show="!item.valid" ng-class="{\'invalid-img\':!item.valid}"> <img src="assets/images/yishiyong.png" ng-show="item.cardcoupon_status" ng-class="{\'invalid-img\':item.cardcoupon_status}"></div></div><div ng-if="couponData.length===0" class="emptybasket"><div class="emptyicon"><span class="iconfont icon-youhuiquan"></span></div><h4 class="font20">&nbsp;&nbsp;您当前没有<span ng-if="canuse==1">未使用</span><span ng-if="canuse==2">已使用</span><span ng-if="canuse==3">已过期</span>的优惠券！</h4></div>'),t.put("app/myscores/myscores.html",'<div class="header-bar"><go-back></go-back><div class="header-title">积分管理</div><div class="clear-both"></div></div><div class="scorehead"><div class="scroes"><span class="font38">{{userInfoData.totalscore}}</span>&nbsp;积分</div></div><div class="scorenote"><ul class="scorenav"><li ng-class="{whichscore:pageData.id === \'\'}" ng-click="whichScoreBtn(\'\')">积分历史</li><li ng-class="{whichscore:pageData.id === 1}" ng-click="whichScoreBtn(1)">收入</li><li ng-class="{whichscore:pageData.id === 0}" ng-click="whichScoreBtn(0)">支出</li></ul><div class="scoredetail" scroll-bottom-bind="loadMoreData()"><div ng-repeat="boxdata in pageData.list" class="onescore"><span class="font16">{{boxdata.title}}</span> <span style="margin-left:10px;">{{boxdata.time | date:"yyyy-MM-dd HH:mm"}}</span> <span class="floatR fontblue">{{boxdata.score}}</span></div></div></div><div ng-if="pageData.nodata" style="text-align:center;"><h5>数据加载中~~</h5></div><div ng-if="!pageData.nodata" style="text-align:center;"><h5>没有更多积分记录咯~</h5></div>'),t.put("app/oldSale/oldsale.html",'<div class="wrapSaleList"><div class="header-bar"><go-back ng-click="vm.clear_history()"></go-back><div class="header-title">{{vm.title}}</div><div class="clear-both"></div></div><shopslider aspectratio="640:230"><shop-slider-item ng-repeat="imgdata in vm.sliderdata"><img ng-src="{{imgdata.img_url}}" class="imgsize100"></shop-slider-item></shopslider><div class="row"><div class="col-sm-12"><div class="scroll-overflow" ng-if="vm.showscrollx" iscroll-x="" scroll-data="vm.scrollxyData"><table><tr><td class="sale-time-item" ng-repeat="scrollx in vm.scrollxyData"><a ng-href="{{scrollx.url}}" style="padding:10px 20px;">{{scrollx.count}}</a><div class="font14">冬装季末棉羽专场</div><div class="font16">正在疯抢</div></td></tr></table></div></div></div><div class="account-down red icon_middle_time"><span class="iconfont icon-xianshitejia font20 black icon-middle"></span>&nbsp;还剩 {{vm.pageData.leftDay}} 天{{vm.pageData.leftHour}} 时 {{vm.pageData.leftMinus}} 分 {{vm.pageData.leftSecond}} 秒{{vm.pageData.leftName}}</div><div class="sale-sku"><div class="sale-sku-item" ng-show="0"><span class="circle"></span>&nbsp;显示有货</div><div class="sale-sku-item" ng-show="0"><span class="iconfont icon-alarm-clock font13"></span>&nbsp;订阅开抢通知</div><div class="sale-sku-item gray78"><span class="iconfont icon-alarm-clock font13"></span>&nbsp;已订阅</div><div class="sale-sku-item" ng-click="vm.tabClick(0)"><span class="iconfont icon-shangxiajian01 font13"></span>价格</div><div class="sale-sku-item" ng-click="vm.tabClick(1)"><span class="iconfont icon-shangxiajian01 font13"></span>折扣</div></div><div class="product-list-promotion" scroll-bottom-bind="vm.loadMoreData()"><div class="product" ng-repeat="dataBox in vm.saleProductList"><div product-box-sale=""></div></div></div></div>'),t.put("app/orderDetail/orderDetail.html",'<div class="order-detail"><div class="header-bar"><go-back></go-back><div class="header-title">订单详情</div><div class="clear-both"></div></div><div class="vieworderdetail" ng-if="vm.showorder_detail"><div class="statu1">交易状态： <span class="green">{{vm.orderData.order_status}}</span></div><div class="statu2 font16" ng-show="vm.orderData.order_type==0||vm.orderData.order_type==1&&vm.orderData.gift_order_type==0&&vm.orderData.is_pay==1"><div class="fontweight">收件人信息：</div><div class="fontweight">{{vm.orderData.receiver_name}}&nbsp;&nbsp;{{vm.orderData.receiver_phone}}</div><span class="address">{{vm.orderData.receiver_province}}{{vm.orderData.receiver_city}}{{vm.orderData.receiver_dist}}{{vm.orderData.receiver_address}}</span></div><div class="clear-both"></div><div class="statu4"><span class="floatL">订 单 号：{{vm.orderData.order_id}}</span> <span class="floatR">{{vm.orderData.order_time | date:\'yyyy-MM-dd\'}}</span></div><div class="clear-both"></div><div class="statu6"><div class="oderlistcontent" style="min-height: 75px;" ng-repeat="item in vm.orderData.product_list track by $index"><img ng-src="{{item.img_url}}@140h_140w_1e_1c" alt="" class="orderlistimg"><div class="title"><span class="floatL productName">{{item.product_name}}</span> <span class="floatR" ng-show="vm.orderData.order_type==0||vm.orderData.order_type==1&&vm.orderData.gift_order_type==1">{{item.price | currency:\'￥\'}}</span> <span class="floatR" ng-show="vm.orderData.order_type==1&&vm.orderData.gift_order_type==0&&item.quote_price>0">{{item.quote_price | currency:\'￥\'}}</span></div><div class="floatR line-through price" ng-if="item.quote_price>0&&vm.orderData.order_type==0||item.quote_price>0&&vm.orderData.order_type==1&&vm.orderData.gift_order_type==1">{{item.quote_price | currency:\'￥\'}}</div><div class="skus"><span class="floatL">{{item.show_property}}</span> <span class="floatR">X{{item.count}} <span class="apply-refund-bt" ng-if="vm.orderData.order_type==0&&vm.orderData.is_pay&&(item.refund_status<0)||vm.orderData.order_type==1&&vm.orderData.gift_order_type==1&&vm.orderData.is_pay&&(item.refund_status<0)" ui-sref="applyRefund({orderId:vm.orderData.order_id,orderDetailId:item.order_detail_id})">申请退款</span> <span class="apply-refund-bt" ng-if="vm.orderData.order_type==0&&vm.orderData.is_pay&&(item.refund_status>=0)&&(item.refund_status!=6)&&(item.refund_status!=7)||vm.orderData.order_type==1&&vm.orderData.gift_order_type==1&&vm.orderData.is_pay&&(item.refund_status>=0)&&(item.refund_status!=6)&&(item.refund_status!=7)" ui-sref="refundState({orderId:vm.orderData.order_id,orderDetailId:item.order_detail_id})">退款中</span> <span class="apply-refund-bt" ng-if="vm.orderData.order_type==0&&vm.orderData.is_pay&&(item.refund_status==6)||vm.orderData.order_type==1&&vm.orderData.gift_order_type==1&&vm.orderData.is_pay&&(item.refund_status==6)" ui-sref="refundState({orderId:vm.orderData.order_id,orderDetailId:item.order_detail_id})">退款成功</span> <span class="apply-refund-bt" ng-if="vm.orderData.order_type==0&&vm.orderData.is_pay&&(item.refund_status==7)||vm.orderData.order_type==1&&vm.orderData.gift_order_type==1&&vm.orderData.is_pay&&(item.refund_status==7)" ui-sref="refundState({orderId:vm.orderData.order_id,orderDetailId:item.order_detail_id})">退款关闭</span></span></div></div></div><div class="statu7"><div class="nums">共{{vm.orderData.product_count}}件产品</div><div class="detailed" ng-show="vm.orderData.order_type==0||vm.orderData.order_type==1&&vm.orderData.gift_order_type==1"><span class="floatL">商品总价&nbsp;：</span> <span class="floatR">{{vm.totalMoney | currency:\'￥\'}}</span></div><div class="detailed" ng-show="vm.orderData.order_type==0||vm.orderData.order_type==1&&vm.orderData.gift_order_type==1"><span class="floatL">积分抵扣&nbsp;：</span> <span class="floatR"><span class="red font12">-{{vm.orderData.use_score}}积分</span> 抵￥{{vm.scoreCostMoney | currency:\'¥\'}}</span></div><div class="detailed" ng-show="vm.orderData.order_type==0||vm.orderData.order_type==1&&vm.orderData.gift_order_type==1"><span class="floatL">优&nbsp;&nbsp;惠&nbsp;&nbsp;&nbsp;券：</span> <span class="floatR" ng-if="vm.orderData.cardcoupon">{{vm.orderData.cardcoupon}}</span> <span class="floatR" ng-if="!vm.orderData.cardcoupon">无</span></div><div class="clear-both"></div><div class="detailed"><span class="floatL">运&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;费：</span> <span class="floatR">{{vm.orderData.freight | currency:\'¥\'}}</span></div><div class="clear-both"></div><div class="detailed"><span class="floatL">实&nbsp;&nbsp;付&nbsp;&nbsp;&nbsp;款：</span> <span class="floatR">{{vm.orderData.total_amount | currency:\'￥\'}}</span></div></div><div class="statu4" ng-show="vm.orderData.order_type==1&&vm.orderData.gift_order_type==0"><span class="floatL">看看是谁送我的礼品</span></div><div class="clear-both"></div><div class="statu6" ng-show="vm.orderData.order_type==1&&vm.orderData.gift_order_type==0&&vm.orderData.is_pay==1"><div class="oderlistcontent"><img ng-src="{{vm.giftDetailData.send_user_info.head_img_url}}" alt="" class="orderlistimg gift-person"><div class="title" style="padding-left: 65px"><span class="floatL" style="width: 70%;overflow: hidden;">{{vm.giftDetailData.send_user_info.nick_name}}</span></div></div></div><div class="statu4" ng-show="vm.orderData.order_type==1&&vm.orderData.gift_order_type==1&&vm.orderData.is_pay==1"><span class="floatL">看看都有谁收了我的礼品</span></div><div class="clear-both"></div><div class="statu6" ng-show="vm.orderData.order_type==1&&vm.orderData.gift_order_type==1"><div class="oderlistcontent" ng-repeat="receiver in vm.giftDetailData.receiver_list"><img ng-src="{{receiver.head_img_url}}" alt="" class="orderlistimg gift-person"><div class="title" style="padding-left: 65px"><span class="floatL" style="width: 70%;overflow: hidden;">{{receiver.receiver_name}}</span></div></div></div><div class="statu8 floatR" ng-show="vm.orderData.order_status==\'待付款\'" ng-click="vm.pay()">付款</div><div class="statu8 floatR" ng-show="vm.orderData.order_status==\'已发货\'" ng-click="vm.confirm()">确认收货</div><div class="clear-both"></div></div><div style="width:100%;height:26px;float:right"></div></div>'),
t.put("app/orderList/orderList.html",'<div class="order-list"><div class="header-bar"><go-back ng-click="vm.clear_history()"></go-back><div class="header-title">{{vm.title}}</div><div class="clear-both"></div><div class="orderlistnav" ng-if="vm.isAllOrder&&vm.firstShow"><span class="single floatL" ng-class="{select:vm.pageData.status == \'\'}" ng-click="vm.goStatusBtn(\'\')"><div class="all">全部</div><div class="" ng-bind="vm.allCount"></div></span> <span class="single floatL" ng-class="{select:vm.pageData.status == \'待付款\'}" ng-click="vm.goStatusBtn(\'待付款\')"><div class="all">待付款</div><div class="" ng-bind="vm.waitPayCount">9</div></span> <span class="single floatL" ng-class="{select:vm.pageData.status == \'待发货\'}" ng-click="vm.goStatusBtn(\'待发货\')"><div class="all">待发货</div><div class="" ng-bind="vm.waitGoodCount">9</div></span> <span class="single floatL" ng-class="{select:vm.pageData.status == \'待收货\'}" ng-click="vm.goStatusBtn(\'待收货\')"><div class="all">待收货</div><div class="">9</div></span><div class="BKline"></div></div><div class="orderlistnav" ng-if="!vm.isAllOrder&&vm.firstShow"><span class="single floatL" style="width: 50%;" ng-class="{select:vm.isRefund == 1}" ng-click="vm.goStatusBtn(\'is_refund\')"><div class="all">退款</div><div class="" ng-bind="vm.refundCount"></div></span> <span class="single floatL" style="width: 50%;" ng-class="{select:vm.isAppeal == 1}" ng-click="vm.goStatusBtn(\'is_appeal\')"><div class="all">申诉</div><div class="" ng-bind="vm.appealCount">9</div></span><div class="BKline"></div></div></div><div class="the-list"><div class="the-order" ng-repeat="item in vm.pageData.list" scroll-bottom-bind="vm.loadMoreData()"><div class="order-title"><div class="order-id">订单号：{{item.order_id}}</div><div class="order-time">{{item.order_time | date:\'yyyy/MM/dd HH:mm\'}}</div><div class="clear-both"></div></div><div class="order-content" ng-repeat="product in item.product_list track by $index"><div class="product-img"><img ng-src="{{product.img_url}}@140h_140w_1e_1c"></div><div class="product-info" ui-sref="orderDetail({orderID:item.order_id})"><div class="product-name">{{product.product_name}}</div><div class="product-sku">{{product.show_property}}</div></div><div class="product-prices"><div class="the-price">{{product.price | currency:\'￥\'}}</div><div class="old-price">{{product.quote_price | currency:\'￥\'}}</div><div class="num">X{{product.count}}</div></div><div class="clear-both"></div></div><div class="total-price">共{{item.product_count}}件商品，合计：{{item.total_amount | currency:\'￥\'}}</div><div class="bottom-wrap"><span class="btn-default" ng-if="item.order_status==\'待付款\'" ng-click="vm.pageFunc.pay(item)">立即支付</span> <span class="btn-default" ng-if="item.order_status==\'已取消\'">已取消</span> <span class="btn-active" ng-if="item.order_status==\'待付款\'" ng-click="vm.pageFunc.deleteorder($index)">取消订单</span> <span class="btn-default" ng-if="item.express_number" ui-sref="expressInfo({orderId:item.order_id})">查看物流</span> <span class="btn-active" ng-if="item.order_status==\'已发货\'" ng-click="vm.pageFunc.confirm($index)">确认收货</span></div></div></div><div class="nomoreorder" ng-if="!vm.nodata">数据加载中~</div><div class="nomoreorder" ng-if="vm.nodata">没有更多订单了额~</div></div>'),t.put("app/paySuccess/payError.html",'<div class="pay-success"><h1 class="error">付款失败!</h1><h3>订单金额: <span ng-bind="payMoney|currency:\'￥\':2"></span></h3><a class="btn btn-block btn-success" ui-sref="orderDetail({orderID:order_id})">查看订单</a> <a class="btn btn-block btn-success" ui-sref="home">继续购物</a></div>'),t.put("app/paySuccess/paySuccess.html",'<div class="pay-success"><h1 class="success">付款成功!</h1><h3>订单金额: <span ng-bind="payMoney|currency:\'￥\':2"></span></h3><a class="btn btn-block btn-success" ui-sref="orderDetail({orderID:order_id})">查看订单</a> <a class="btn btn-block btn-success" ui-sref="home">继续购物</a></div>'),t.put("app/productDetail/productDetail.html",'<div class="product-detail"><div class="header-bar"><go-back></go-back><div class="header-title">商品详情</div><div class="iconfont icon-gouwuche bug-car" ui-sref="shopBasket"><div class="card_nums" ng-if="is_shownums">{{shop_nums}}</div></div><div class="clear-both"></div></div><div class="product-img" ng-if="sliderdata[0].datalist.length==1"><img class="img-detail" src="{{sliderdata[0].datalist[0]}}"></div><div ng-if="sliderdata[0].datalist.length>1"><slider aspectratio="{{MALLCONFIG.mallconfignew.product_img_ratio1}}:{{MALLCONFIG.mallconfignew.product_img_ratio2}}" ng-repeat="slider in sliderdata"><slider-item ng-repeat="imgdata in slider.datalist"><img ng-src="{{imgdata}}" class="imgsize100"></slider-item></slider></div><div class="product-info"><div class="product-name">{{productDetailData.title}}</div><div><span class="product-price">{{productDetailData.price | currency:"￥":2}}</span> &nbsp; <span style="text-decoration: line-through;">{{orderProduct.quote_price | currency:"￥":2}}</span></div></div><div class="product-info-more"><ul><li>商品详情</li></ul></div><div class="img-text-info" ng-bind-html="productDetailData.product_desc"></div></div><div class="footer-buy"><div class="collection-wrap" ng-class="{\'width13P\':websiteVersion==\'高级版\' || websiteVersion==\'高级分销版\' }"><div class="collection-img iconfont icon-gouwu color-red font15" ng-click="goToOtherUrl()"></div><div class="collection-text">首页</div></div><div class="collection-wrap" ng-click="showGiftBtn()" ng-if="websiteVersion==\'高级版\' || websiteVersion==\'高级分销版\'" ng-class="{\'width13P\':websiteVersion==\'高级版\' || websiteVersion==\'高级分销版\' }"><div class="collection-img iconfont icon-weixinsongli color-red"></div><div class="collection-text">送礼</div></div><div class="collection-wrap" ng-click="addCollectFunc()" ng-if="!productDetailData.is_collect" ng-class="{\'width13P\':websiteVersion==\'高级版\' || websiteVersion==\'高级分销版\' }"><div class="collection-img iconfont icon-shoucang2"></div><div class="collection-text">收藏</div></div><div class="collection-wrap" ng-click="delCollectFunc()" ng-if="productDetailData.is_collect" ng-class="{\'width13P\':websiteVersion==\'高级版\' || websiteVersion==\'高级分销版\' }"><div class="collection-img iconfont icon-shoucang1 collect-yellow"></div><div class="collection-text">收藏</div></div><div class="shopping-car" ng-click="addToShopCar()">加入购物车</div><div class="buy-now" ng-click="buyNow()">立即购买</div><div class="clear-both"></div></div><div class="sku-page" ng-show="showSKU"><div class="sku-content"><div class="sku-div"><div class="sku-img-wrap"><img class="sku-img" ng-src="{{productDetailData.img_url}}"></div><div class="sku-txt"><div class="iconfont icon-guanbi guanbi" ng-click="skuClose()"></div><div class="sku-price">{{orderProduct.price | currency:"￥":2}}</div><div>库存{{orderProduct.count}}件</div><div>请选择规格</div></div><div class="clear-both"></div></div><div class="sku-div" ng-repeat="propertyItem in productPropertyData" ng-init="skuIndex=$index"><div class="sku-name">{{propertyItem.name}}</div><span class="sku-value-label" ng-repeat="propertyValue in propertyItem.values" ng-click="selectSkuValue(skuIndex,$index)" ng-class="{\'sku-value-label-checked\':propertyValue.checked,\'sku-value-label-nocheck\':propertyValue.countnum==0}">{{propertyValue.value}}</span></div><div class="sku-div"><div class="buy-num-name">购买数量</div><div class="buy-num-wrap"><span class="iconfont icon-jian buy-num-del" ng-click="delNum()"></span> <input type="input" class="buy-num" ng-model="orderProduct.num" onkeyup="if(this.value.length==1){this.value=this.value.replace(/[\\D0]/g,\'\')}else{this.value=this.value.replace(/[^0-9]/g,\'\')}" onafterpaste="if(this.value.length==1){this.value=this.value.replace(/[[\\D0]/g,\'\')}else{this.value=this.value.replace(/[^0-9]/g,\'\')}" ng-change="checknum()"> <span class="iconfont icon-jia buy-num-add" ng-click="addNum()"></span></div><div class="clear-both"></div></div><div class="sure-bt" ng-show="buynow&&Basket!=2" ng-click="buySure()">确&nbsp;定</div><div class="sure-bt" ng-show="!buynow&&Basket!=2" ng-click="carSure()">确&nbsp;定</div><div class="sure-bt" ng-show="Basket==2" ng-click="giveGiftBtn()">送&nbsp;礼</div></div></div>'),t.put("app/receiveAddress/receiveAddress.html",'<div class="receive-address"><div class="header-bar"><go-back></go-back><div class="header-title">寄送地址</div><div class="clear-both"></div></div><div class="info-wrap"><input class="info-input margin-tp20 black" placeholder="姓名" ng-model="pageData.consigneename"> <input class="info-input margin-tp14" placeholder="手机号" ng-model="pageData.phone"><select class="info-input margin-tp14" ng-change="pageFunc.getCity()" ng-model="pageData.province" ng-options="province.name for province in pageData.provinceList"></select><select class="info-input margin-tp14" ng-change="pageFunc.getDistrict()" ng-model="pageData.city" ng-options="city.name for city in pageData.cityList"></select><select class="info-input margin-tp14" ng-model="pageData.district" ng-options="district.name for district in pageData.districtList"></select><textarea class="margin-tp14 addtext" placeholder="详细地址" ng-model="pageData.address"></textarea><div class="publicbtn margin-tp45" ng-click="pageFunc.addReceiveAddress()">确认寄送信息</div></div></div>'),t.put("app/productList/productList.html",'<div class="product-list-wrap"><div class="header"><div class="menu-wrap" ng-click="showMenus()"><span class="iconfont icon-mulu mulu"></span></div><div class="search-wrap"><span class="the-logo"><span class="iconfont icon-fangdajing fangdajing"></span></span> <span class="the-search"><input type="text" ng-model="pdlist.pageData.searchInfo" id="searchInput" placeholder="{{pdlist.placeholder}}" class="search-input" ng-focus="pdlist.startSearch()" ng-blur="pdlist.nosearch()" ng-change="pdlist.checkSearchInfo()"><div class="clear-both"></div></span><div class="clear-both"></div></div><div class="cancel-btn" ng-if="pdlist.quxiao" ng-click="pdlist.cancelSearch()">取消</div><div class="search-btn" ng-if="pdlist.searchBtn" ng-click="pdlist.goSearch()">搜索</div><div class="clear-both"></div></div><div class="sale-sku"><div class="sale-sku-item" ng-class="{currSelected:pdlist.selected==1}" ng-click="pdlist.sortByPrice(\'\');pdlist.selected=1;">默认</div><div class="sale-sku-item" ng-class="{currSelected:pdlist.selected==2}" ng-click="pdlist.sortByPrice(\'price_asc\');pdlist.selected=2;">价格↑</div><div class="sale-sku-item" ng-class="{currSelected:pdlist.selected==3}" ng-click="pdlist.sortByPrice(\'price_desc\');pdlist.selected=3;">价格↓</div><div class="sale-sku-item" ng-class="{currSelected:pdlist.selected==4}" ng-click="pdlist.sortByPrice(0);pdlist.selected=4;">销量</div></div><div class="condition-mask" ng-show="pdlist.conditionSort" ng-click="pdlist.closeCondition()"></div><div class="content"><product-box-list scroll-bottom-bind="pdlist.loadMoreData()"><product-box scale="{{pdlist.MALLCONFIG.mallconfignew.product_img_ratio1}}:{{pdlist.MALLCONFIG.mallconfignew.product_img_ratio2}}" ng-click="pdlist.goProductDetail(productItem)" ng-repeat="productItem in pdlist.productListData track by $index"></product-box></product-box-list></div></div><side-menu ng-show="sideMenus"></side-menu><hot-search ng-if="pdlist.searchMask"></hot-search><relate-search ng-if="pdlist.searchRelateMask"></relate-search><footer-bar ng-if="!pdlist.searchMask&&!pdlist.searchRelateMask"></footer-bar>'),t.put("app/receiveAddressList/receiveAddressList.html",'<div class="receive-address-list"><div class="header-bar"><go-back></go-back><div class="header-title">地址列表</div><div class="clear-both"></div></div><div class="receive-item mTop45">增加新地址<div class="edit-bt floatR" ui-sref="receiveAddress"><span class="iconfont icon-edit font20"></span> 添加</div><div class="clear-both"></div></div><div class="receive-item" ng-repeat="item in pageData.list"><p ng-click="isGotoCreateBtn(item)">{{item.consigneename}} {{item.phone}}</p><p class="gray78" ng-click="isGotoCreateBtn(item)">{{item.province}} {{item.city}} {{item.dist}} {{item.address}}</p><div><div class="red-select iconfont icon-iconfontxuanze floatL" ng-show="item.isdefault==1"></div><span class="gray78" ng-show="item.isdefault==1">&nbsp;&nbsp;默认地址</span><div class="white-select iconfont icon-iconfontxuanze floatL" ng-show="item.isdefault==0" ng-click="pageFunc.setDefaultReceiveAdd(item)"></div><span class="gray78" ng-show="item.isdefault==0" ng-click="pageFunc.setDefaultReceiveAdd(item)">&nbsp;&nbsp;设为默认地址</span><div class="edit-bt floatR" ng-click="pageFunc.deleteReceiveAddress(item.address_id)"><span class="iconfont icon-guanbi font20"></span> 删除</div><div class="edit-bt floatR" ui-sref="receiveAddressUpdata({addressId:item.address_id})"><span class="iconfont icon-edit font20"></span> 编辑</div><div class="clear-both"></div></div></div></div>'),t.put("app/saleList/saleList.html",'<div class="wrapSaleList"><div class="header-bar"><go-back ng-click="vm.clear_history()"></go-back><div class="header-title">{{vm.title}}</div><div class="clear-both"></div></div><shopslider aspectratio="640:230"><shop-slider-item ng-repeat="imgdata in vm.sliderdata"><img ng-src="{{imgdata.img_url}}" class="imgsize100"></shop-slider-item></shopslider><div class="row"><div class="col-sm-12"><div class="scroll-overflow" ng-if="vm.showscrollx" iscroll-x="" scroll-data="vm.scrollxyData"><table id="sale"><tr><td class="sale-time-item" ng-class="{onthesale:(scrollx.isSelected==$index)}" ng-repeat="scrollx in vm.scrollxyData" ng-click="vm.clickWeek(scrollx,$index)"><div class="font14" ng-bind="scrollx.promotion_activity_name"></div><div class="font14">{{scrollx.promotion_activity_start_time | date:\'MM-dd HH:mm\'}}至{{scrollx.promotion_activity_stop_time | date:\'MM-dd HH:mm\'}}</div><div class="font16" ng-if="scrollx.status==0">正在疯抢</div><div class="font16" ng-if="scrollx.status==1">抢先看</div><div class="font16" ng-if="scrollx.status==2">已结束</div></td></tr></table></div></div></div><div class="account-down red icon_middle_time" ng-if="vm.stopCompare>0"><span class="iconfont icon-xianshitejia font20 black icon-middle"></span>&nbsp;还剩 {{vm.pageData.leftDay}} 天{{vm.pageData.leftHour}} 时 {{vm.pageData.leftMinus}} 分 {{vm.pageData.leftSecond}} 秒{{vm.leftName}}</div><div class="account-down red icon_middle_time" ng-if="vm.stopCompare<0">该特卖场次已结束</div><div class="sale-sku"><div class="sale-sku-item" ng-show="0"><span class="circle"></span>&nbsp;显示有货</div><div class="sale-sku-item" ng-show="0"><span class="iconfont icon-alarm-clock font13"></span>&nbsp;订阅开抢通知</div><div class="sale-sku-item gray78"><span class="iconfont icon-alarm-clock font13"></span>&nbsp;已订阅</div><div class="sale-sku-item" ng-click="vm.tabClick(0)"><span class="iconfont icon-shangxiajian01 font13"></span>价格</div><div class="sale-sku-item" ng-click="vm.tabClick(1)"><span class="iconfont icon-shangxiajian01 font13"></span>折扣</div></div><product-box-list scroll-bottom-bind="vm.loadMoreData()"><sale-box scale="{{vm.MALLCONFIG.mallconfignew.product_img_ratio1}}:{{vm.MALLCONFIG.mallconfignew.product_img_ratio2}}" ng-repeat="dataBox in vm.saleProductList"></sale-box></product-box-list></div>'),t.put("app/userMange/userMange.html",'<div><div class="header-bar"><div class="iconfont icon-fanhui go-back" onclick="history.go(-1)"></div><div class="header-title">用户信息</div><div class="more button button-small" ng-if="!vm.isShowEdit" ng-click="vf.getUserField();vm.isShowEdit=true;">编辑</div><div class="more button button-small" ng-if="vm.isShowEdit" ng-click="vf.beforeSubmitCheck()">保存更改</div><div class="clear-both"></div></div><form class="form-horizontal" ng-if="vm.isShowEdit" ng-submit="vf.beforeSubmitCheck()"><div class="editinfo inputedit" ng-repeat="item in vm.fieldList" ng-class="{mTop:$index==0}"><div class="info-one" ng-class="{marginTop20:$index==0}"><div class="onleft">{{item.field_name}}：</div><div class="more" ng-if="item.type==\'txt\'"><input type="text" ng-class="{width100:item.type==\'txt\'}" ng-model="item.value" placeholder="{{item.field_name}}" ng-required="{{(item.no_null==1)}}" ng-change="vf.isPhoneChange(item)"></div><div class="more" ng-if="item.type==\'img\'" ng-required="{{(item.no_null==1)}}"><label class="addpicbtn label0 fileContainer" for="upLoadImg0"><span class="iconfont icon-jia font28 jia0"></span><input class="userpic" accept="image/*" type="file" id="upLoadImg0"></label></div><div class="more" ng-if="item.type==\'sex\'"><span><input class="radiobtn" type="radio" id="rdoSexGender1" ng-model="item.value" name="rdoSexGender" value="1"> <span class="radio-male" for="rdoSexGender1">男</span> <input class="radiobtn" type="radio" id="rdoSexGender2" ng-model="item.value" name="rdoSexGender" value="0"> <span class="radio-male" for="rdoSexGender2">女</span></span></div><div class="more" ng-if="item.type==\'date\'" ng-required="{{(item.no_null==1)}}"><input type="date" ng-model="item.value" placeholder="{{item.field_name}}"></div><div class="more" ng-if="item.type==\'mult\'"><textarea class="Description" rows="5" ng-model="item.value" placeholder="{{item.field_name}}" ng-required="{{(item.no_null==1)}}"></textarea></div><div class="clear-both"></div></div><div class="info-one" ng-if="(item.field==\'phone\'&&vm.isPhoneNull)||(item.field==\'phone\'&&vm.isShowCode)"><div class="onleft">验证码：</div><div class="more"><input class="checkcode" type="text" ng-model="vm.code" placeholder="验证码" ng-required="{{(vm.fieldList[vm.phoneIndex].no_null==1)}}"> <button type="button" class="button button-small button-positive getSMSCode" ng-if="vm.waitTime==0" ng-click="vf.getSMSCode(item.value)">发送验证码</button> <button type="button" class="button button-small button-positive getSMSCodeWait" ng-if="vm.waitTime!=0">等待({{vm.waitTime}})</button></div><div class="clear-both"></div></div></div></form><div class="editinfo" ng-if="!vm.isShowEdit" ng-repeat="item in vm.fieldList" ng-class="{mTop:$index==0}"><div class="info-one" ng-class="{marginTop20:$index==0}"><div class="onleft">{{item.field_name}}：</div><div class="more" ng-if="item.type==\'txt\'"><div class="showstyle" ng-class="{width100:item.type==\'txt\'}">{{item.value}}</div></div><div class="more" ng-if="item.type==\'img\'" ng-required="{{(item.no_null==1)}}"><label class="addpicbtn label0 fileContainer" for="upLoadImg0"><img class="" ng-src="{{item.value}}"></label></div><div class="more" ng-if="item.type==\'sex\'"><span><span class="radiobtn" ng-if="item.value==1">男</span> <span class="radiobtn" ng-if="item.value==0">女</span></span></div><div class="more" ng-if="item.type==\'date\'" ng-required="{{(item.no_null==1)}}"><div class="showstyle" ng-class="{width100:item.type==\'date\'}">{{item.value | date:\'yyyy-MM-dd\'}}</div></div><div class="more" ng-if="item.type==\'mult\'"><div class="Description borderNone">{{item.value}}</div></div><div class="clear-both"></div></div></div></div>'),t.put("app/shopBasket/shopBasket.html",'<div class="shopheader"><go-back><div class="iconfont icon-fanhui go-back" ng-click="goBack()" role="button" tabindex="0"></div></go-back><div class="header-title">购物车</div><div class="clear-both"></div></div><div class="addshoppro" ng-repeat="item in basketListData"><div class="onepro"><div class="floatL selectbox" ng-click="slectemeBtn(item)"><span class="iconfont icon-iconfontxuanze noselect" ng-class="{selected:item.selected == true}"></span></div><div class="floatL proimg" ui-sref="productDetail({id:item.product_id})"><img ng-src="{{item.img_url}}" alt=""></div><div class="oneproinfo floatL"><div class="oneproinfotitle lineheight_30"><span class="floatL protitle">{{item.title}}</span> <span class="delbot" ng-click="delme(item,$event)">删除</span></div><div class="lineheight_30">{{item.properties}}</div><div class="editnumbot"><span class="floatL">数量</span><div class="floatL editbox"><span class="iconfont icon-jian editboxL" ng-click="delnum(item,$event)"></span><div class="editnumbox"><input type="text" ng-model="item.count" ng-change="checknum(item)"></div><span class="iconfont icon-jia editboxR" ng-click="addnum(item,$event)"></span></div><div class="onepropri">{{item.price | currency:\'￥\'}}</div></div></div></div><div class="clearboth"></div></div><div class="emptybasket" ng-if="showempty"><div class="emptyicon"><span class="iconfont icon-gouwuche"></span></div><h4 class="font20">&nbsp;&nbsp;购物车空空如也！</h4><div class="font16 colora0">快来给自己挑点宝贝吧</div><div class="gotopro" ui-sref="home"><a href="" class="font16">去逛逛</a></div></div><div style="height:100px;width:100%;"></div><div class="shopbottom"><span class="iconfont icon-iconfontxuanze noselect" ng-class="{selected:selectedall == true}" ng-click="selectedallBtn()"></span> &nbsp;全选 &nbsp;&nbsp;&nbsp;合计：<span class="fontyellow">{{productTotalPrice | currency:\'￥\'}}</span><div class="buybtn" ng-click="goCreateOrder()">去结算</div></div><footer-bar ng-if="!searchMask&&!searchRelateMask"></footer-bar>'),t.put("app/components/checkCoupon/checkCoupon.html",'<div class="check_coupon_box"><div class="couponbox" ng-click="ccvm.openCouponCheckBox()"><div ng-if="!checkedCouponInfo.cardcoupon_name">未选择优惠券,此订单有<span ng-bind="ccvm.canuseNum"></span>张优惠券可用</div><div ng-if="checkedCouponInfo.cardcoupon_name"><span class="title">已选优惠券: <span class="name" ng-bind="checkedCouponInfo.cardcoupon_name"></span></span><br><span class="error" ng-if="orderTotalPrice<checkedCouponInfo.buckle_amount">(订单金额低于<span ng-bind="checkedCouponInfo.buckle_amount"></span>元，无法使用该优惠券)</span></div></div><div class="couponcheckbox" ng-if="ccvm.couponCheckBoxStatus"><div class="nocoupon" ng-if="ccvm.couponData.length<1">——您还没有优惠券——</div><div class="coupon" ng-if="!cp.cantuse" ng-class="{outdate:orderTotalPrice<cp.buckle_amount || cp.cantuse||orderTotalPrice<cp.freefreight_amount}" ng-click="ccvm.checkcoupon(cp)" ng-repeat="cp in ccvm.couponData"><div class="title" ng-bind="cp.cardcoupon_name"></div><div class="ischecked"><span class="checkicon" ng-class="{thisischecked:cp.checked}"><span class="icon"></span></span></div><div class="coupon-left" ng-if="cp.cardcoupon_type==0"><span class="big-word">{{cp.discount}}</span> 折</div><div class="coupon-left" ng-if="cp.cardcoupon_type==1">￥<span class="big-word">{{cp.deductible_amount}}</span></div><div class="coupon-left" ng-if="cp.cardcoupon_type==2"><span class="big-word">免邮</span></div><div class="coupon-left" ng-if="cp.cardcoupon_type==3">￥<span class="big-word">{{cp.buckle_sub_amount}}</span></div><div class="type"><span ng-if="cp.cardcoupon_type==0">折扣券</span> <span ng-if="cp.cardcoupon_type==1">现金券</span> <span ng-if="cp.cardcoupon_type==2">免邮券</span> <span ng-if="cp.cardcoupon_type==3">满减券</span></div><div class="rangetime">有效期: <span ng-bind="cp.valid_from | date:\'yyyy.MM.dd\'"></span> - <span ng-bind="cp.valid_to | date:\'yyyy.MM.dd\'"></span></div><div class="forbiddeninfp"><div ng-if="orderTotalPrice<cp.buckle_amount">使用限制:<span ng-bind="amountName"></span>满<span ng-bind="cp.buckle_amount"></span>元,才能使用</div><div ng-if="orderTotalPrice<cp.freefreight_amount">使用限制:<span ng-bind="amountName"></span>满<span ng-bind="cp.freefreight_amount"></span>元,才能使用</div><div ng-if="cp.cantuse">使用限制:特定商品使用优惠券</div></div></div><div class="btnbox"><span class="btn btn-warning btn-lg btn-block" ng-click="ccvm.confirmMyCheck()">确定</span></div></div></div>'),t.put("app/components/AngularRenderEnd/renderEnd.html",""),t.put("app/components/footerBar/footerBar.html",'<div class="footer-bar" ng-if="bottomList.length>0"><div class="sousuo" ng-class="{\'color-red\':item.isSelected== $index||item.isFirstSelected}" ng-repeat="item in bottomList"><div class="{{item.ico}}" ng-click="goToBottomDetail(item,$index)"></div><div class="icon-text" ng-bind="item.title" ng-click="goToBottomDetail(item,$index)"></div></div></div>'),t.put("app/components/goBack/goBack.html",'<div class="iconfont icon-fanhui go-back" ng-click="goBack()"></div>'),t.put("app/components/hotSearch/hotSearch.html",'<div class="search-mask"></div>'),t.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-static-top navbar-inverse"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="https://github.com/Swiip/generator-gulp-angular"><span class="glyphicon glyphicon-home"></span> Gulp Angular</a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6"><ul class="nav navbar-nav"><li class="active"><a ng-href="#">Home</a></li><li><a ng-href="#">About</a></li><li><a ng-href="#">Contact</a></li></ul><ul class="nav navbar-nav navbar-right acme-navbar-text"><li>Application was created {{ vm.relativeDate }}.</li></ul></div></div></nav>'),t.put("app/components/productBox/productBox.html",'<div class="product-wrap"><div class="product-mask"></div><div class="product"><div class="img-wrap"><span class="img-span"><img class="product-img" ng-src="{{productItem.img_url}}@380w"></span></div><div class="clear-both"></div><div class="product-name"><span class="product_Name">{{productItem.title}}</span></div><div class="product-price"><strong>{{productItem.price | currency : "￥" : 2}}</strong></div></div></div>'),t.put("app/components/productBox/productBoxSale.html",'<div class="product-promotion" ng-click="goToDetail(dataBox)"><div class="nocopyimg"></div><span class="topleftdiscount">{{(dataBox.price/dataBox.quote_price) | number:1}}折</span> <img class="product-img" ng-src="{{dataBox.img_url}}"><div class="sold-out" ng-show="!dataBox.totalcount">已抢光</div><div class="product-name low-product-name"><span class="product_Name">{{dataBox.title}}</span></div><div class="product-price"><span class="line-through gray78 font12">{{dataBox.quote_price|currency:"￥":0}}</span><span class="red font18">{{dataBox.price|currency:"￥":0}}</span></div></div>'),t.put("app/components/productBox/saleBox.html",'<div class="product-wrap sale-wrap" ng-click="goToDetail(dataBox)"><div class="product-mask"></div><span class="topleftdiscount">{{(dataBox.price/dataBox.quote_price) | number:1}}折</span><div class="product"><div class="img-wrap"><span class="img-span"><img class="product-img" ng-src="{{dataBox.img_url}}@380w"></span><div class="sold-out" ng-show="!dataBox.totalcount">已抢光</div></div><div class="clear-both"></div><div class="product-name"><span class="product_Name">{{dataBox.title}}</span></div><div class="product-price"><span class="line-through gray78 font12">{{dataBox.quote_price|currency:"￥":0}}</span> <span class="red font18">{{dataBox.price|currency:"￥":0}}</span></div></div></div>'),t.put("app/components/productBoxList/productBoxList.html",'<div class="product-list"><div ng-transclude=""></div><div class="clear-both"></div><div class="loadingTap"><span ng-show="pdlist.loadingTag">加载中~</span> <span ng-show="pdlist.loadingEndTag">没有更多了~</span></div></div>'),t.put("app/components/relateSearch/relateSearch.html",'<div class="search-relate-mask"><ul></ul></div>'),t.put("app/components/selectAddress/selectAddress.html",'<div ng-click="selectAddressBtn()" class="select_address_box"><div ng-transclude="" ng-if="customize"></div><div class="default" ng-if="!customize"><div ng-if="!addressInfo.consigneename" class="order-item-value">选择寄送地址<div class="iconfont icon-youjiantou arrow"></div><div class="clear-both"></div></div><div ng-if="addressInfo.consigneename" class="product-item-detail"><div class="address-item floatL">{{addressInfo.consigneename}} {{addressInfo.phone}}</div><div class="address-item floatL gray78">{{addressInfo.province}} {{addressInfo.city}} {{addressInfo.dist}} {{addressInfo.address}}</div><div class="floatR iconfont icon-xiayibu font18 gray78"></div><div class="clear-both"></div></div></div></div>'),t.put("app/components/shopslider/shopslider.html",'<div class="wrapShopContainer"><div class="sliders" ng-transclude=""></div></div>'),t.put("app/components/sideMenu/sideMenu.html",'<div class="sideMenu" ng-show="sideMenus"><div id="wrapper"><div id="scroller"><ul on-finish-render-filters="" class="rootList"><li ng-if="!data.subList" class="dataItem" ng-repeat="data in leftnavdatas" ng-click="goList(data.navigation_link,data.navigation_type)"><span class="menuText">{{data.navigation_name}}</span></li><li ng-if="data.subList" class="borderBottom" ng-repeat="data in leftnavdatas" ng-mousedown="data.subListShow = !data.subListShow"><i class="iconfont icon-jia font18 gray34" ng-hide="data.subListShow"></i> <i class="iconfont icon-jian font18 gray34" ng-show="data.subListShow"></i> <span class="menuText">{{data.navigation_name}}</span><div class="clear-both"></div><ul class="subList" ng-show="data.subListShow"><li class="dataItem" ng-click="goList(data.navigation_link,data.navigation_type)"><span class="menuText">全部</span></li><li class="dataItem" ng-repeat="subData in data.subList" ng-click="goList(subData.navigation_link,subData.navigation_type)"><span class="menuText">{{subData.navigation_name}}</span></li></ul></li></ul></div></div></div><div class="sideMenuMask" ng-show="sideMenus" ng-click="showMenus()"></div>'),t.put("app/gift/getgift/getgift.html",'<div><div class="shareimg" ng-click="hideShareImg()"></div><div select-address="" address-info="vm.addressData" customize="false" address-id="vm.addressId"></div><div class="getgifttitle clearfix" style="margin:10px 0 0 0"><span class="whogivetext">此礼物来自</span> <span class="whogiveimg"><img ng-src="{{productDetailData.send_user_info.head_img_url}}" alt=""></span> <span class="whogivetext" ng-bind="productDetailData.send_user_info.nick_name"></span></div><div class="getgiftinfobox"><div class="giftimg"><img ng-src="{{productDetailData.product_img_url}}" alt=""></div><div class="gifttext"><div class="lineheight_30">{{productDetailData.product_name}}</div><div class="lineheight_30">{{productDetailData.product_properties}}</div><div class="lineheight_30">共 <span class="fontyellow">{{productDetailData.product_count}}</span> 份</div></div></div><div class="orderwords linehegiht_36 paddinLR" style="margin:20px 0 0 0"><span class="wordstext">买家留言：</span> <input type="text" placeholder="可填写您与卖家达成一致的要求(选填)" ng-model="pageData.defaultList.buyer_memo" class="wordsinput"></div><div class="givegiftbot paddinLR"><div class="centerbot" style="margin-top: 10px !important;" ng-if="productDetailData.is_get_gift != 1" ng-click="getGiftBtn()">立即领取</div><div class="centerbot shareother" ng-if="productDetailData.is_get_gift == 1">已经领取</div><div class="centerbot shareother" ng-if="productDetailData.is_get_gift != 1" ng-click="getGiftUrlBtn()">分享链接给别人</div><div class="centerbot" style="margin-top: 10px !important;" ng-if="productDetailData.is_get_gift == 1" ng-click="getGiftUrlBtn()">分享链接给别人</div><div class="centerbot shareother" ui-sref="home">我也要送礼</div></div></div>'),t.put("app/gift/giftdetail/giftdetail.html",'<div><div class="bgcolor"><div class="giftimg"><img src="assets/images/jiu.png" alt=""></div><div class="giftdes paddinLR">来自小伙伴的礼物</div><div class="giftinfo"><div class="floatL proimg"><img src="assets/images/jiu.png" alt=""></div><div class="oneproinfo floatL"><div class="lineheight_30">商品名称商品名称</div><div class="lineheight_30">颜色 尺寸(大小)</div><div class="lineheight_30">共<span class="fontyellow">1</span>份</div></div></div><div ng-if="false" class="emptybasket"><div class="emptyicon"><span class="iconfont icon-gouwuche"></span></div><h4 class="font20">&nbsp;&nbsp;购物车空空如也！</h4><div class="font16 colora0">快来给自己挑点宝贝吧</div><div class="gotopro"><a href="" class="font16">去逛逛</a></div></div></div></div><div class="giftbot"><div class="giftbotL floatL">领礼物</div><div class="giftbotR floatR">我也送</div></div>'),t.put("app/gift/givegift/givegift.html",'<div><div class="shareimg" ng-click="hideShareImg()"></div><div class="bgcolor"><div class="giftimg"><img ng-src="{{productDetailData.product_img_url}}" alt=""></div><div class="giftinfo" style="margin-top:16px"><div class="floatL proimg"><img ng-src="{{productDetailData.product_img_url}}" alt=""></div><div class="oneproinfo floatL"><div class="lineheight_30">{{productDetailData.product_name}}</div><div class="lineheight_30">{{productDetailData.product_properties}}</div><div class="lineheight_30">共<span class="fontyellow">{{productDetailData.product_count}}</span>份</div></div></div><div class="givegiftbot paddinLR" ng-click="getGiftUrlBtn()"><div class="centerbot">喊好友来领取礼物</div></div><div class="givegiftbot paddinLR" ui-sref="home"><div class="centerbot">继续购物</div></div></div></div>'),
t.put("app/gift/paygift/paygift.html",'<div class="create-order"><div class="header-bar"><go-back></go-back><div class="header-title">订单信息</div><div class="iconfont icon-gouwuche bug-car"><div class="card_nums" ng-if="is_shownums">{{shop_nums}}</div></div><div class="clear-both"></div></div><div class="order-item-title">支付方式 ：微信支付</div><div class="product-item-detail" ng-if="0"><div class="pay-img"><img src="assets/images/zhifubao.png"></div><div class="pay-txt">支付宝</div><div class="clear-both"></div></div><div class="order-item-title">商品：</div><div class="product-item-detail" ng-repeat="item in giftProduct"><div class="product-item-img"><img ng-src="{{item.img_url}}"></div><div class="product-item-txt"><div class="font14">{{item.title}}</div><div class="font14">{{item.properties}}</div><div class="font13">数量：{{item.num}}</div><div class="product-num-wrap"><span class="iconfont icon-jian product-num-del" ng-click="delNum(item)"></span> <input type="input" class="product-num" ng-model="item.num" ng-change="checknum(item)" onkeyup="if(this.value.length==1){this.value=this.value.replace(/[\\D0]/g,\'\')}else{this.value=this.value.replace(/[^0-9]/g,\'\')}" onafterpaste="if(this.value.length==1){this.value=this.value.replace(/[[\\D0]/g,\'\')}else{this.value=this.value.replace(/[^0-9]/g,\'\')}"> <span class="iconfont icon-jia product-num-add" ng-click="addNum(item)"></span></div><div class="product-item-price"><div class="line-through">{{item.quote_price|currency:"￥":2}}</div><div>{{item.price|currency:"￥":2}}</div></div></div><div class="clear-both"></div></div><div class="order-item-title">预计产生的运费：{{freight|currency:"￥":2}}</div></div><div class="bt-wrap"><div class="submitorderL"><div class="allpaymoneyL"><strong>支付总金额</strong></div><div class="allpaymoneyR"><span class="red font18" ng-if="!checkedCouponInfo">{{giftProduct.productsTotalPrice | currency:\'￥\'}}</span><span class="red font18" ng-if="checkedCouponInfo.cardcoupon_type==3&&(orderProducts.productsTotalPrice>=checkedCouponInfo.buckle_amount)" ng-bind="orderProducts.productsTotalPrice - checkedCouponInfo.buckle_sub_amount | currency:\'￥\':\'2\'"></span><span class="red font18" ng-if="checkedCouponInfo.cardcoupon_type==0" ng-bind="orderProducts.productsTotalPrice*checkedCouponInfo.discount/10 | currency:\'￥\':\'2\'"></span><span class="red font18" ng-if="checkedCouponInfo.cardcoupon_type==1&&orderProducts.productsTotalPrice>=checkedCouponInfo.deductible_amount" ng-bind="orderProducts.productsTotalPrice - checkedCouponInfo.deductible_amount | currency:\'￥\':\'2\'"></span><span class="red font18" ng-if="checkedCouponInfo.cardcoupon_type==1&&orderProducts.productsTotalPrice<checkedCouponInfo.deductible_amount" ng-bind="orderProducts.productsTotalPrice - orderProducts.productsTotalPrice | currency:\'￥\':\'2\'"></span><span class="red font18" ng-if="checkedCouponInfo.cardcoupon_type==2&&checkedCouponInfo.freefreight_amount>=freight" ng-bind="orderProducts.productsTotalPrice - freight | currency:\'￥\':\'2\'"></span> <span class="red font18" ng-if="checkedCouponInfo.cardcoupon_type==2&&checkedCouponInfo.freefreight_amount<freight" ng-bind="orderProducts.productsTotalPrice - checkedCouponInfo.freefreight_amount | currency:\'￥\':\'2\'"></span></div></div><div class="submitorderR" ng-click="submitOrderAndPay()">确认</div></div>'),t.put("app/groupForGoods/groupForGoodsDetail/groupForGoodsDetail.html",'<div class="wrapGroupForGoodsDetail"><div class="header-bar"><go-back></go-back><div class="header-title">拼团商品详情</div><div class="clear-both"></div></div><slider aspectratio="{{vm.MALLCONFIG.mallconfignew.product_img_ratio1}}:{{vm.MALLCONFIG.mallconfignew.product_img_ratio2}}"><slider-item ng-repeat="imgdata in vm.goodsData.show_img_list"><img ng-src="{{imgdata}}" class="imgsize100"></slider-item></slider><div class="tm"><div class="td2"><div class="td2_name" ng-bind="vm.goodsData.title"></div><div class="td2_cx" ng-bind-html="vm.goodsData.product_desc"></div><div class="td2_info"><div class="td2_price"><span>已售：<i id="sold_quantity" ng-bind="vm.goodsData.sale_count"></i>件</span></div><div class="td2_num">支付开团并邀请相应人数参团，人数不足自动退款，详见下方拼团玩法</div><div class="clear"></div></div></div><div class="kt" style="visibility: visible;" ng-repeat="item in vm.goodsData.group_buy_rule_list" ng-click="vm.createOrder(item)"><div class="kt_item"><div class="kt_price">团长 ￥<b ng-bind="item.head_price"></b><i>/</i>件，团员 ￥<b ng-bind="item.member_price"></b><i>/</i>件</div><div class="kt_btn"><b ng-bind="item.rule_name"></b></div></div></div><div class="kt" style="visibility: visible;" ng-click="vm.createOrder(1)"><div class="kt_item kt_item_buy"><div class="kt_price">￥<b ng-bind="vm.goodsData.price"></b><i>/</i>件</div><div class="kt_btn">单独购买</div></div></div></div><div class="step"><div class="step_hd">拼团玩法</div><div id="footItem" class="step_list"><div class="step_item step_item_on"><div class="step_num">1</div><div class="step_detail"><p class="step_tit selected">选择<br>心仪商品</p></div></div><div class="step_item"><div class="step_num">2</div><div class="step_detail"><p class="step_tit">支付开团<br>或参团</p></div></div><div class="step_item"><div class="step_num">3</div><div class="step_detail"><p class="step_tit">等待好友<br>参团支付</p></div></div><div class="step_item"><div class="step_num">4</div><div class="step_detail"><p class="step_tit">达到人数<br>团购成功</p></div></div></div></div><footer-bar></footer-bar></div>'),t.put("app/groupForGoods/groupForGoodsList/groupForGoodsList.html",'<div class="order-list wrapGroupForGoodsList"><div class="header-bar"><go-back ng-click="vm.clear_history()"></go-back><div class="header-title">{{vm.title}}</div><div class="clear-both"></div></div><div class="orderlistnav orderlistnavnew"><span class="floatL navselected" ng-class="{select:vm.pageData.status == \'\'}" ng-click="vm.goStatusBtn(\'\')">全部订单</span> <span class="floatL" ng-class="{select:vm.pageData.status == \'待付款\'}" ng-click="vm.goStatusBtn(\'待付款\')">待付款</span> <span class="floatL" ng-class="{select:vm.pageData.status == \'待收货\'}" ng-click="vm.goStatusBtn(\'待收货\')">待收货</span><div class="BKline"></div></div><div class="the-list"><div class="the-order the-order-new" ng-repeat="item in [0,1,2,3]" scroll-bottom-bind="vm.loadMoreData()"><div class="order-title bgGrey"><div class="order-id">2016-3-3 18:30:26</div><div class="clear-both"></div></div><div class="order-content bgWhite"><div class="product-img"><img ng-src="http://open-files.comeoncloud.net/www/hf/jubit/image/20160218/66E07C04CE814639881C4F34760466C9.png@140h_140w_1e_1c"></div><div class="product-info" ui-sref="orderDetail({orderID:item.order_id})"><div class="product-name">【浆果皇后】智利进口蓝莓2盒29.9元</div><div class="product-sku">数量：1</div></div><div class="product-prices"><div class="the-price red">￥39.99 /件</div></div><div class="clear-both"></div></div><div class="order-title"><div class="order-id font12">共1件商品，免运费</div><div class="order-time font12">实付：<span class="red font18">￥29.90</span></div><div class="clear-both"></div></div><div class="bottom-wrap"><div class="waitforpay">待支付</div><div class="newbtn">取消订单</div><div class="newbtn">去支付</div><div class="clear-both"></div></div></div></div><div class="nomoreorder" ng-if="!vm.nodata">数据加载中~</div><div class="nomoreorder" ng-if="vm.nodata">没有更多订单了额~</div></div>'),t.put("app/groupForGoods/groupGoodsList/groupGoodsList.html",'<div class="order-list wrapGroupGoodsList"><div class="header-bar"><go-back ng-click="vm.clear_history()"></go-back><div class="header-title">团购列表</div><div class="clear-both"></div></div><div class="the-list"><div class="the-order the-order-new" ng-repeat="item in vm.dataList" scroll-bottom-bind="vm.loadMoreData()"><div class="order-title bgGrey"></div><div class="order-content bgWhite"><div class="product-img"><img ng-src="{{item.product_list[0].img_url}}"></div><div class="product-info" ui-sref="waitForGroupDetail({goodsGroupId:item.order_id})"><div class="product-name" ng-bind="item.product_list[0].product_name"></div><div class="product-sku"><div class="tuan_g_core"><div class="tuan_g_price"><span>成团价:</span> ￥<b ng-bind="item.group_buy_info.head_price"></b>/件</div><div class="tuan_g_btn"></div></div></div></div><div class="clear-both"></div></div><div class="order-title"></div><div class="bottom-wrap"><div class="waitforpay" ng-if="item.group_buy_info.group_buy_status==0">拼团中</div><div class="waitforpay" ng-if="item.group_buy_info.group_buy_status==1">团购成功</div><div class="waitforpay" ng-if="(item.group_buy_info.group_buy_status==2)&&vm.isOverDate">团购失败</div><div class="waitforpay" ng-if="(item.group_buy_info.group_buy_status==2)&&!vm.isOverDate">团购过期</div><div class="newbtn" ui-sref="orderDetail({orderID:item.order_id})">查看订单详情</div><div class="newbtn" ui-sref="waitForGroupDetail({goodsGroupId:item.order_id})">查看团详情</div><div class="clear-both"></div></div></div></div><div class="nomoreorder" ng-if="vm.nodata">没有更多订单了额~</div></div>'),t.put("app/groupForGoods/waitForGroupDetail/waitForGroupDetail.html",'<div class="wrapWaitForGroupDetail"><div class="success" ng-if="(vm.dataInfo.is_head==1)&&!vm.dataInfo.isOverDate"><div class="kaituan"><i class="icon iconfont icon-shixinduigoudaibiankuang font26"></i> <span ng-if="!vm.isGroupFull">开团成功</span></div><div class="jiaru" ng-if="!vm.isGroupFull">快去邀请好友加入吧</div><div class="jiaru" ng-if="vm.isGroupFull">团购成功</div></div><div class="success bgLightRed" ng-if="(vm.dataInfo.group_buy_status==2)"><div class="kaituan"><i class="icon iconfont icon-kulian font26 red"></i></div><div class="jiaru">团购失败</div></div><div class="success" ng-if="(vm.dataInfo.is_head==0)&&(vm.dataInfo.group_buy_status==0)"><div class="kaituan"><i class="icon iconfont icon-shixinduigoudaibiankuang font26"></i></div><div class="jiaru">拼团中</div></div><div class="success bgLightRed" ng-if="(vm.dataInfo.is_head==0)&&(vm.dataInfo.group_buy_status!=2)&&(vm.dataInfo.is_join==0)&&(vm.dataInfo.isOverDate||vm.isGroupFull)"><div class="kaituan"><i class="icon iconfont icon-kulian font26 red"></i></div><div class="jiaru">来晚了一步</div></div><div class="goodsInfo"><div class="leftImg"><img class="imgStyle" ng-src="{{vm.dataInfo.product_img_url}}"></div><div class="rightInfo"><div class="topTitle" ng-bind="vm.dataInfo.product_name"></div><div class="bottomPrice">{{vm.dataInfo.people_count}}人团：<span class="red">￥<span class="red font16" ng-bind="vm.dataInfo.member_price"></span>/件</span></div></div><div class="clear-both"></div></div><div class="groupinfo"><div class="avtars" ng-class="{inCenter:vm.dataInfo.people_list.length<4}"><div class="avterImgDiv" ng-repeat="item in vm.dataInfo.people_list" style="background-image:url({{item.head_img_url}});"><div class="tuangou" ng-if="$index==0"><i class="icon iconfont icon-tuangouyuan tuangouyuan"></i></div></div></div><div class="clear-both"></div><div class="peopleNeed" ng-if="vm.dataInfo.isOverDate&&!vm.isGroupFull">该团购已过期</div><div class="peopleNeed" ng-if="vm.isGroupFull">该团购人数已满</div><div class="peopleNeed" ng-if="!vm.dataInfo.isOverDate&&!vm.isGroupFull">还差<span class="red font16">{{vm.dataInfo.people_count-vm.dataInfo.pay_people_count}}</span>人，盼你如南方人盼暖气~</div><div class="hline" ng-if="!vm.dataInfo.isOverDate&&!vm.isGroupFull"><div class="totalLeft">剩余<div class="shi" ng-bind="vm.pageData.leftHour"></div>:<div class="shi" ng-bind="vm.pageData.leftMinus"></div>:<div class="shi" ng-bind="vm.pageData.leftSecond"></div>结束</div></div><div class="leadInfo" ng-repeat="item in vm.dataInfo.people_list"><div class="icon iconfont icon-h5iconup arrowTop"></div><div class="leadImg"><img ng-src="{{item.head_img_url}}"></div><div class="leadName">{{item.groupLeader+item.show_name}}</div><div class="time">{{item.pay_time | date:\'yyyy-MM-dd HH:mm:ss\'}}{{item.startGroup}}</div><div class="clear-both"></div></div><div class="partner" ng-if="!vm.isGroupFull"><div class="vline"></div><div class="leadImg"></div><div class="askPartner" ng-if="!vm.isGroupFull">还差{{vm.dataInfo.people_count-vm.dataInfo.pay_people_count}}人，让小伙伴们都来组团吧！</div><div class="askPartner" ng-if="vm.isGroupFull">团购人数已满</div><div class="clear-both"></div></div></div><div class="step"><div class="step_hd">拼团玩法</div><div id="footItem" class="step_list"><div class="step_item step_item_on"><div class="step_num">1</div><div class="step_detail"><p class="step_tit">选择<br>心仪商品</p></div></div><div class="step_item"><div class="step_num">2</div><div class="step_detail"><p class="step_tit">支付开团<br>或参团</p></div></div><div class="step_item"><div class="step_num" ng-class="{selectStep:vm.dataInfo.group_buy_status!=2&&!vm.isGroupFull}">3</div><div class="step_detail"><p class="step_tit" ng-class="{selectStepColor:vm.dataInfo.group_buy_status!=2&&!vm.isGroupFull}">等待好友<br>参团支付</p></div></div><div class="step_item"><div class="step_num" ng-class="{selectStep:vm.isGroupFull}">4</div><div class="step_detail"><p class="step_tit" ng-class="{selectStepColor:vm.isGroupFull}">达到人数<br>团购成功</p></div></div></div></div><div class="goback"><span class="color2B53C8" ng-click="vm.goToGoodsList()">拼好货&nbsp;&nbsp;</span> | <span ui-sref="groupGoodsList">&nbsp;&nbsp;我的团</span></div><div class="footPart" ng-if="(vm.dataInfo.is_head==1)&&!vm.isGroupFull&&!vm.dataInfo.isOverDate"><i class="icon iconfont icon-homeshixin leftHome" ng-click="vm.goToGoodsList()"></i><div class="rightBtn" ng-click="vm.shadeShow=!vm.shadeShow">还差{{vm.dataInfo.people_count-vm.dataInfo.pay_people_count}}人组团成功</div><div class="clear-both"></div></div><div class="footPart" ng-if="(vm.dataInfo.is_head==1)&&(vm.isGroupFull||vm.dataInfo.isOverDate)"><div class="rightBtn newbtn" ng-click="vm.goToGoodsList()">再次开个团，点此回商品列表</div></div><div class="footPart" ng-if="(vm.dataInfo.is_head==0)&&(vm.isGroupFull||vm.dataInfo.isOverDate||vm.dataInfo.is_join==1)"><div class="rightBtn newbtn" ng-click="vm.goToGoodsList()">我也开个团，点此回商品列表</div></div><div class="footPart" ng-if="(vm.dataInfo.is_head==0)&&(vm.dataInfo.is_join==0)&&!vm.isGroupFull&&!vm.dataInfo.isOverDate"><div class="rightBtn newbtn" ng-click="vm.joinGroup()">我也参团</div></div><div class="weixinshareshade" ng-if="vm.shadeShow" ng-click="vm.shadeShow=!vm.shadeShow"></div></div>'),t.put("app/registerLogin/login/login.html",'<div class="header-bar"><go-back></go-back><div class="header-title">登录</div><div class="iconfont icon-gouwuche bug-car" ui-sref="shopBasket"></div><div class="clear-both"></div></div><div class="info-wrap"><div class="info-prompt margin-tp20 logintitle">我是会员</div><form name="loginForm" novalidate="" ng-submit="loginSubmit()"><label class="texelabel toplabel" ng-class="{redborder:loginInfo.phoneerror}" for="phoneinputid"><input class="innerinput" ng-pattern="/^0?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/" name="phonenum" type="tel" required="" ng-model="loginInfo.username" ng-blur="checkerror(loginForm.phonenum)" ng-change="checkerror(loginForm.phonenum)" id="phoneinputid" placeholder="您的手机号码"> <span class="erroeicon"><spn class="iconfont icon-iconfontgantanhao"></spn></span></label><div class="texelabel"><input class="innerinput" name="phonecode" type="tel" ng-pattern="/^[0-9]{6}$/" ng-model="loginInfo.password" required="" placeholder="请输入验证码"><div class="getcode" ng-if="loginInfo.phoneCodeTime<1" ng-click="getPhoneCode(loginForm.phonenum)">获取验证码</div><div class="getcode" ng-if="loginInfo.phoneCodeTime>0">获取验证码({{loginInfo.phoneCodeTime}}s)</div></div><label for="submitbtn" class="publicbtn margin-tp20">登录</label> <input type="submit" class="hidesubmitbtn" id="submitbtn" ng-disabled="loginForm.$invalid"></form><div class="info-prompt margin-tp45 logintitle" ui-sref="register">还没注册？</div><div class="info-prompt font16">享受超值折扣及返利，还有更多专属权利！</div><div class="publicbtn margin-tp14" ui-sref="article({id:414821})">即刻申请会员</div></div>'),t.put("app/registerLogin/register/register.html",'<div class="header-bar"><go-back></go-back><div class="header-title">注册</div><div class="iconfont icon-gouwuche bug-car" ui-sref="shopBasket"></div><div class="clear-both"></div></div><div class="info-wrap"><div class="info-prompt margin-tp20 btnabovetitle">必填项目</div><input class="info-input margin-tp14" placeholder="昵称" ng-model="registerInfo.nickname"> <input class="info-input margin-tp14 width50p floatL no-right-radius" placeholder="手机号码" ng-model="registerInfo.phone"> <button class="margin-tp14 vertifycodebt floatR" ng-click="verificationcodeFunc()">获取验证码</button><div class="clear-both"></div><input class="info-input margin-tp14" placeholder="验证码" ng-model="registerInfo.smsvercode"> <input type="password" class="info-input margin-tp14" placeholder="密码" ng-model="registerInfo.password"> <input type="password" class="info-input margin-tp14" placeholder="重复密码" ng-model="registerInfo.passwordconfirm"><div class="info-prompt margin-tp20 btnabovetitle">如果继续此过程，表示您同意&nbsp;<a ui-sref="privacyDetail">条款条例</a></div><div class="publicbtn margin-tp14" ng-click="registerFunc()">立即注册</div></div>'),t.put("app/registerLogin/retrievePassword/retrievePassword.html",""),t.put("app/returnGoods/applyRefund/applyRefund.html",'<div class="header-bar"><go-back><div class="iconfont icon-fanhui go-back" ng-click="goBack()" role="button" tabindex="0"></div></go-back><div class="header-title">申请退款</div><div class="clear-both"></div></div><div class="return-product-info-wrap no-bottom-border"><div class="return-product-info-item"><div class="infoname">商品名称</div><div class="infocontent">{{pageData.orderData.product_name}}</div><div class="clear-both"></div></div><div class="return-product-info-item"><div class="infoname">订单金额</div><div class="infocontent">{{pageData.orderData.product_totalPrice|currency:"￥":2}}</div><div class="clear-both"></div></div><div class="return-product-info-item"><div class="infoname">订单编号</div><div class="infocontent">{{pageData.orderData.order_id}}</div><div class="clear-both"></div></div><div class="return-product-info-item"><div class="infoname">交易时间</div><div class="infocontent">{{pageData.orderData.order_time|date:"yyyy-MM-dd HH:mm:ss"}}</div><div class="clear-both"></div></div></div><div class="return-product-info-wrap"><div class="return-input-info margin-tp20"><div class="infoname">退款原因</div><div class="infocontent"><select ng-model="theReason.reason" ng-options="refundReason.reason for refundReason in refundReasons"></select></div><div class="selectInput">（必填）</div><div class="clear-both"></div></div><div class="return-input-info"><div class="infoname">退款金额</div><input type="number" ng-model="pageData.refundData.refund_amount" class="infocontent" placeholder="最多可以退{{maxRefundAmount}}元"><div class="selectInput">（必填）</div><div class="clear-both"></div></div></div><div class="return-input-info-wrap"><div class="return-input-info"><div class="infoname">手机号码</div><input type="tel" ng-model="pageData.refundData.phone" class="infocontent" placeholder="填写手机号便于卖家联系您"><div class="selectInput">（必填）</div><div class="clear-both"></div></div><div class="return-input-info"><div class="infoname">备注信息</div><input type="text" ng-model="pageData.refundData.remark" class="infocontent" placeholder="最多可填200字"><div class="selectInput">（选填）</div><div class="clear-both"></div></div><div class="return-input-info"><div class="infoname">图片举证</div><div type="text" class="infocontent">最多可上传3张图片</div><div class="selectInput">（选填）</div><div class="clear-both"></div></div><div class="addpic"><div class="addpics"><label class="addpicbtn label0 fileContainer" for="upLoadImg0"><span class="iconfont icon-jia font28 jia0"></span> <input accept="image/*" type="file" id="upLoadImg0"></label> <label class="addpicbtn label1 fileContainer" for="upLoadImg1"><span class="iconfont icon-jia font28 jia1"></span> <input accept="image/*" type="file" id="upLoadImg1"></label> <label class="addpicbtn label2 fileContainer" for="upLoadImg2"><span class="iconfont icon-jia font28 jia2"></span> <input accept="image/*" type="file" id="upLoadImg2"></label></div></div></div><div class="btn-wrap"><label for="submitbtn" class="bigbtn" ng-click="submitRefund()">提交</label></div><div service-time=""></div>'),t.put("app/returnGoods/refundDestination/refundDestination.html",'<div class="header-bar"><go-back><div class="iconfont icon-fanhui go-back" ng-click="goBack()" role="button" tabindex="0"></div></go-back><div class="header-title">退款去向</div><div class="clear-both"></div></div><div class="return-product-info-wrap"><div class="refund-product-img"><img ng-src="{{pageData.orderData.head_img}}"></div><div class="refund-produc-brief"><p>{{pageData.orderData.product_name}}</p></div><div class="clear-both"></div></div><div class="return-input-info-wrap"><div class="refundDes"><div class="name">退款至微信</div><div class="vl">{{refundDetailData.refund_amount|currency:"￥":2}}</div><div class="clear-both"></div></div><div class="refundDes"><div class="state-circle-wrap"><div class="circle-item"><span class="small-circle bg-green"></span> <span class="state-barR bg-green"></span></div><div class="circle-item"><span class="state-barL" ng-class="{\'bg-green\':step>=2}"></span> <span class="big-circle iconfont icon-xuanzhong" ng-class="{\'color-green\':step>=2,\'border-green\':step>=2}"></span> <span class="state-barR" ng-class="{\'bg-green\':step>=2}"></span></div><div class="circle-item"><span class="state-barL" ng-class="{\'bg-green\':step>=3}"></span> <span class="small-circle" ng-class="{\'bg-green\':step>=3}"></span></div></div><div class="state-txt-wrap"><div class="txt-item color-green">卖家退款</div><div class="txt-item" ng-class="{\'color-green\':step>=2}">银行受理</div><div class="txt-item" ng-class="{\'color-green\':step>=3}">确认到账</div></div></div><div class="refundDes"><div class="name">退款金额均会原路退回您的支付账户，请注意查收</div><div class="clear-both"></div></div><div class="refundDes"><div class="more" ui-sref="refundLog({orderDetailId:pageData.orderDetailId})">查看完整协商记录</div></div></div><div class="btn-wrap"><label for="submitbtn" class="bigbtn" ui-sref="orderDetail({id:pageData.orderId})">查看订单详情</label></div>'),t.put("app/returnGoods/refundLog/refundLog.html",'<div class="header-bar"><go-back><div class="iconfont icon-fanhui go-back" ng-click="goBack()" role="button" tabindex="0"></div></go-back><div class="header-title">协商记录</div><div class="clear-both"></div></div><div class="mainContent"></div>'),t.put("app/returnGoods/refundState/refundState.html",'<div class="header-bar"><go-back><div class="iconfont icon-fanhui go-back" ng-click="goBack()" role="button" tabindex="0"></div></go-back><div class="header-title">退款处理中</div><div class="clear-both"></div></div><div class="refund-state" ng-if="refundDetailData.refund_status==0"><span class="iconfont icon-gantanhao01 red"></span> 等待商家处理退款申请</div><div class="refund-state" ng-if="refundDetailData.refund_status==2"><span class="iconfont icon-gantanhao01 red"></span> 商家不同意退款申请</div><div class="refund-state" ng-if="refundDetailData.refund_status==1&&refundDetailData.is_return_product==0"><span class="iconfont icon-gantanhao01 red"></span> 商家同意退款申请</div><div class="refund-state" ng-if="refundDetailData.refund_status==1&&refundDetailData.is_return_product==1"><span class="iconfont icon-gantanhao01 red"></span> 商家已同意退款，请退货给商家</div><div class="refund-state" ng-if="refundDetailData.refund_status==3"><span class="iconfont icon-gantanhao01 red"></span> 已退货，等待商家确认收货</div><div class="refund-state" ng-if="refundDetailData.refund_status==4"><span class="iconfont icon-gantanhao01 red"></span> 商家已确认收货</div><div class="refund-state" ng-if="refundDetailData.refund_status==5"><span class="iconfont icon-gantanhao01 red"></span> 未收到货，拒绝退款</div><div class="refund-state" ng-if="refundDetailData.refund_status==6"><span class="iconfont icon-gantanhao01 red"></span> 退款成功</div><div class="refund-state" ng-if="refundDetailData.refund_status==7"><span class="iconfont icon-gantanhao01 red"></span> 关闭退货申请</div><div class="state-tip-wrap" ng-if="refundDetailData.refund_status==0"><div><div class="tipname">如卖家同意：</div><div class="tipcontent">申请将达成并退款给您</div><div class="clear-both"></div></div><div><div class="tipname">如卖家拒绝：</div><div class="tipcontent">您需要重新修改退款申请或申请维权</div><div class="clear-both"></div></div></div><div class="state-tip-wrap" ng-if="refundDetailData.refund_status==5||refundDetailData.refund_status==2"><div><div class="tipname">拒绝理由:</div><div class="tipcontent">{{refundDetailData.refund_refusereason}}</div><div class="clear-both"></div></div></div><div class="state-tip-wrap" ng-if="refundDetailData.refund_status==1&&refundDetailData.is_return_product==1"><div class="border-bt2"><div class="tipname">退货地址:</div><div class="tipcontent">{{refundDetailData.refund_address}}</div><div class="clear-both"></div></div><div class="btn-wrap2"><label for="submitbtn" class="bigbtn" ui-sref="returnLogistics({orderId:orderId,orderDetailId:orderDetailId})">填写退货物流信息</label></div></div><div class="state-tip-wrap" ng-if="refundDetailData.refund_status==1&&refundDetailData.is_return_product==0||refundDetailData.refund_status==3||refundDetailData.refund_status==4"><div><div class="tipname">如卖家确认：</div><div class="tipcontent">退款成功并退回您的支付账户</div><div class="clear-both"></div></div><div><div class="tipname">如卖家拒绝：</div><div class="tipcontent">您需要重新修改退货信息或申请维权</div><div class="clear-both"></div></div></div><div class="state-tip-wrap" ng-if="refundDetailData.refund_status==6"><div><div class="tipname">退款金额:</div><div class="tipcontent">{{refundDetailData.refund_amount|currency:"￥":2}}</div><div class="clear-both"></div></div><div class="border-bt2"><div class="tipname">退款时间:</div><div class="tipcontent">2015-10-10</div><div class="clear-both"></div></div><div class="btn-wrap2"><label for="submitbtn" class="bigbtn3" ui-sref="refundDestination({orderId:orderId,orderDetailId:orderDetailId})">查看退款去向</label></div></div><div class="return-product-info-wrap margin-tp20 border-tp"><div class="return-product-info-item"><div class="infoname">退款编号</div><div class="infocontent">{{refundDetailData.refund_id}}</div><div class="clear-both"></div></div><div class="return-product-info-item"><div class="infoname">申请时间</div><div class="infocontent">{{refundDetailData.time|date:"yyyy-MM-dd HH:MM:ss"}}</div><div class="clear-both"></div></div><div class="return-product-info-item"><div class="infoname">退款原因</div><div class="infocontent">{{refundDetailData.refund_reason}}</div><div class="clear-both"></div></div><div class="return-product-info-item"><div class="infoname">处理方式</div><div class="infocontent" ng-if="refundDetailData.is_return_product==1">我要退款，并退货</div><div class="infocontent" ng-if="refundDetailData.is_return_product==0">我要退款</div><div class="clear-both"></div></div><div class="return-product-info-item"><div class="infoname">退款金额</div><div class="infocontent">{{refundDetailData.refund_amount|currency:"￥":2}}</div><div class="clear-both"></div></div><span class="readmore"><a ui-sref="refundLog({orderDetailId:orderDetailId})">查看完整协商记录</a></span></div><div class="btn-wrap" ng-if="refundDetailData.refund_status==0"><label for="submitbtn" class="bigbtn" ui-sref="orderDetail({id:orderId})">订单详情</label></div><div class="btn-wrap" ng-if="refundDetailData.refund_status==2||refundDetailData.refund_status==5"><label for="submitbtn" class="bigbtn" ui-sref="applyRefund({orderId:orderId,orderDetailId:orderDetailId,update:1})">重新提交退货申请</label></div><div class="btn-wrap" ng-if="refundDetailData.refund_status==0||refundDetailData.refund_status==2||refundDetailData.refund_status==5"><label for="submitbtn" class="bigbtn2" ng-click="closeRefund()">关闭退款申请</label></div><a class="btn-wrap" ng-if="refundDetailData.refund_status==2||refundDetailData.refund_status==5" href="tel:02124099196"><label for="submitbtn" class="bigbtn" href="tel:02124099196">拨打客服电话</label></a>'),t.put("app/returnGoods/returnLogistics/returnLogistics.html",'<div class="header-bar"><go-back><div class="iconfont icon-fanhui go-back" ng-click="goBack()" role="button" tabindex="0"></div></go-back><div class="header-title">填写退货物流</div><div class="clear-both"></div></div><div class="return-product-info-wrap"><div class="return-input-info"><div class="infoname">物流方式</div><div class="infocontent"><select ng-model="currentCompany.name" ng-options="company.name for company in expressCompany"></select></div><div class="clear-both"></div></div><div class="return-input-info"><div class="infoname">物流单号</div><input type="text" ng-model="logisticsInfo.express_number" class="infocontent" placeholder="请输入物流单号"><div class="clear-both"></div></div></div><div class="btn-wrap"><label for="submitbtn" class="bigbtn" ng-click="submitExpress()">提交</label></div>')}]),function(){"use strict";angular.module("jikuwifi",["ngAnimate","ngTouch","ngSanitize","ui.router","widgetsModule","clientapi","shop"])}(),function(){"use strict";function t(t,e){function i(e,i,a,o){function s(t){n(t.activeIndex),e.$apply()}function n(t){o.checkedPd=angular.copy(e.productsData.productListData[t]),o.checkedPd.tags=o.checkedPd.tags.split(",")}function c(t,e){for(var i=0;i<t.slides.length;i++){var a,o,s=t.slides[i],n=t.width+t.params.spaceBetween;a=.8,o=(a-1)*Math.abs(s.progress)+1,o=o>.9*a?o:0;var c=(s.progress-Math.sin(Math.PI/2*s.progress))*n*.3+n*s.progress*.7;angular.element(s).css({transform:"translate3d("+c+"px, 0px, 0px) scale("+o+")"})}console.log("onProgress")}function r(t,e){for(var i=0;i<t.slides.length;i++){var a=t.slides[i].style;a.webkitTransitionDuration=a.MsTransitionDuration=a.msTransitionDuration=a.MozTransitionDuration=a.OTransitionDuration=a.transitionDuration=e+"ms"}console.log("onSetTransition")}o.checkedPd={};var d,l,u={nextButton:".swiper-button-next",prevButton:".swiper-button-prev",watchSlidesProgress:!0,speed:400,spaceBetween:-100,onProgress:c,onSetTransition:r,onTransitionEnd:s};l=e.$watchCollection("productsData",function(i,a){d||e.productsData.productListData.length<=0||(n(0),d=!0,t(function(){angular.element(".swiper-wrapper").html(angular.element(".swipebox").children().clone()),d=new Swiper(".swiper-container-h",u)}))}),e.$on("$destroy",function(){l()})}function a(t,e,i){function a(t){s.cats=[]}function o(t){console.log(t)}var s=this;s.cats=[],e.pdCatrgory({pagesize:1e4}).then(a)["catch"](o)}a.$inject=["$log","nAPI","githubContributor"];var o={restrict:"E",scope:{productsData:"="},templateUrl:"app/product_jk/productSlider/productSlider.html",link:i,controller:a,controllerAs:"vm_ps"};return o}t.$inject=["$timeout","$window"],angular.module("jikuwifi").directive("productSliderJk",t)}(),function(){"use strict";function t(t,e,i,a){}t.$inject=["$scope","$window","$timeout","nAPI"],angular.module("jikuwifi").controller("productList3Ctrl_jk",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n,c,r,d,l,u){function p(){o.show("加载中..."),d(o.hide,500);var i=a.pdDetail(e.pdID).then(x).then(S)["catch"](P);u.resolve(i).then(function(){O[0]=t.$watchCollection("vm.odSubmitData",_),O[1]=t.$watchCollection("vm.odSubmitData.skus[0]",_),O[2]=t.$watchCollection("vm.addressData",b),O[3]=t.$watchCollection("vm.checkedCouponInfo",m),O[4]=t.$watchCollection("vm.checkedPickupAddress",y),O[5]=t.$watchCollection("vm.pdInfo",v),O[6]=t.$watchCollection("vm.odSubmitData.delivery_type",_),O[7]=t.$watchCollection("vm.freight",_),t.$on("$destroy",function(){for(var t in O)O[t]()})})}function v(){M.maintime[0]=new Date(M.pdInfo.startSelectDate),M.maintime[1]=new Date(M.pdInfo.backSelectDate),M.odSubmitData.departure_date=M.pdInfo.startSelectDate,M.odSubmitData.backhome_date=M.pdInfo.backSelectDate,console.log("vm.pdInfo",M.pdInfo);var t=new Date(M.pdInfo.startSelectDate),e=t.format("yyyy/MM/dd");if(void 0!=M.pdInfo.price_config_list){for(var i=0,a=!1,o=0;o<M.pdInfo.price_config_list.length;o++)if(e==M.pdInfo.price_config_list[o].date){i=M.pdInfo.price_config_list[o].price,a=!0;break}a?(M.totalPrice=i*M.odSubmitData.skus[0].count*M.odSubmitData.totalday,M.pdInfo.skus[0].diffPrice=i):M.pdInfo.skus[0].diffPrice=M.pdInfo.skus[0].price}else M.pdInfo.skus[0].diffPrice=M.pdInfo.skus[0].price;w()}function g(t){1==t?(M.isshowtime=!M.isshowtime,M.pdInfo.timetype=1):(M.backshowtime=!M.backshowtime,
M.pdInfo.timetype=2)}function m(){M.odSubmitData.cardcoupon_id=M.checkedCouponInfo?M.checkedCouponInfo.cardcoupon_id:0}function f(){M.odSubmitData.delivery_type=2,M.checkedCouponInfo="",M.addressData="",M.freight=0}function h(){M.odSubmitData.delivery_type=1,M.checkedCouponInfo="",M.addressData="",M.freight=0}function b(){""!==M.addressData&&(M.odSubmitData.receiver_province=M.addressData.province,M.odSubmitData.receiver_province_code=M.addressData.province_code,M.odSubmitData.receiver_city=M.addressData.city,M.odSubmitData.receiver_city_code=M.addressData.city_code,M.odSubmitData.receiver_dist=M.addressData.dist,M.odSubmitData.receiver_dist_code=M.addressData.dist_code,M.odSubmitData.receiver_address=M.addressData.address,M.odSubmitData.receiver_name=M.addressData.consigneename,M.odSubmitData.receiver_phone=M.addressData.phone,j())}function _(){if(M.odSubmitData.totalday>0){M.totalPrice=0;var t=new Date(M.pdInfo.startSelectDate),e=t.format("yyyy/MM/dd");if(void 0!=M.pdInfo.price_config_list){for(var i=0,a=!1,o=0;o<M.pdInfo.price_config_list.length;o++)if(e==M.pdInfo.price_config_list[o].date){i=M.pdInfo.price_config_list[o].price,a=!0;break}a?(M.totalPrice=i*M.odSubmitData.skus[0].count*M.odSubmitData.totalday,M.pdInfo.skus[0].diffPrice=i):(M.totalPrice=M.pdInfo.skus[0].price*M.odSubmitData.skus[0].count*M.odSubmitData.totalday,M.pdInfo.skus[0].diffPrice=M.pdInfo.skus[0].price)}else M.totalPrice=M.pdInfo.skus[0].price*M.odSubmitData.skus[0].count*M.odSubmitData.totalday,M.pdInfo.skus[0].diffPrice=M.pdInfo.skus[0].price;M.odSubmitData.skus[1].count=M.odSubmitData.skus[0].count,M.odSubmitData.totalprice=M.totalPrice+M.repdInfo.skus[0].price*M.odSubmitData.skus[1].count+M.freight}else M.odSubmitData.totalprice=0,M.totalPrice=0;l.sessionStorage.setItem("jikuCreatOrder",angular.toJson(M))}function y(){M.odSubmitData.get_address_id=M.checkedPickupAddress.id,M.odSubmitData.get_address_name=M.checkedPickupAddress.name}function D(){M.odSubmitData.skus[0].count>1&&(M.odSubmitData.skus[0].count=M.odSubmitData.skus[0].count-1)}function k(){M.odSubmitData.skus[0].count<M.pdInfo.totalcount&&d(function(){M.odSubmitData.skus[0].count++})}function w(){if(M.maintime[0]){var t=new Date(M.maintime[0]);M.odSubmitData.departure_date=t.getTime()}if(M.maintime[1]){var e=new Date(M.maintime[1]);M.odSubmitData.backhome_date=e.getTime()}if(M.maintime[0]&&M.maintime[1]){var i=(M.odSubmitData.backhome_date-M.odSubmitData.departure_date)/864e5+1;M.odSubmitData.totalday=i>2?Math.ceil(i):0}}function x(i){i.timetype=1,M.pdInfo=i;var o=l.sessionStorage.getItem("jikuCreatOrderTime");if(o){var s=angular.fromJson(o);""!==s.departure_date&&""!==s.backhome_date&&(i.startSelectDate="",i.backSelectDate="",M.pdInfo.startSelectDate="",M.pdInfo.backSelectDate="",s.departure_date&&(M.pdInfo.startSelectDate=i.startSelectDate=M.maintime[0]=new Date(s.departure_date)),s.backhome_date&&(M.pdInfo.backSelectDate=i.backSelectDate=M.maintime[1]=new Date(s.backhome_date)),w(),I()),l.sessionStorage.removeItem("jikuCreatOrderTime")}else{console.log("pddata-dealProductDate",i);var n=l.sessionStorage.getItem("jikuHistoryTempOrderRecord");if(n){var c=angular.fromJson(n);console.log("pddata-jikuHistoryTempOrderRecordObj",c),c.pid==M.pdInfo.product_id?(c.startSelectDate&&(M.pdInfo.startSelectDate=i.startSelectDate=M.maintime[0]=new Date(c.startSelectDate)),c.backSelectDate&&(M.pdInfo.backSelectDate=i.backSelectDate=M.maintime[1]=new Date(c.backSelectDate)),I()):l.sessionStorage.removeItem("jikuHistoryTempOrderRecord")}}return t.$watch("vm.pdInfo.startSelectDate",function(){console.log("vm.pdInfo.startSelectDate watch",M.pdInfo.startSelectDate),I()}),t.$watch("vm.pdInfo.backSelectDate",function(){console.log("vm.pdInfo.backSelectDate watch",M.pdInfo.backSelectDate),I()}),M.odSubmitData.skus[0].sku_id=i.skus[0].sku_id,M.odSubmitData.skus[0].tags=i.tags,M.odSubmitData.skus[0].product_id=e.pdID,j(),a.pdDetail(i.relation_product_id)}function I(){var t={pid:M.pdInfo.product_id,startSelectDate:M.pdInfo.startSelectDate,backSelectDate:M.pdInfo.backSelectDate};l.sessionStorage.setItem("jikuHistoryTempOrderRecord",angular.toJson(t))}function S(t){M.repdInfo=t,M.odSubmitData.skus[1].sku_id=t.skus[0].sku_id,M.odSubmitData.skus[1].tags=t.tags,M.odSubmitData.skus[1].product_id=e.pdID,M.odSubmitData.skus[1].parent_product_id=M.odSubmitData.skus[0].sku_id}function P(t){"自提点ID为必填项,请检查"==t.errmsg&&(t.errmsg="请选择自提机场"),n.alert(t.errmsg)}function L(){console.log(M.odSubmitData),o.show(),a.odSubmit2(M.odSubmitData).then(C).then(T)["catch"](A)}function C(t){return l.sessionStorage.removeItem("jikuHistoryTempOrderRecord"),M.odResultata=t,"WEIXIN"===M.odSubmitData.pay_type?s.pay(t.order_id):void 0}function T(t){l.sessionStorage.removeItem("jikuCreatOrder");var e={totalPrice:M.odResultata.total_amount,orderid:M.odResultata.order_id};r.dealPayInfo(t,e)}function A(t){if(l.sessionStorage.removeItem("jikuCreatOrder"),o.hide(),t.errMsg&&t.errMsg.match("chooseWXPay")){var e={totalPrice:M.odResultata.total_amount,orderid:M.odResultata.order_id};r.dealPayInfo(t,e)}else P(t)}function j(){var t={receiver_province_code:M.odSubmitData.receiver_province_code,receiver_city_code:M.odSubmitData.receiver_city_code,receiver_dist_code:M.odSubmitData.receiver_dist_code,skus:[M.odSubmitData.skus[0]]};a.freight(t).then(function(t){M.freight=t.freight})["catch"](function(t){console.log("获取运费出错",t)})}var M=this,O=[];M.pdInfo={},M.repdInfo={},M.odResultata={},M.checkedPickupAddress={},M.addressData={},M.checkedCouponInfo={},M.odSubmitData={departure_date:"",backhome_date:"",delivery_type:0,pay_type:"WEIXIN",receiver_name:"",receiver_phone:"",cc:0,skus:[{count:1},{count:1}],receiver_zip:"",totalprice:0,totalday:0},M.maintime=[],M.isshowtime=!1,M.backshowtime=!1,M.totalPrice=0;var B=l.sessionStorage.getItem("jikuCreatOrder");if(B){var E=angular.fromJson(B);E.pdInfo&&E.pdInfo.product_id===e.pdID?angular.merge(M,E):(l.sessionStorage.removeItem("jikuCreatOrder"),B=void 0),M.maintime[0]=new Date(M.odSubmitData.departure_date),M.maintime[1]=new Date(M.odSubmitData.backhome_date)}M.addressId=e.addressId,M.freight=0,M.odSubmit=L,M.checkPirport=h,M.checkXCGM=f,M.jianbtn=D,M.jiabtn=k,M.showTimePlugin=g,p();var F=$(".wrap-jiku-create-order").dropload({autoLoad:!1,scrollArea:window,loadUpFn:function(t){setTimeout(function(){i.reload()},1e3)}});F.lock("down");setTimeout(function(){$.get("/serv/pubapi.ashx?action=VistWxpay",{},function(t){$.get("/serv/pubapi.ashx?action=VistWxpay",{},function(t){},"json")},"json")},1e3)}t.$inject=["$scope","$stateParams","$state","nAPI","wLoading","wxAPI","wPopup","$location","shopAPI","$timeout","$window","$q"],angular.module("jikuwifi").controller("createOrderCtrl_jk",t)}(),function(){"use strict";function t(){function t(){return e}var e=[{title:"AngularJS",url:"https://angularjs.org/",description:"HTML enhanced for web apps!",logo:"angular.png"},{title:"BrowserSync",url:"http://browsersync.io/",description:"Time-saving synchronised browser testing.",logo:"browsersync.png"},{title:"GulpJS",url:"http://gulpjs.com/",description:"The streaming build system.",logo:"gulp.png"},{title:"Jasmine",url:"http://jasmine.github.io/",description:"Behavior-Driven JavaScript.",logo:"jasmine.png"},{title:"Karma",url:"http://karma-runner.github.io/",description:"Spectacular Test Runner for JavaScript.",logo:"karma.png"},{title:"Protractor",url:"https://github.com/angular/protractor",description:"End to end test framework for AngularJS applications built on top of WebDriverJS.",logo:"protractor.png"},{title:"Less",url:"http://lesscss.org/",description:"Less extends the CSS language, adding features that allow variables, mixins, functions and many other techniques.",logo:"less.png"}];this.getTec=t}angular.module("jikuwifi").service("webDevTec",t)}(),function(){"use strict";function t(){function t(t,e,i){function a(){v.dateNm=1==t.timedata.timetype?"出发":"返程";var e={id:0,show:!1,dayList:[],year:2016,month:3,date:new Date,selectDate:{},hasBeforeToday:!1};t.timedata.calendar=e,v.dataList=t.timedata,c(v.dataList)}function o(){var t=v.dataList.buy_time;if(t){t=t.split(",");for(var e=0;e<t.length;e++){t[e].indexOf("-")>-1?t[e]=t[e].split("-"):t[e].indexOf("/")>-1&&(t[e]=t[e].split("/"));for(var i=0;i<t[e].length;i++)t[e][i]=parseInt(t[e][i])}}else t=[];return t}function s(e){if(0==e)return!1;if(e.isBeforeToday())return!1;if(1==t.timedata.timetype){for(var i=o(),a=0;a<i.length;a++)if(e.year==i[a][0]&&e.month==i[a][1]&&e.day==i[a][2])return!0}else{var s=new Date(t.timedata.startSelectDate);if(LADatePicker.dateAdd("d",3,s),s>e.getDate())return!0}}function n(){t.timedata.startSelectDate&&t.timedata.backSelectDate&&t.timedata.startSelectDate>t.timedata.backSelectDate&&(t.timedata.backSelectDate=new Date(t.timedata.startSelectDate),LADatePicker.dateAdd("d",3,t.timedata.backSelectDate)),t.isshowtime=!v.dataList.calendar.show,v.dataList.calendar.show=!v.dataList.calendar.show}function c(t){if(t.calendar.show=v.isshowtime,0==t.calendar.dayList.length){var e=t.calendar.date.getFullYear(),i=t.calendar.date.getMonth()+1;if(1==t.timetype&&t.startSelectDate&&(e=t.startSelectDate.getFullYear(),i=t.startSelectDate.getMonth()+1),2==t.timetype&&t.backSelectDate)e=t.backSelectDate.getFullYear(),i=t.backSelectDate.getMonth()+1;else if(t.startSelectDate){var a=new Date(t.startSelectDate);LADatePicker.dateAdd("d",3,a),e=a.getFullYear(),i=a.getMonth()+1}p(t,e,i),console.log("item.calendar.dayList",t.calendar.dayList)}}function r(e,i){i&&(i.isBeforeToday()||s(i)||i.isTody||(LADatePicker.clearCheck(e.calendar.dayList),i.isCheck=!0,e.calendar.selectDate.day=i.getDate(),1==t.timedata.timetype?t.timedata.startSelectDate=e.calendar.selectDate.day:t.timedata.backSelectDate=e.calendar.selectDate.day,n()))}function d(t){u(t,1)}function l(t){t.calendar.hasBeforeToday||u(t,-1)}function u(t,e){t.calendar.selectDate.day="";var i=new Date(t.calendar.year+"/"+t.calendar.month+"/1");LADatePicker.dateAdd("m",e,i),p(t,i.getFullYear(),i.getMonth()+1)}function p(t,e,i){t.calendar.year=e,t.calendar.month=i,t.calendar.dayList=LADatePicker.createDayArr(t.calendar.year,t.calendar.month),t.calendar.hasBeforeToday=LADatePicker.hasBeforeToday(t.calendar.dayList),t.calendar.currTimeList=[];for(var a=0;a<t.calendar.dayList.length;a++)for(var o=0;o<t.calendar.dayList[a].length;o++)if(0!=t.calendar.dayList[a][o]){var s=t.calendar.dayList[a][o].year+"/"+t.calendar.dayList[a][o].month+"/"+t.calendar.dayList[a][o].day,n=new Date(s).format("yyyy/MM/dd");if(void 0!=v.dataList.price_config_list&&v.dataList.price_config_list.length>0)for(var c=0;c<v.dataList.price_config_list.length;c++){if(n==v.dataList.price_config_list[c].date){t.calendar.dayList[a][o].price=v.dataList.price_config_list[c].price;break}t.calendar.dayList[a][o].price=v.dataList.price}else t.calendar.dayList[a][o].price=v.dataList.price}}{var v=t.vm={priceConfigList:t.timedata,isshowtime:t.isshowtime,week:LADatePicker.config.week,dataList:[],dateNm:"开始"};t.vf={isAbleClick:s,showPlugin:n,showSelect:c,selectDate:r,toNextMonth:d,toPreMonth:l,toMonth:u,setItemDateList:p,init:a}}a()}t.$inject=["$scope","$timeout","wLoading"];var e={restrict:"E",scope:{timedata:"=",isshowtime:"="},templateUrl:"app/components_jk/timeplugin/timeplugin.html",controller:t,controllerAs:"tpc"};return e}angular.module("jikuwifi").directive("timeplugin",t)}(),function(){"use strict";function t(t){return{templateUrl:"app/components_jk/proList/proList2.html",link:function(t,e,i,a){t.$watchCollection("pdlist.productListData",function(e,i){e&&e.length>0&&angular.forEach(t.pdlist.productListData,function(t,e){"string"==typeof t.tags&&t.tags.length>0&&(t.tags=t.tags.split(","))})})}}}t.$inject=["nAPI"],angular.module("jikuwifi").directive("proList2",t)}(),function(){"use strict";function t(t){return{templateUrl:"app/components_jk/proList/proList.html",link:function(e,i,a,o){function s(e){t.pdDetail(e).then(function(t){console.log(t),$(".detailInfo").html('<div class="mask-layer""></div><div class="product-detail"><div class="title"><div class="title-name">套餐详情</div><div class="close iconfont icon-guanbi"></div><div class="clear-both"></div></div><div class="product-content">产品标题：'+t.title+'</div><div class="product-content">产品描述：'+t.product_desc+"</div></div>"),$(".detailInfo")[0].addEventListener("touchmove",function(t){t.preventDefault()})})}var n=e.pdlist;n.showDetail=0,n.productDetail=function(t){s(t),$(".detailInfo").html('<div class="mask-layer""></div><div class="product-detail"><div class="title"><div class="title-name">套餐详情</div><div class="close iconfont icon-guanbi"></div><div class="clear-both"></div></div><div class="product-content">数据加载中...</div></div>')},document.onclick=function(t){var e=t.srcElement?t.srcElement:t.target;(e.className.match("close")||e.className.match("mask-layer"))&&$(".detailInfo").html("")}}}}t.$inject=["nAPI"],angular.module("jikuwifi").directive("proList",t)}(),function(){"use strict";function t(t,e,i){function a(e,a,o,s){function n(a){i.show("设置中..."),e.pickupAdress=s.paData[a],s.checkboxstatus=0,t(i.hide,500)}function c(){s.checkboxstatus=1,u[1]?(s.checkednum=d(e.pickupAdress,s.paData),r()):(s.loadPickupAdress(),u[1]=e.$watchCollection("vm_pua.loadOver",function(t,i){s.loadOver&&(s.checkednum=d(e.pickupAdress,s.paData)),s.checkboxstatus&&r()}))}function r(){}function d(t,e){var i=0;return console.log(t),"object"==typeof t&&angular.forEach(e,function(e,a){t.id==e.id&&(i=a)}),i}var l,u=[];l={direction:"vertical",slidesPerView:"auto",freeMode:!0},s.checkednum=0,s.checkboxstatus=0,s.loadOver=0,s.opencheckbox=c,s.setMyCheck=n,u[0]=e.$watchCollection("vm_pua.checkboxstatus",function(t,e){console.log("关闭选择框时,vm_pua.checkboxstatus",s.checkboxstatus)}),e.$on("$destroy",function(){for(var t=0;t<u.length;t++)u[t]()})}function o(t,e,i){function a(){e.getPickupAddress().then(o)["catch"](s)}function o(t){t.result&&t.result.list&&(n.paData=t.result.list),n.loadOver=1}function s(t){console.log(t),n.loadOver=1}var n=this;n.paData=[],n.loadOver=0,n.loadPickupAdress=a}o.$inject=["$log","nAPI","githubContributor"];var s={restrict:"E",scope:{pickupAdress:"="},templateUrl:"app/components_jk/pickupAdress/pickupAdress.html",link:a,controller:o,controllerAs:"vm_pua"};return s}t.$inject=["$timeout","$window","wLoading"],angular.module("jikuwifi").directive("pickupAdressJk",t)}(),function(){"use strict";function t(){return{templateUrl:"app/components_jk/orderList/orderList.html",link:function(t,e,i,a){}}}angular.module("jikuwifi").directive("orderList",t)}(),function(){"use strict";function t(){function t(t,e,i,a){var o,s=malarkey(e[0],{typeSpeed:40,deleteSpeed:40,pauseDelay:800,loop:!0,postfix:" "});e.addClass("acme-malarkey"),angular.forEach(t.extraValues,function(t){s.type(t).pause()["delete"]()}),o=t.$watch("vm.contributors",function(){angular.forEach(a.contributors,function(t){s.type(t.login).pause()["delete"]()})}),t.$on("$destroy",function(){o()})}function e(t,e){function i(){return a().then(function(){t.info("Activated Contributors View")})}function a(){return e.getContributors(10).then(function(t){return o.contributors=t,o.contributors})}var o=this;o.contributors=[],i()}e.$inject=["$log","githubContributor"];var i={restrict:"E",templateUrl:"app/components-jk/mobileDatepacker/mobileDatepacker.html",link:t,controller:e,controllerAs:"vm"};return i}angular.module("jikuwifi").directive("mobileDatepacker",t)}(),function(){"use strict";function t(t,e,i,a,o){function s(t,e,i,s){function n(t){o.catID=t,a.go("productList",o)}var c=[],r=new Swiper;s.device=r.device,c[0]=t.$watch("vm_ccj.chedkedCat_p",function(t,e){e&&t.category_id!=o.catID&&n(t.category_id)}),c[1]=t.$watch("vm_ccj.chedkedCat_s",function(t,e){e&&t.category_id!=o.catID&&n(""==t.category_id?s.chedkedCat_p.category_id:t.category_id)}),t.$on("$destroy",function(){for(var t=0;t<c.length;t++)c[t]()})}function n(t,e){function i(t){return s.catDate||sessionStorage.setItem("catDate_jk",JSON.stringify(t)),console.log(["分类列表",t.result]),s.chedkedCat_p={category_id:"",category_name:"全部洲"},s.chedkedCat_s={category_id:"",category_name:"全部国家"},t.result.unshift(s.chedkedCat_p),angular.forEach(t.result,function(t,e){t.children||(t.children=[]),t.children.unshift(s.chedkedCat_s),o.catID&&!s.chedkedCat_p.category_id&&(s.chedkedCat_p=o.catID==t.category_id?t:s.chedkedCat_p,angular.forEach(t.children,function(e,i){o.catID==e.category_id&&(s.chedkedCat_p=t,s.chedkedCat_s=e)}))}),s.cats=t.result,s.cats}function a(t){console.log(t)}var s=this;s.catdata=[],s.chedkedCat_p="",s.chedkedCat_s="";var n=sessionStorage.getItem("catDate_jk");n?i(JSON.parse(n)):(s.catDate="",e.pdCatrgory({pagesize:1e4,action:"listall"}).then(i)["catch"](a))}n.$inject=["$scope","nAPI"];var c={restrict:"E",scope:{pickupAdress:"="},templateUrl:"app/components_jk/catCheckJk/catCheckJk.html",link:s,controller:n,controllerAs:"vm_ccj"};return c}t.$inject=["$timeout","$window","wLoading","$state","$stateParams"],angular.module("jikuwifi").directive("catCheckJk",t)}(),function(){"use strict";function t(t,e,i,a,o){console.log(a),o.share(a),angular.element(".corverbg").one("webkitAnimationEnd",function(t){t.currentTarget.style.display="none"})}t.$inject=["$window","$timeout","$state","shopInfo","wxAPI"],angular.module("jikuwifi").controller("firstCheckCtrl_jk",t)}(),function(){"use strict";function t(t){function e(e,i,a,o){function s(){e.leaveTime=o.checkedTime[0],e.backTime=o.checkedTime[1]}function n(t){e.checkedCat=t.category_id}function c(t){var e=new Date;return e.setDate(e.getDate()+t),e}function r(t){var e=new Date;return e.setDate(o.checkedTime[0]?o.checkedTime[0].getDate()+1:e.getDate()+t),e}e.$root.currSelectPage=0;o.showIndex=0,o.checked=[0,0],o.checkedTime=[],o.timepackerOptions={format:"yyyy-mm-dd",min:c(1),onClose:function(e){o.checkedTime[1]&&o.checkedTime[0]&&o.checkedTime[1]<o.checkedTime[0]&&(o.checkedTime[1]=null),console.log(["$%%%%%%%",o.checkedTime[0],o.checkedTime[1]]),t(s)}},o.timepackerOptions2={format:"yyyy-mm-dd",min:r(1),onClose:function(e){o.checkedTime[1]&&o.checkedTime[0]&&o.checkedTime[1]<o.checkedTime[0]&&(o.checkedTime[0]=null),console.log(["$%%%%%%%",o.checkedTime[0],o.checkedTime[1]]),t(s)}},o.changecat=n}function i(e,i,a,o,s,n){function c(e){t(n.hide,500);for(var i=[],a=0;a<e.result.length;a++)e.result[a].children&&i.push(e.result[a]);v.cats=i,v.cats.length>0&&(v.cats[0].checked=!0);for(var o=0,s=0,a=0;a<v.cats.length;a++)"undefined"==typeof v.catsShowArr[s]&&(v.catsShowArr[s]=[]),v.catsShowArr[s].push(v.cats[a]),0==o?o++:(o=0,s++);return v.cats}function r(e){t(n.hide,500),console.log(e)}function d(t){for(var e=0;e<v.catsShowArr.length;e++)for(var i=0;i<v.catsShowArr[e].length;i++)v.catsShowArr[e][i].checked=!1;t.checked=!0,v.showCheckState=!1,v.showCheckStateCountry=!0,v.currSelectState=t,t.childrenShowArr=[];for(var i=0,a=0,e=0;e<t.children.length;e++)"undefined"==typeof t.childrenShowArr[a]&&(t.childrenShowArr[a]=[]),t.children[e].checked=!1,t.childrenShowArr[a].push(t.children[e]),2==i?(i=0,a++):i++}function l(){v.showCheckState=!0,v.showCheckStateCountry=!1,v.isShowNextStep=!1,v.currSelectCountry=null}function u(t){for(var i=0;i<v.currSelectState.childrenShowArr.length;i++)for(var a=0;a<v.currSelectState.childrenShowArr[i].length;a++)v.currSelectState.childrenShowArr[i][a].checked=!1;t.checked=!0,v.isShowNextStep=!0,e.checkedCat=t.category_id,v.currSelectCountry=t}function p(t){1==t?(v.isshowtime=!v.isshowtime,v.pdInfo.timetype=1):(v.backshowtime=!v.backshowtime,v.pdInfo.timetype=2)}var v=this;v.cats=[],v.catsShowArr=[],v.pdInfo={startSelectDate:null,backSelectDate:null},v.isShowNextStep=!1,v.showCheckState=!0,v.currSelectState=null,v.currSelectCountry=null,v.selectState=d,v.showTimePlugin=p,v.redoSelectState=l,v.selectCountry=u,s.currSelectPage=0,window.js_currSelectPage=1,n.show("加载中..."),a.pdCatrgory({pagesize:1e4,action:"listall"}).then(c)["catch"](r),e.$watch("vm_ctc.pdInfo.startSelectDate",function(){console.log("vm.pdInfo.startSelectDate",v.pdInfo.startSelectDate),v.pdInfo.startSelectDate&&(e.leaveTime=v.pdInfo.startSelectDate)},!0),e.$watch("vm_ctc.pdInfo.backSelectDate",function(){console.log("vm.pdInfo.backSelectDate",v.pdInfo.backSelectDate),v.pdInfo.backSelectDate&&(e.backTime=v.pdInfo.backSelectDate)},!0)}i.$inject=["$scope","$log","nAPI","githubContributor","$rootScope","wLoading"];var a={restrict:"E",scope:{leaveTime:"=",backTime:"=",checkedCat:"=",goNextPage:"="},templateUrl:"app/checkProducts_jk/checkTimeCountry/checkTimeCountry.html",link:e,controller:i,controllerAs:"vm_ctc"};return a}t.$inject=["$timeout"],angular.module("jikuwifi").directive("checkTimeCountryJk",t)}(),function(){"use strict";function t(){function t(t,e,i,a){function o(e){var i=[];a.tags[e].checked=!a.tags[e].checked,angular.forEach(a.tags,function(t,e){t.checked&&i.push(t.tag_name)}),t.checkedTag=i}t.$root.currSelectPage=1,a.checkTag=o}function e(t,e,i){function a(t){s.tags=t.result.list,console.log("asd",s.tags)}function o(t){console.log(t)}window.js_currSelectPage=2;var s=this;s.tags=[],s.checkedIndex=0,e.getTags().then(a)["catch"](o)}e.$inject=["$log","nAPI","githubContributor"];var i={restrict:"E",scope:{checkedTag:"="},templateUrl:"app/checkProducts_jk/checkTags/checkTags.html",link:t,controller:e,controllerAs:"vm_ct"};return i}angular.module("jikuwifi").directive("checkTagsJk",t)}(),function(){"use strict";function t(t,e,i,a){t.success=0}t.$inject=["$scope","$timeout","widgetLoading","widgetPopup"],angular.module("jikuwifi").controller("takeEquipmentCtrl",t)}(),function(){"use strict";function t(t,e,i,a){}t.$inject=["$scope","$timeout","widgetLoading","widgetPopup"],angular.module("jikuwifi").controller("registerCtrl",t)}(),function(){"use strict";function t(t,e,i,a){}t.$inject=["$scope","$timeout","widgetLoading","widgetPopup"],angular.module("jikuwifi").controller("loginCtrl",t)}(),function(){"use strict";function t(t){function e(){var t=window.sessionStorage.getItem("hideCorverbg");i.hideCorverbg=1==t,angular.element(".corverbg").one("webkitAnimationEnd",function(t){t.currentTarget.style.display="none",window.sessionStorage.setItem("hideCorverbg",1)})}{var i=t.vm={hideCorverbg:true};t.vf={init:e,goMyOrder:goMyOrder}}e()}t.$inject=["$scope"],angular.module("jikuwifi").controller("jikuhomeCtrl",t)}(),function(){"use strict";function t(t,e,i,a){function o(){console.log(p.cateID),c()}function s(t){t.products||i.pdList({action:"list",pageindex:1,pagesize:1e3,category_id:t.category_id}).then(function(e){t.products=e.list,l()})["catch"](function(t){}),l()}function n(){}function c(){i.pdCatrgory().then(function(t){console.log("loadCateData",t),p.cateList=t.level_list,p.cateList.length>0&&r(p.cateList[0])})}function r(t){for(var e=p.cateList.length-1;e>=0;e--)p.cateList[e].selected=!1;t.selected=!0,p.leftCateList=t.sub_list,p.leftCateList.length>0&&d(p.leftCateList[0])}function d(t){for(var e=p.leftCateList.length-1;e>=0;e--)p.leftCateList[e].selected=!1;t.selected=!0,s(t),p.rightCate=t}function l(){setTimeout(function(){$(".leftPanel .bottomItem").height(0),$(".leftPanel .bottomItem").height($(".leftPanel").height()-10)},500)}function u(t){a.go("jikuproductDetail",{id:t.product_id})}{var p=t.vm={catID:e.catID?e.catID:"",cateList:[],leftCateList:[],rightCate:{}};t.vf={init:o,loadData:s,search:n,loadCateData:c,selectCate:r,selectSubCate:d,goDetail:u}}o()}t.$inject=["$scope","$stateParams","nAPI","$state"],angular.module("jikuwifi").controller("jikuProductListCtrl",t)}(),function(){"use strict";function t(t,e,i,a){function o(){s()}function s(){i.pdDetail(t.productId).then(function(t){})["catch"](function(t){})}t.vm={id:e.id,detail:{}},t.vf={init:o,loadData:s};o()}t.$inject=["$scope","$stateParams","nAPI","$sce"],angular.module("jikuwifi").controller("jikuProductDetailCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o){o.userInfo({}).then(function(e){console.log(["查询用户自己信息成功",e]),t.myInfoData=e})["catch"](function(t){console.log(["查询用户自己信息失败",t])})}t.$inject=["$scope","$timeout","widgetLoading","widgetPopup","nAPI"],angular.module("jikuwifi").controller("infoCenterCtrl",t)}(),function(){"use strict";function t(t,e,i,a){}t.$inject=["$scope","$timeout","widgetLoading","widgetPopup"],angular.module("jikuwifi").controller("homeCtrl",t)}(),function(){"use strict";function t(t,e,i,a){}t.$inject=["$scope","$timeout","widgetLoading","widgetPopup"],angular.module("jikuwifi").controller("getPasswordCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o){o.userInfo({}).then(function(e){console.log(["查询用户自己信息成功",e]),t.myInfoData=e})["catch"](function(t){console.log(["查询用户自己信息失败",t])})}t.$inject=["$scope","$timeout","widgetLoading","widgetPopup","nAPI"],angular.module("jikuwifi").controller("editPersonInfoCtrl",t)}(),function(){"use strict";function t(t,e){return{link:function(i,a,o,s){var n=t(o.scrollBottomBind);angular.element(e).bind("scroll",function(t){var e=a[0].offsetTop+a[0].clientHeight-t.currentTarget.innerHeight-t.currentTarget.scrollY;100>e&&n(i)}),i.$on("$viewContentLoading",function(t,i){angular.element(e).unbind("scroll")})}}}t.$inject=["$parse","$window"],angular.module("jikuwifi").directive("scrollBottomBind",t)}(),function(){"use strict";function t(t,e){{var i={};t.apiUri,t.apiGet,t.apiPost}return i}t.$inject=["nAPI","$q"],angular.module("jikuwifi").factory("jAPI",t)}(),function(){"use strict";function t(t,e,i,a){}t.$inject=["$scope","$timeout","widgetLoading","widgetPopup"],angular.module("jikuwifi").controller("commonProblemCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o,s){function n(){l=new Swiper(".swiper-container-v",p)}function c(){l.slideNext()}function r(){var t={departure_date:u.leaveTime,backhome_date:u.backTime};console.log("jikuCreatOrderTime",t),e.sessionStorage.setItem("jikuCreatOrderTime",angular.toJson(t)),a.go("productList3",{catID:u.checkedCat,tagID:u.checkedTag.toString(),hasDisTime:"y"})}function d(t){1==t?(u.isshowtime=!u.isshowtime,u.pdInfo.timetype=1):(u.backshowtime=!u.backshowtime,u.pdInfo.timetype=2)}console.log(o),s.share(o);var l,u=this,p={pagination:".swiper-pagination-v",direction:"vertical",spaceBetween:2};u.leaveTime="",u.backTime="",u.checkedCat="",u.checkedTag="",u.pdInfo={startSelectDate:null,backSelectDate:null},u.goNextPage=c,u.goToPdList=r,u.showTimePlugin=d,i(n),t.$watch("vm.pdInfo.startSelectDate",function(){console.log("vm.pdInfo.startSelectDate",u.pdInfo.startSelectDate),u.pdInfo.startSelectDate?(t.leaveTime=u.pdInfo.startSelectDate,u.leaveTime=u.pdInfo.startSelectDate):u.leaveTime=""},!0),t.$watch("vm.pdInfo.backSelectDate",function(){console.log("vm.pdInfo.backSelectDate",u.pdInfo.backSelectDate),u.pdInfo.backSelectDate?(t.backTime=u.pdInfo.backSelectDate,u.backTime=u.pdInfo.backSelectDate):u.backTime=""},!0)}t.$inject=["$scope","$window","$timeout","$state","shopInfo","wxAPI"],angular.module("jikuwifi").controller("checkProductsCtrl_jk",t)}(),function(){"use strict";function t(t,e,i,a){function o(t){for(var e=[],i=0;i<t.result.length;i++)t.result[i].children&&e.push(t.result[i]);return c.cats=e,c.cats}function s(t){console.log(t)}function n(){e.history.go(-1)}var c=this;c.cats=[],c.goback=n,a.pdCatrgory({pagesize:1e4,action:"listall"}).then(o)["catch"](s)}t.$inject=["$scope","$window","$timeout","nAPI"],angular.module("jikuwifi").controller("catSearchCtrl_jk",t)}(),function(){"use strict";function t(t,e,i,a,o){var s=this;console.log(s);var n=s.pageData={list:"",address_id:"",deleteAction:"delete",setAction:"setdefault",fromCreatorder:e.fromCreatorder},c=s.pageFunc={};c.goToHistoryPageWithAddr=function(t){},c.receiveAddressListFunc=function(){i.addressList({}).then(function(t){console.log(["查询用户地址列表",t]),n.list=t.list})},c.deleteReceiveAddress=function(e){var s=o.confirm({title:"友情提示",template:"确认要删除这个地址吗？",cancelText:"取消",cancelType:"",okText:"确定",okType:"button-red"});s.then(function(o){o?(console.log("选择了删除"),i.deleteAddress(e).then(function(e){console.log(e),0==e.errcode&&(a.show("删除地址成功"),t(function(){a.hide()},500),c.receiveAddressListFunc())})["catch"](function(e){a.show("删除地址失败"),t(function(){a.hide()},500)})):console.log("没有选择删除")})},c.setDefaultReceiveAdd=function(e){return 1==e.isdefault?(a.show("已经是默认地址了"),void t(function(){a.hide()},500)):void i.setDefaultAddress(e.address_id).then(function(i){console.log(i),0==i.errcode?(console.log(["设置默认收货地址成功",i]),a.show("设置默认地址成功"),e.isdefault=1,t(function(){a.hide()},500),c.receiveAddressListFunc()):(a.show("设置默认收货地址失败"),t(function(){a.hide()},500))})["catch"](function(e){a.show("设置默认收货地址失败"),t(function(){a.hide()},500)})},c.init=function(){c.receiveAddressListFunc()},c.init()}t.$inject=["$timeout","$rootScope","nAPI","wLoading","wPopup"],angular.module("jikuwifi").controller("addressListCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o){function s(){a.addressList({}).then(function(t){console.log(["查询用户地址列表",t]),t?(console.log(["获取地址成功",t.list.length]),t.list.length>=1&&history.go(-1)):console.log(["获取地址失败",t.list.length])})}var n=this,c=n.pageData={id:i.addressId,action:"add",getAction:"get",updateAction:"update",proAction:"provinces",cityAction:"cities",disAction:"districts",consigneename:"",address:"",zip_code:"",phone:"",isdefault:"",data:"",provinceList:[],province:null,cityList:[{code:"0",name:"请选择所属城市"}],city:"",districtList:[{code:"0",name:"请选择所属区"}],district:""},r=n.pageFunc={};r.addReceiveAddress=function(){return 0==r.allCheck()?!1:void(void 0==c.id?a.addReceiveAddress({consigneename:c.consigneename,address:c.address,province:c.province.name,province_code:c.province.code,city:c.city.name,city_code:c.city.code,dist:c.district.name,dist_code:c.district.code,zip_code:c.zip_code,phone:c.phone,isdefault:c.isdefault}).then(function(t){console.log(t),0==t.errcode?(o.show("新增收货地址成功"),e(function(){o.hide(),s(),r.clearAll()},500)):(o.show("新增收货失败"),e(function(){o.hide()},500))})["catch"](function(t){console.log(t),o.show(t.errmsg),e(function(){o.hide()},500)}):a.updateReceiveAdd({address_id:c.id,consigneename:c.consigneename,address:c.address,province:c.province.name,province_code:c.province.code,city:c.city.name,city_code:c.city.code,dist:c.district.name,dist_code:c.district.code,zip_code:c.zip_code,phone:c.phone,isdefault:c.isdefault}).then(function(t){console.log(t),0==t.errcode?(o.show("修改收货地址成功"),e(function(){o.hide(),s(),r.clearAll()},500)):(o.show("修改收货失败"),e(function(){o.hide()},500))})["catch"](function(t){console.log(t),o.show(t.errmsg),e(function(){o.hide()},500)}))},r.getCity=function(){var t={code:"0",name:"请选择所属城市"};console.log(c.province.code),a.getCity(c.province.code).then(function(e){console.log(e),e?(c.cityList=e.list,c.cityList.unshift(t),c.city=0,c.city=c.cityList[0]):console.log(["获取城市失败",e])}),c.district.name="请选择所属区",c.district.code="0"},r.getDistrict=function(){var t={code:"0",name:"请选择所属区"};a.getDistrict(c.city.code).then(function(e){console.log(e),e?(c.districtList=e.list,c.districtList.unshift(t),c.district=c.districtList[0]):console.log(["获取城市失败",e])})},r.getEditAddressInfo=function(){a.getAddressInfo(c.id).then(function(t){console.log(t),c.consigneename=t.consigneename,c.phone=t.phone,c.address=t.address,c.zip_code=t.zip_code,c.isdefault=t.isdefault,n.provincecode=t.province_code,n.citycode=t.city_code,n.distcode=t.dist_code,a.getProvince({}).then(function(t){console.log(t);for(var e in t.list)t.list[e].code==n.provincecode&&(c.province.name=t.list[e].name,c.province.code=t.list[e].code)}),n.provincecode=t.province_code,a.getCity(n.provincecode).then(function(t){console.log(t);for(var e in t.list)t.list[e].code==n.citycode&&(c.city.name=t.list[e].name,c.city.code=t.list[e].code)}),a.getDistrict(n.citycode).then(function(t){console.log(t);for(var e in t.list)t.list[e].code==n.distcode&&(c.district.name=t.list[e].name,c.district.code=t.list[e].code)})})},r.init=function(){var t={code:"0",name:"请选择所属省份"};c.city=c.cityList[0],c.district=c.districtList[0],a.getProvince({}).then(function(e){console.log(e),c.provinceList=e.list,c.provinceList.unshift(t),c.province=c.provinceList[0]}),void 0!=c.id&&r.getEditAddressInfo()},r.init(),r.clearAll=function(){
c.consigneename="",c.address="",c.province.name="请选择所属省份",c.province.code="0",c.city.name="请选择所属城市",c.city.code="0",c.district.name="请选择所属区",c.district.code="0",c.zip_code="",c.phone="",c.isdefault=""},r.allCheck=function(){return""==c.consigneename?(o.show("姓名不能为空"),e(function(){o.hide()},500),!1):""==c.phone?(o.show("手机号不能为空"),e(function(){o.hide()},500),!1):r.isPhone(c.phone)?"0"==c.province.code?(o.show("请选择省份"),e(function(){o.hide()},500),!1):"0"==c.city.code?(o.show("请选择城市"),e(function(){o.hide()},500),!1):"0"==c.district.code?(o.show("请选择区域"),e(function(){o.hide()},500),!1):""==c.address?(o.show("地址不能为空"),e(function(){o.hide()},500),!1):!0:(o.show("您填写的是无效的手机号"),e(function(){o.hide()},500),!1)},r.isPhone=function(t){var e=/(^(([0\+]\d{2,3}-)?(0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$)|(^0{0,1}1[3|4|5|6|7|8|9][0-9]{9}$)/;return e.test(t)?!0:!1}}t.$inject=["$scope","$timeout","$stateParams","nAPI","wLoading"],angular.module("jikuwifi").controller("addAddressCtrl",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n,c,r,d){function l(){o.applyReturnMoney(I.orderData.order_id).then(u)["catch"](p)}function u(t){I.orderData.ex11=1,n.alert("申请成功"),y()}function p(t){n.alert("申请失败，再申请试试")}function v(){o.applyReturnDeposit(I.orderData.order_id).then(g)["catch"](m)}function g(t){I.orderData.ex10=1,n.alert("申请成功"),y()}function m(t){n.alert("申请失败，再申请试试")}function f(t){if(I.orderData.ex18&&1===t&&I.orderData.ex19){var e="1"===I.orderData.ex18?"同意退款申请":"驳回退款申请";I.orderData.ex19=null!==I.orderData.ex19?I.orderData.ex19:"",I.tipconnet="<h4>"+e+"</h4>"+I.orderData.ex19}else if(null!==I.orderData.ex20&&2===t){var e="1"===I.orderData.ex20?"同意退押金申请":"驳回退押金申请";I.orderData.ex21=null!==I.orderData.ex21?I.orderData.ex21:"",I.tipconnet="<h4>"+e+"</h4>"+I.orderData.ex21}else I.tipconnet="工作人员处理中，请稍后...";n.alert({template:'<div class="retitle fontgold">'+I.tipconnet+"</div>",okText:"确定",okType:"contact"})}function h(){t.appeal={};n.show({template:'<textarea rows="3" cols="20" ng-model="appeal.content" placeholder="请输入申诉理由"></textarea>',scope:t,buttons:[{text:"取消",type:"contact"},{text:"确定",onTap:function(e){return console.log(),void 0===t.appeal.content?void e.preventDefault():void o.appealContent(I.orderData.order_id,t.appeal.content).then(b)["catch"](_)}}]})}function b(t){n.alert("申诉成功"),y()}function _(t){n.alert("申请失败，再联系客服或重新申诉")}function y(){return o.odDetail(i.orderID).then(k)["catch"](D)}function D(t){var e=d.defer();return console.log(t),n.alert(t.errmsg),e.resolve("ok"),e.promise}function k(t){var e=d.defer();if(I.isloading=!I.isloading,t){console.log(["获取订单详情成功",t]);var i=t.ex2-t.ex1;t.days=parseInt(i/1e3/60/60/24,10)+1,I.showorder_detail=!0,I.orderData=t,angular.forEach(I.orderData.product_list,function(t,e){t.parent_product_id?I.sproducts.push(t):I.mainproducts.push(t),I.totalMoney+=t.count*t.price}),a.exchangerate("/mall/score.ashx",{action:"exchangerate"},function(t){0===t.errcode&&(console.log(["获取积分兑换比例成功",t]),I.exchangerateData=t,I.scoreCostMoney=parseInt(I.orderData.use_score*I.exchangerateData.amount/I.exchangerateData.score))},function(t){console.log(["获取积分兑换比例请求成功",t])}),1==t.order_type&&o.getGiftOrderDetail({order_id:t.order_id}).then(function(t){console.log(["获得送礼商品详情",t]),I.giftDetailData=t})["catch"](function(t){console.log(["报错",t])}),0==I.orderData.is_pay&&"待付款"==I.orderData.order_status&&$.get("/serv/pubapi.ashx?action=VistWxpay",{},function(t){$.get("/serv/pubapi.ashx?action=VistWxpay",{},function(t){$.get("/serv/pubapi.ashx?action=VistWxpay",{},function(t){},"json")},"json")},"json")}else console.log(["获取订单详情失败",t]);return e.resolve("ok"),e.promise}function w(){c.pay(i.orderID).then(function(t){I.orderData.order_status="待发货",I.orderData.is_pay=1})["catch"](function(t){console.log(t)})}function x(){var t=n.confirm({title:"友情提示",template:"您确定收到商品了吗？",cssClass:"borderradius5px",cancelText:"取消",cancelType:"button button-clear button-positive",okText:"确认",okType:"button button-clear button-positive"});console.log(I.order_id),t.then(function(t){t?a.confirmreceipt({action:"receiptconfirm",order_id:I.orderData.order_id},function(t){console.log(t),I.loadData()},function(t){console.log(t)}):console.log("取消确认收货")})}console.log("orderDetailController"),console.log(i.orderID);var I=this;I.showorder_detail=!1,I.firstLoad=0,I.orderData={},I.loadData=y,I.pay=w,I.totalMoney=0,I.mainproducts=[],I.sproducts=[],I.confirm=x,I.scoreCostMoney=0,I.isloading=!1,I.launchAppeal=h,I.checkReturn=v,I.seeReturn=f,I.tipconnet="",I.returnMoney=l,I.loadData();var S=$(".wrap-order-detail-body").dropload({scrollArea:window,loadUpFn:function(t){var e=I.loadData();e.then(function(){setTimeout(function(){t.resetload()},1e3)})["catch"](function(){setTimeout(function(){t.resetload()},1e3)})}});S.lock("down")}t.$inject=["$scope","$rootScope","$stateParams","mAPI","nAPI","wLoading","wPopup","wxAPI","$timeout","$q"],angular.module("shop").controller("orderDetailController",t)}(),function(){"use strict";function t(t,e,i,a,o,s,n,c,r,d,l,u){function p(t){var e=a.defer();return console.log(["获取订单列表请求失败",t]),e.resolve(),e.promise}function v(e){var i=a.defer();if(e){console.log(["获取订单列表成功",e]),0==e.totalcount&&(m.noOrder=!0);for(var o in e.list){e.list[o].allprice=0;for(var s in e.list[o].product_list)e.list[o].allprice+=e.list[o].product_list[s].price,null!=e.list[o].product_list[s].parent_product_id?e.list[o].depositprice=e.list[o].product_list[s].price:e.list[o].titlename=e.list[o].product_list[s].product_name}f.list=f.list.concat(e.list),e.list&&(e.list.length>=f.pageSize?(f.pageIndex++,r(function(){m.dataloading=!1})):r(function(){m.dataloading=!0,m.nodata=!0}),t.$broadcast("scroll.infiniteScrollComplete"))}else console.log(["获取订单列表失败",e]);return i.resolve("ok"),i.promise}function g(t){var e=0,i=0,a="";"极酷退款"==t?(e=1,i=0):"极酷申诉"==t?(e=0,i=1):a=t;var o={pageindex:1,pagesize:10,order_status:a,order_from_time:"",order_to_time:"",order_type:0,is_appeal:i,is_refund:e};s.odList(o).then(function(e){switch(t){case"":m.allCount=e.totalcount,h.init();break;case"待付款":m.waitPayCount=e.totalcount;break;case"待发货":m.waitGoodCount=e.totalcount;break;case"待归还":m.waitReturnCount=e.totalcount;break;case"待退押金中":m.depositCount=e.totalcount;break;case"极酷退款":m.refundCount=e.totalcount;break;case"极酷申诉":m.appealCount=e.totalcount}})["catch"](function(t){console.log(["获取订单列表请求失败",t])})}console.log("orderListController");var m=this;m.dataloading=!1,m.from_time="",m.to_time="",m.noOrder=!1,m.isAllOrder=!1,m.firstShow=!1,m.isAppeal=0,m.isRefund=0,void 0==i.status?i.status="":"is_appeal"==i.status?(m.isAppeal=1,m.isRefund=0,i.status=""):"is_refund"==i.status?(m.isAppeal=0,m.isRefund=1,i.status=""):(m.isAppeal=0,m.isRefund=0),m.clear_history=function(){window.sessionStorage.removeItem("orderStatu")},window.location.href.indexOf("infoCenter")>-1&&window.sessionStorage.removeItem("orderStatu");var f=m.pageData={offLineAction:"GetOffLineOrder",status:i.status,allCount:0,waitPayCount:0,waitGoodCount:0,waitReturnCount:0,depositCount:0,pageIndex:1,pageSize:10,list:[]},h=m.pageFunc={};m.goStatusBtn=function(t){"is_appeal"!=t&&"is_refund"!=t?(window.sessionStorage.setItem("orderStatu",t),f.status=t,m.isAppeal=0,m.isRefund=0):(window.sessionStorage.setItem("orderStatu",t),"is_appeal"==t?(m.isAppeal=1,m.isRefund=0):"is_refund"==t&&(m.isAppeal=0,m.isRefund=1),f.status=""),m.nodata=!1,f.pageIndex=1,f.list=[],h.loadData()},h.loadData=function(){m.dataloading=!0,m.title=m.isAllOrder?""==f.status?"全部订单":f.status:"退款/申诉订单";var t={pageindex:f.pageIndex,pagesize:f.pageSize,order_status:f.status,order_from_time:m.from_time,order_to_time:m.to_time,order_type:0,is_appeal:m.isAppeal,is_refund:m.isRefund};return void 0==f.status&&(f.status=""),s.odList(t).then(v)["catch"](p)},m.loadMoreData=function(){m.dataloading||(console.log("到底"),h.loadData())},h.init=function(){window.location.href.indexOf("backList")>-1?(m.isAllOrder=!1,m.isAppeal=0,m.isRefund=1):m.isAllOrder=!0,m.firstShow=!0;var t=window.sessionStorage.getItem("orderStatu");null==t||(m.isAllOrder?("is_appeal"!=t&&"is_refund"!=t&&(f.status=t),m.isAppeal=0,m.isRefund=0):("is_appeal"==t?(m.isAppeal=1,m.isRefund=0):"is_refund"==t&&(m.isAppeal=0,m.isRefund=1),window.sessionStorage.removeItem("orderStatu"),f.status="")),h.loadData()};var b=$(".wrap-order-list-body").dropload({autoLoad:!1,scrollArea:window,loadUpFn:function(t){return void setTimeout(function(){n.reload()},1e3)}});b.lock("down"),h.pay=function(t){l.pay(t.order_id).then(function(t){h.loadData()})["catch"](function(t){console.log(t)})},h.confirm=function(t){var e=d.confirm({title:"友情提示",template:"您确定收到商品了吗？",cssClass:"borderradius5px",cancelText:"取消",cancelType:"button button-clear button-positive",okText:"确认",okType:"button button-clear button-positive"});e.then(function(e){e?o.confirmreceipt({action:"receiptconfirm",order_id:m.pageData.list[t].order_id},function(e){console.log(["确认订单成功",e]),0==e.errcode?m.pageData.list[t].order_status="交易成功":(u.show(e.errmsg),setTimeout(function(){u.hide()},600))},function(t){console.log(["确认订单失败",t])}):console.log("取消确认收货")})},h.deleteorder=function(t){var e=d.confirm({title:"友情提示",template:"您确定要取消订单么？",cssClass:"borderradius5px",cancelText:"取消",cancelType:"button button-clear button-positive",okText:"确认",okType:"button button-clear button-positive"});e.then(function(e){e?o.confirmreceipt({action:"cancel",order_id:m.pageData.list[t].order_id},function(e){console.log(["取消订单成功",e]),0==e.errcode&&(m.pageData.list[t].order_status="已取消")},function(t){console.log(["取消订单失败",t])}):console.log("不要取消订单")})},g(""),g("待付款"),g("待发货"),g("待归还"),g("待退押金中"),g("极酷退款"),g("极酷申诉")}t.$inject=["$scope","$rootScope","$stateParams","$q","mAPI","nAPI","$state","$sce","$timeout","wPopup","wxAPI","wLoading"],angular.module("shop").controller("orderListController",t)}(),function(){"use strict";function t(t,e,i,a){(i.$$absUrl.match("localhost")||i.$$absUrl.match("192.168."))&&a.login({username:"WXUser2016111193030ODJQI",password:"SJNSNAJTBUOD"}).then(function(){})}t.$inject=["$log","$rootScope","$location","nAPI"],angular.module("jikuwifi").run(t)}(),function(){"use strict";function t(t){this.$get=function(){return 0},this.setrouter=!1,this.router=t.router}function e(t,e,i,a){i.html5Mode(!0),console.log(["SHOP_CONFIGProvider",a]);var o={home:{url:"/home?catID&navName&keywordID&colorID&sizeID&updownID&tagID",templateUrl:"app/product_jk/productList2/productList2.html",controller:"productListController",controllerAs:"pdlist"},jikuhome:{url:"/jikuhome",templateUrl:"app/jikuhome/jikuhome.html",controller:"jikuhomeCtrl"},singelPage_addressQuery:{url:"/singelPage/addressQuery",templateUrl:"app/singelPage/addressQuery.html"},singelPage_wrapBuyFlow:{url:"/singelPage/wrapBuyFlow",templateUrl:"app/singelPage/wrapBuyFlow.html"},singelPage_FAQ:{url:"/singelPage/FAQ",templateUrl:"app/singelPage/faq.html"},productList:{url:"/productList?catID&navName&keywordID&colorID&sizeID&updownID&tagID",templateUrl:"app/product_jk/productList2/productList2.html",controller:"productListController",controllerAs:"pdlist"},jikuproductList:{url:"/jikuProductList?catID",templateUrl:"app/jikuProductList/jikuProductList.html",controller:"jikuProductListCtrl"},jikuproductDetail:{url:"/jikuProductDetail?id",templateUrl:"app/jikuProductDetail/jikuProductDetail.html",controller:"jikuProductDetailCtrl"},productList3:{url:"/productList3?catID&navName&keywordID&colorID&sizeID&updownID&tagID&hasDisTime",templateUrl:"app/product_jk/productList3/productList3.html",controller:"productListController",controllerAs:"pdlist"},productDetail:{url:"/productDetail/:id",templateUrl:"app/product_jk/productDetail/productDetail.html",controller:"productDetailController",controllerAs:"productDetail"},createOrder1:{url:"/createOrder_jk1?pdID&addressId",templateUrl:"app/order_jk/createOrder/createOrder.html",controller:"createOrderCtrl_jk",controllerAs:"vm"},createOrder:{url:"/createOrder_jk?pdID&addressId",templateUrl:"app/order_jk/createOrder/createOrder2.html",controller:"createOrderCtrl_jk",controllerAs:"vm"},checkProducts:{url:"/checkProducts",templateUrl:"app/checkProducts_jk/checkProducts.html",controller:"checkProductsCtrl_jk",controllerAs:"vm"},catSearch:{url:"/catSearch",templateUrl:"app/catSearch_jk/catSearch.html",controller:"catSearchCtrl_jk",controllerAs:"vm"},orderList:{url:"/orderList?status",templateUrl:"app/order_jk/orderList/orderList.html",controller:"orderListController",controllerAs:"vm"},backList:{url:"/backList?status",templateUrl:"app/order_jk/orderList/orderList.html",controller:"orderListController",controllerAs:"vm"},orderDetail:{url:"/orderDetail/:orderID",templateUrl:"app/order_jk/orderDetail/orderDetail.html",controller:"orderDetailController",controllerAs:"vm"}};angular.extend(a.router,o);for(var s in a.router)t.state(s,a.router[s]);e.otherwise("/jikuhome")}e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider","SHOP_CONFIGProvider"],t.$inject=["SHOP_CONFIGProvider"],angular.module("shop").provider("SHOP_CONFIG",t),angular.module("jikuwifi").config(e)}(),function(){"use strict";function t(){var t={infoCenter:{footerbar:!1,btnstyle:2},mycenternochange:!0};return t}var e={uri:location.origin,debug:!1,wxdebug:!1};(location.href.match("localhost")||location.href.match("192.168"))&&(e={uri:"http://localhost:28241",debug:!1,wxdebug:!1},MALLCONFIG={mallconfig:{jkseting:{parameter:{name:"参数规格",id:418900},bookingNotes:{name:"预定须知",id:418901},instructionForUse:{name:"使用说明",id:418902}}},mallconfignew:{mall_name:"wifi",mall_desc:"wifi",mall_logo:"http://open-files.comeoncloud.net/www/jikuwifidev/jubit/image/20160105/39C2598ABAA64BCA8065A8C42F7E21D0.jpg",product_img_ratio1:"2",product_img_ratio2:"1"}}),console.log("====",MALLCONFIG),angular.module("jikuwifi").constant("malarkey",malarkey).constant("toastr",toastr).constant("SHOP_UI",t()).constant("MALLCONFIG",MALLCONFIG).constant("CLIENTAPI_CONFIG",e).constant("shopInfo",{title:MALLCONFIG.mallconfignew.mall_name,desc:MALLCONFIG.mallconfignew.mall_desc,imgUrl:MALLCONFIG.mallconfignew.mall_logo,link:""}).constant("moment",moment)}(),function(){"use strict";function t(t,e){t.debugEnabled(!0),e.options.timeOut=3e3,e.options.positionClass="toast-top-right",e.options.preventDuplicates=!0,e.options.progressBar=!0}t.$inject=["$logProvider","toastr"],angular.module("jikuwifi").config(t)}(),angular.module("jikuwifi").run(["$templateCache",function(t){t.put("app/addAddress_jk/addAddress.html",'<div class="add-address"><div class="head-menu"><span class="title">极库WIFI</span><go-back></go-back><div class="iconfont icon-shouye iconRight"></div><div class="clear-both"></div></div><div class="address-info"><input type="text" placeholder="姓名" ng-model="vm.pageData.consigneename" class="input-style"> <input type="text" placeholder="手机号码" ng-model="vm.pageData.phone" class="input-style"><select class="input-style select" ng-change="vm.pageFunc.getCity()" ng-model="vm.pageData.province" ng-options="province.name for province in vm.pageData.provinceList"></select><select class="input-style select" ng-change="vm.pageFunc.getDistrict()" ng-model="vm.pageData.city" ng-options="city.name for city in vm.pageData.cityList"></select><select class="input-style select" ng-model="vm.pageData.district" ng-options="district.name for district in vm.pageData.districtList"></select><input type="text" placeholder="详细地址" ng-model="vm.pageData.address" class="input-style"><div class="gold-btn" ng-click="vm.pageFunc.addReceiveAddress()">确认寄送信息</div></div></div>'),t.put("app/addressList_jk/addressList.html",'<div class="address-list"><div class="head-menu"><span class="title">极库WIFI</span><go-back></go-back><div class="iconfont icon-shouye iconRight"></div><div class="clear-both"></div></div><div class="address-item" ng-repeat="item in vm.pageData.list"><div class="receiver-info">{{item.consigneename}}&nbsp;&nbsp;&nbsp;&nbsp;{{item.phone}}&nbsp;&nbsp;<span class="color_gold" ng-show="item.isdefault==1">默认地址</span></div><div class="receiver-address">{{item.province}} {{item.city}} {{item.dist}} {{item.address}}</div><div class="address-edit"><div class="default-address" ng-click="vm.pageFunc.setDefaultReceiveAdd(item)"><span class="iconfont icon-xuanzeweidianji" ng-class="{color_gold:item.isdefault==1}"></span> <span ng-class="{color_gold:item.isdefault==1}">默认地址</span></div><div class="delete-address" ng-click="vm.pageFunc.deleteReceiveAddress(item.address_id)"><span class="iconfont icon-iconfont54"></span> <span>删除</span></div><div class="edit-address" ui-sref="addaddressUpdata({addressId:item.address_id})"><span class="iconfont icon-bianji"></span> <span>编辑</span></div><div class="clear-both"></div></div></div><div class="new-address" ui-sref="addAddress"><span class="iconfont icon-jiahao color-gold"></span> <span>添加新地址</span></div></div>'),t.put("app/catSearch_jk/catSearch.html",'<div class="cat_search_box"><div class="searchbar"><input class="searchinput" type="text" ng-model="q"><div class="gobackbtn" ng-click="vm.goback()">取消</div></div><div class="catlist_p tag_animate" ng-repeat="cat_p in vm.cats | filter:q as results"><span class="cattag_p" ng-bind="cat_p.category_name"></span><div class="catlist_s clearfix" ng-if="cat_p.children"><span class="cattag" ng-repeat="cat_s in cat_p.children | filter:q as results2" ui-sref="productList({catID:cat_s.category_id})" ng-bind="cat_s.category_name"></span></div></div><div class="noresult tag_animate" ng-if="vm.cats.length>0&&results.length == 0"><strong>没有搜索到相关国家</strong></div><div class="garybg"></div></div>'),t.put("app/checkProducts_jk/checkProducts.html",'<div class="swiper-container swiper-container-v"><div class="swiper-wrapper"><div class="swiper-slide swiper-slide-v"><check-time-country-jk leave-time="vm.leaveTime" back-time="vm.backTime" checked-cat="vm.checkedCat" go-next-page="vm.goNextPage"></check-time-country-jk></div><div class="swiper-slide swiper-slide-v"><div class="check_time_country"><div class="mycenter clearfix"><span class="iconfont icon-center" ui-sref="infoCenter"></span></div><h2>Step&nbsp;2.选择您的出行日期</h2><div><div class="check_time"><div class="timebox"><div class="title">国内出发日期</div><div class="date_pick_box clearfix"><div ng-mousedown="vm.showTimePlugin(1)" class="timepacker" type="text"></div><span class="timeinfo" ng-bind="vm.pdInfo.startSelectDate | date:\'yyyy-MM-dd\'"></span> <span class="iconfont icon-rili yellowcolor"></span></div></div><div class="timebox"><div class="title">抵达国内日期</div><div class="date_pick_box clearfix"><div ng-mousedown="vm.showTimePlugin(2)" class="timepacker" type="text"></div><span class="timeinfo" ng-bind="vm.pdInfo.backSelectDate | date:\'yyyy-MM-dd\'"></span> <span class="iconfont icon-rili yellowcolor"></span></div></div></div></div></div><div class="last_btn_box"><span class="jia_btn jia_btn_act" ng-click="vm.goToPdList()">确认</span></div></div></div><div class="swiper-pagination swiper-pagination-v"></div><div ng-if="vm.isshowtime"><timeplugin timedata="vm.pdInfo" isshowtime="vm.isshowtime"></timeplugin></div><div ng-if="vm.backshowtime"><timeplugin timedata="vm.pdInfo" isshowtime="vm.backshowtime"></timeplugin></div></div>'),t.put("app/commonProblem_jk/commonProblem.html",'<div class="common-problem"><div class="head-menu"><span class="title">极库WIFI</span><go-back></go-back><div class="iconfont icon-shouye iconRight"></div><div class="clear-both"></div></div><div class="QAS"><div class="QA"><div class="question"><div class="question-img iconfont icon-wenhao"></div><div class="question-content">问你呢</div><div class="clear-both"></div></div><div class="answer">啊哈哈哈哈哈哈哈哞哞哞哞咩咩咩啊哈哈哈哈哈哈哈哞哞哞哞咩咩咩啊哈哈哈哈哈哈哈哞哞哞哞咩咩咩啊哈哈哈哈哈哈哈哞哞哞哞咩咩咩啊哈哈哈哈哈哈哈哞哞哞哞咩咩咩啊哈哈哈哈哈哈哈哞哞哞哞咩咩咩</div></div><div class="QA"><div class="question"><div class="question-img iconfont icon-wenhao"></div><div class="question-content">问你呢</div><div class="clear-both"></div></div><div class="answer">啊哈哈哈哈哈哈哈哞哞哞哞咩咩咩啊哈哈哈哈哈哈哈哞哞哞哞咩咩咩啊哈哈哈哈哈哈哈哞哞哞哞咩咩咩啊哈哈哈哈哈哈哈哞哞哞哞咩咩咩啊哈哈哈哈哈哈哈哞哞哞哞咩咩咩啊哈哈哈哈哈哈哈哞哞哞哞咩咩咩</div></div></div></div>'),t.put("app/editPersonInfo_jk/editPersonInfo.html",'<div class="edit-person-info"><div class="head-menu"><span class="title">极库WIFI</span><go-back></go-back><div class="iconfont icon-center iconRight"></div><div class="clear-both"></div></div><div class="person-img"><img ng-src="{{myInfoData.head_img_url}}" class="head-img"><div class="change-img">更换头像</div><div class="clear-both"></div></div><div class="person-info"><div class="info-item"><div class="infoname">{{myInfoData.phone}}</div><div class="clear-both"></div></div><div class="info-item"><input class="infoname" placeholder="{{myInfoData.nickname}}"><div class="more iconfont icon-youjiantou"></div><div class="clear-both"></div></div><div class="info-item"><input class="infoname" placeholder="{{myInfoData.district}}{{myInfoData.province}}{{myInfoData.city}}"><div class="more iconfont icon-youjiantou"></div><div class="clear-both"></div></div></div><div class="gold-btn">确认修改</div></div>'),t.put("app/getPassword_jk/getPassword.html",'<div class="get-password"><input type="text" placeholder="输入手机号码" class="input-style name"> <input type="text" placeholder="输入验证码" class="input-style verify"> <button class="input-style verify-btn">验证手机号码</button><div class="clear-both"></div><input type="password" placeholder="输入密码" class="input-style"> <input type="password" placeholder="确认密码" class="input-style"><div class="gold-btn">确定</div></div>'),t.put("app/home_jk/home.html",'<div class="home"><div class="head-menu"><span class="title">极库WIFI</span><go-back></go-back><div class="iconfont icon-center iconRight" ui-sref="infoCenter"></div><div class="clear-both"></div></div><div class="scroll-img"><img src="assets/images/homeImg.png"></div><div class="area-menu"><div class="area gold_border">热门</div><div class="area">美洲</div><div class="area">欧洲</div><div class="area">更多</div></div><div class="product-list"><div class="product-item" ui-sref="productList"><img class="product-img" src="assets/images/productImg.png"><div class="product-text"><div class="product-title">欧洲30国3G无限流量产品</div><div class="product-price">¥37/天</div></div><div class="product-more iconfont icon-youjiantou"></div><div class="clear-both"></div></div><div class="product-item" ui-sref="productList"><img class="product-img" src="assets/images/productImg.png"><div class="product-text"><div class="product-title">欧洲30国3G无限流量产品</div><div class="product-price">¥37/天</div></div><div class="product-more iconfont icon-youjiantou" ui-sref="productList"></div><div class="clear-both"></div></div><div class="product-item" ui-sref="productList"><img class="product-img" src="assets/images/productImg.png"><div class="product-text"><div class="product-title">欧洲30国3G无限流量产品</div><div class="product-price">¥37/天</div></div><div class="product-more iconfont icon-youjiantou"></div><div class="clear-both"></div></div><div class="product-item" ui-sref="productList"><img class="product-img" src="assets/images/productImg.png"><div class="product-text"><div class="product-title">欧洲30国3G无限流量产品</div><div class="product-price">¥37/天</div></div><div class="product-more iconfont icon-youjiantou"></div><div class="clear-both"></div></div><div class="product-item" ui-sref="productList"><img class="product-img" src="assets/images/productImg.png"><div class="product-text"><div class="product-title">欧洲30国3G无限流量产品</div><div class="product-price">¥37/天</div></div><div class="product-more iconfont icon-youjiantou"></div><div class="clear-both"></div></div></div></div>'),t.put("app/infoCenter_jk/infoCenter.html",'<div class="info-center"><div class="info-bg"><div class="user-img" ng-if="1"><img ng-src="{{myInfoData.head_img_url}}"></div><div class="user-name" ng-if="1">{{myInfoData.nickname}}</div><div class="user-num" ng-if="1">{{myInfoData.phone}}</div><div class="user-img" ng-if="0"><div class="iconfont icon-center unlogin"></div></div><div class="go-login" ng-if="0">立即登陆</div></div><div class="info-menu"><ul><li ui-sref="editPersonInfo"><div class="iconfont icon-icon info-img"></div><div class="info-text">个人资料</div><div class="iconfont icon-youjiantou info-more"></div><div class="clear-both"></div></li><li ui-sref="myOrders"><div class="iconfont icon-dingdan info-img"></div><div class="info-text">我的订单</div><div class="iconfont icon-youjiantou info-more"></div><div class="clear-both"></div></li><li ui-sref="addressList"><div class="iconfont icon-address info-img"></div><div class="info-text">地址管理</div><div class="iconfont icon-youjiantou info-more"></div><div class="clear-both"></div></li></ul></div><div class="changjianwenti"><ul><li><div class="iconfont icon-changjianwenti info-img"></div><div class="info-text">常见问题</div><div class="iconfont icon-youjiantou info-more"></div><div class="clear-both"></div></li></ul></div></div>'),t.put("app/jikuProductDetail/jikuProductDetail.html",'<div class="wrapJikuProductDetail"><header><a href="javascript:history.go(-1);" class="leftBack">&lt;返回</a> <span class="title">商品详情</span> <a href="#/myOrder" class="iconfont icon-yonghutouxiang rightIco"></a><div class="clear"></div></header><sliderbox pic-size="750:316" slide-type="index"></sliderbox><div class="wrapProductDetail"><div class="row"><div class="col"><div class="cnt"><div class="cateName">日本</div><div><span class="price">￥18.90</span>/天起</div></div></div><div class="col"><div class="cnt"><div class="cateName">日本</div><div><span class="price">￥18.90</span>/天起</div></div></div><div class="col"><div class="cnt"><div class="cateName">日本</div><div><span class="price">￥18.90</span>/天起</div></div></div></div><div class="row"><div class="col"><div class="cnt"><div class="cateName">日本</div><div><span class="price">￥18.90</span>/天起</div></div></div><div class="col"><div class="cnt"><div class="cateName">日本</div><div><span class="price">￥18.90</span>/天起</div></div></div><div class="col"><div class="cnt"><div class="cateName">日本</div><div><span class="price">￥18.90</span>/天起</div></div></div></div></div><div class="wrapSerach"><form action="" class="lineBox"><span class="title">搜索</span> <input type="text" placeholder="输入地区查询"></form></div><div class="wrapProductList"><div class="cateTabs"><div class="cateCol" ng-repeat="item in vm.cateList track by item.category_id"><div class="cnt" ng-class="{\'curr\':item.selected}"><span class="name" ng-click="vf.selectCate(item)">{{item.category_name}}</span></div></div></div><div class="row"><div class="leftPanel"><div class="cateItem" ng-repeat="item in vm.leftCateList track by item.category_id" ng-click="vf.selectSubCate(item)" ng-class="{\'curr\':item.selected,\'currFirst\':$index == 0}"><div class="cnt">{{item.category_name}}</div><div class="cateItemCycle"></div></div><div class="cateItem bottomItem"><div class="cnt">&nbsp;</div></div></div><div class="col rightPanel"><img src="{{vm.rightCate.img_url}}" alt="" class="cateImg" ng-if="vm.rightCate.img_url"><div class="productList"><div class="product" ng-repeat="item in vm.rightCate.products"><div class="name">{{item.title}}</div><div class="font12"><span class="price">{{item.price | currency:"￥":2}}</span>/天起 <span class="quotePrice">{{item.quote_price | currency:"￥":2}}</span><div class="tags"><span>4G LET</span> <span>无限流量</span></div><div class="clear"></div></div></div></div></div></div></div></div>'),t.put("app/jikuProductList/jikuProductList.html",'<div class="wrapJikuProductList"><header><a href="javascript:history.go(-1);" class="leftBack">&lt;返回</a> <span class="title">选择Wi-Fi</span> <a href="/myOrder" class="iconfont icon-yonghutouxiang rightIco"></a><div class="clear"></div></header><div class="wrapCateList"><div class="row"><div class="col"><div class="cnt"><div class="cateName">日本</div><div><span class="price">￥18.90</span>/天起</div></div></div><div class="col"><div class="cnt"><div class="cateName">日本</div><div><span class="price">￥18.90</span>/天起</div></div></div><div class="col"><div class="cnt"><div class="cateName">日本</div><div><span class="price">￥18.90</span>/天起</div></div></div></div><div class="row"><div class="col"><div class="cnt"><div class="cateName">日本</div><div><span class="price">￥18.90</span>/天起</div></div></div><div class="col"><div class="cnt"><div class="cateName">日本</div><div><span class="price">￥18.90</span>/天起</div></div></div><div class="col"><div class="cnt"><div class="cateName">日本</div><div><span class="price">￥18.90</span>/天起</div></div></div></div></div><div class="wrapSerach"><form action="" class="lineBox"><span class="title">搜索</span> <input type="text" placeholder="输入地区查询"></form></div><div class="wrapProductList"><div class="cateTabs"><div class="cateCol" ng-repeat="item in vm.cateList track by item.category_id"><div class="cnt" ng-class="{\'curr\':item.selected}"><span class="name" ng-click="vf.selectCate(item)">{{item.category_name}}</span></div></div></div><div class="row"><div class="leftPanel"><div class="cateItem" ng-repeat="item in vm.leftCateList track by item.category_id" ng-click="vf.selectSubCate(item)" ng-class="{\'curr\':item.selected,\'currFirst\':$index == 0}"><div class="cnt">{{item.category_name}}</div><div class="cateItemCycle"></div></div><div class="cateItem bottomItem"><div class="cnt">&nbsp;</div></div></div><div class="col rightPanel"><img src="{{vm.rightCate.img_url}}" alt="" class="cateImg" ng-if="vm.rightCate.img_url"><div class="productList"><div class="product" ng-repeat="item in vm.rightCate.products" ng-click="vf.goDetail(item)"><div class="name">{{item.title}}</div><div class="font12"><span class="price">{{item.price | currency:"￥":2}}</span>/天起 <span class="quotePrice">{{item.quote_price | currency:"￥":2}}</span><div class="tags"><span>4G LET</span> <span>无限流量</span></div><div class="clear"></div></div></div></div></div></div></div></div>'),t.put("app/jikuhome/jikuhome.html",'<div class="wrapJikuHome first_check"><div class="corverbg mainbg fadeOut" style="background-image: -webkit-linear-gradient(left, #EAEAEA,#F5F5F5,#FEFEFE,#F5F5F5,#EAEAEA);" ng-show="!vm.hideCorverbg"><div class="innerbg mainbg" style="background-image: url(assets/images/coverbg.png);"></div></div><header><img src="http://comeoncloud-open.oss-cn-hangzhou.aliyuncs.com/img/jikuwifi/oksir.png" alt="极库WIFI" class="leftImg"> <a href="/myOrder" class="iconfont icon-yonghutouxiang rightIco"></a><div class="clear"></div></header><sliderbox pic-size="750:316" slide-type="index"></sliderbox><div class="wrapCateList"><div class="row"><div class="col"><div class="cnt"><div class="cateName">日本</div><div><span class="price">￥18.90</span>/天起</div></div></div><div class="col"><div class="cnt"><div class="cateName">日本</div><div><span class="price">￥18.90</span>/天起</div></div></div><div class="col"><div class="cnt"><div class="cateName">日本</div><div><span class="price">￥18.90</span>/天起</div></div></div></div><div class="row"><div class="col"><div class="cnt"><div class="cateName">日本</div><div><span class="price">￥18.90</span>/天起</div></div></div><div class="col"><div class="cnt"><div class="cateName">日本</div><div><span class="price">￥18.90</span>/天起</div></div></div><div class="col"><div class="cnt"><div class="cateName">日本</div><div><span class="price">￥18.90</span>/天起</div></div></div></div><div class="more"><a href="/jikuProductList">更多WiFi&gt;&gt;</a></div></div><div class="wrapImgBtn"><a href="/singelPage/addressQuery"><img src="http://comeoncloud-open.oss-cn-hangzhou.aliyuncs.com/img/jikuwifi/index_r2_c2.png" alt=""></a> <a href="/singelPage/wrapBuyFlow"><img src="http://comeoncloud-open.oss-cn-hangzhou.aliyuncs.com/img/jikuwifi/index_r4_c2.png" alt=""></a> <a href="/singelPage/FAQ"><img src="http://comeoncloud-open.oss-cn-hangzhou.aliyuncs.com/img/jikuwifi/index_r6_c2.png" alt=""></a> <img class="qrcode" src="http://comeoncloud-open.oss-cn-hangzhou.aliyuncs.com/img/jikuwifi/index_r8_c3.png" alt=""></div></div>'),t.put("app/login_jk/login.html",'<div class="login-content"><input type="text" placeholder="输入手机号码" class="input-style name"> <input type="password" placeholder="输入密码" class="input-style"><div class="gold-btn">登录</div><div class="warning-tips"><div class="warning-left">注册新用户</div><div class="warning-right">忘记密码？</div></div></div>'),
t.put("app/product_jk/productList.html",'<div class="product-sort"><div class="head-menu"><span class="title">极库WIFI</span><go-back></go-back><div class="iconfont icon-center iconRight" ui-sref="infoCenter"></div><div class="clear-both"></div></div><sliderbox pic-size="640:300" slide-type="slide2"></sliderbox><div class="catlist"><div class="scroll-overflow" id="iscrollwrapper" iscroll-x="" scroll-data="pdlist.catDate"><table><tr><td class="scrollbox" ng-repeat="cat in pdlist.catDate"><span ng-class="{gold_border:cat.isme}" class="nomallink" ng-click="pdlist.navswitch(cat)" ng-bind="cat.category_name"></span></td></tr></table></div></div><div class="area-menu2 clearfix"><div class="area" ng-class="{\'gold_border\':pdlist.show==0}" ng-click="pdlist.tagchangge(0)"><span class="text">选择套餐</span></div><div class="area" ng-class="{\'gold_border\':pdlist.show==1}" ng-click="pdlist.tagchangge(1)"><span class="text" ng-bind="pdlist.MALLCONFIG.mallconfig.jkseting.parameter.name"></span></div><div class="area" ng-class="{\'gold_border\':pdlist.show==2}" ng-click="pdlist.tagchangge(2)"><span class="text" ng-bind="pdlist.MALLCONFIG.mallconfig.jkseting.bookingNotes.name"></span></div><div class="area" ng-class="{\'gold_border\':pdlist.show==3}" ng-click="pdlist.tagchangge(3)"><span class="text" ng-bind="pdlist.MALLCONFIG.mallconfig.jkseting.instructionForUse.name"></span></div></div><div class="product-list-jk" ng-show="pdlist.show==0" scroll-bottom-bind="pdlist.loadMoreData()"><div pro-list=""></div><div class="loadingTap"><span ng-show="pdlist.loadingTag">加载中~</span> <span ng-show="pdlist.loadingEndTag">没有更多了~</span></div></div><div class="product-sku" ng-show="pdlist.show==1"><article-detail article-id="pdlist.MALLCONFIG.mallconfig.jkseting.parameter.id"></article-detail></div><div class="product-sku" ng-show="pdlist.show==2"><article-detail article-id="pdlist.MALLCONFIG.mallconfig.jkseting.bookingNotes.id"></article-detail></div><div class="product-sku" ng-show="pdlist.show==3"><article-detail article-id="pdlist.MALLCONFIG.mallconfig.jkseting.instructionForUse.id"></article-detail></div></div>'),t.put("app/register_jk/register.html",'<div class="register"><input type="text" placeholder="输入手机号码" class="input-style name"> <input type="text" placeholder="输入验证码" class="input-style verify"> <button class="input-style verify-btn">获取验证码</button><div class="clear-both"></div><input type="password" placeholder="输入密码" class="input-style"> <input type="password" placeholder="确认密码" class="input-style"><div class="gold-btn">注册</div><div class="warning-tips"><div class="warning-left">已有账号？</div><div class="warning-right">登录</div></div></div>'),t.put("app/singelPage/addressQuery.html",'<div><header><a href="javascript:history.go(-1);" class="leftBack">&lt;返回</a> <span class="title">自提点查询</span> <a href="#/myOrder" class="iconfont icon-yonghutouxiang rightIco"></a><div class="clear"></div></header><img class="pageImg" src="http://comeoncloud-open.oss-cn-hangzhou.aliyuncs.com/img/jikuwifi/addressQuery_r2_c1.png" alt=""></div>'),t.put("app/singelPage/faq.html",'<div class="wrapFAQ"><header><a href="javascript:history.go(-1);" class="leftBack">&lt;返回</a> <span class="title">常见问题</span> <a href="#/myOrder" class="iconfont icon-yonghutouxiang rightIco"></a><div class="clear"></div></header><img class="pageImg" src="http://comeoncloud-open.oss-cn-hangzhou.aliyuncs.com/img/jikuwifi/s_faq/faq_r1_c1.png" alt=""></div>'),t.put("app/singelPage/wrapBuyFlow.html",'<div><header><a href="javascript:history.go(-1);" class="leftBack">&lt;返回</a> <span class="title">租赁流程</span> <a href="#/myOrder" class="iconfont icon-yonghutouxiang rightIco"></a><div class="clear"></div></header><img class="pageImg" src="http://comeoncloud-open.oss-cn-hangzhou.aliyuncs.com/img/jikuwifi/buyflow_r2_c1.png" alt=""></div>'),t.put("app/takeEquipment_jk/takeEquipment.html",'<div class="take-equipment"><img class="jikuwifi-logo" src="assets/images/jikuWIFI.png"><div class="greet">您好，<span class="color-gold">用户名</span>，欢迎来到极库wifi</div><div class="choose-tip">您选择的方式:</div><div class="choose-wrap"><div class="gold-btn choose-left">提取设备</div><div class="gold-btn choose-right unchoose">归还设备</div><div class="clear-both"></div></div><div class="take-instruction">说明：<br>请输入您下单时留下的手机号码，并接收短信验证码，在您的手机号码验证通过后，您将可以从自动打开的对应柜门取走您的设备。</div><div class="inputs-wrap"><input type="text" placeholder="输入手机号码" class="input-style name"> <input type="text" placeholder="输入验证码" class="input-style verify"> <button class="input-style verify-btn">获取验证码</button><div class="clear-both"></div></div><div class="gold-btn">提交</div><div class="mask-layer" ng-if="success" ng-click="closeSuccess()"></div><div class="success-detail" ng-if="success"><h4>恭喜你！</h4><p>您的手机号验证通过</p><p>请从打开的05号柜门取走您的设备</p><p>祝您旅途愉快</p><br><p class="color-gold" ui-sref="home">进入首页</p></div></div>'),t.put("app/checkProducts_jk/checkTags/checkTags.html",'<div class="check_tags_box check_time_country"><div class="mycenter clearfix"><span class="iconfont icon-center" ui-sref="infoCenter"></span></div><h2>请选择你对wifi的要求</h2><div class="check_country"><ul class="concentbox clearfix"><li class="checkbar" ng-if="tag.tag_name!==\'yajin\'" ng-class="{checked:tag.checked}" ng-repeat="tag in vm_ct.tags" ng-click="vm_ct.checkTag($index)" ng-bind="tag.tag_name"></li></ul></div></div>'),t.put("app/checkProducts_jk/checkTimeCountry/checkTimeCountry.html",'<div class="check_time_country swiper-no-swiping wrapCheckCountry" id="wrapCheckCountry"><div class="mycenter clearfix"><span class="iconfont icon-center" ui-sref="infoCenter"></span></div><h2>Step&nbsp;1.想去哪</h2><div class="check_state" ng-show="vm_ctc.showCheckState"><div class="row" ng-repeat="row in vm_ctc.catsShowArr"><div class="col" ng-class="{selectState:col.checked}" ng-repeat="col in row"><div class="cnt" ng-bind="col.category_name" ng-click="vm_ctc.selectState(col)"></div></div></div></div><div class="wrapSelectStateed" ng-show="!vm_ctc.showCheckState"><span>{{vm_ctc.currSelectState.category_name}}</span> <span ng-show="vm_ctc.currSelectCountry">&nbsp;-&nbsp; {{vm_ctc.currSelectCountry.category_name}}</span> <a href="javascript:;" ng-click="vm_ctc.redoSelectState()">更改</a></div><div class="check_state_country" ng-show="vm_ctc.showCheckStateCountry"><div class="row" ng-repeat="row in vm_ctc.currSelectState.childrenShowArr"><div class="col" ng-class="{selectState:col.checked}" ng-repeat="col in row"><div class="cnt" ng-bind="col.category_name" ng-click="vm_ctc.selectCountry(col)"></div></div></div></div><div class="nextpage animated infinite pulse" ng-show="vm_ctc.isShowNextStep"><span class="text" ng-click="goNextPage()">下一步</span> <span class="iconfont icon-fanhui"></span></div></div>'),t.put("app/checkProducts_jk/firstCheck/firstCheck.html",'<div class="first_check"><div class="corverbg mainbg fadeOut" style="background-image: -webkit-linear-gradient(left, #EAEAEA,#F5F5F5,#FEFEFE,#F5F5F5,#EAEAEA);"><div class="innerbg mainbg" style="background-image: url(assets/images/coverbg.png);"></div></div><div style="background-image: url(assets/images/p2_mainbg.png);background-size: 16px;background-repeat: repeat;" class="mainbg"></div><div class="squarebar topsquare"><div class="btna" ui-sref="checkProducts"><span class="innerbtn jia_btn">开始规划行程</span></div></div><div class="squarebar bottomsquare"><div class="jia_btn" ui-sref="productList">随便逛逛</div></div></div>'),t.put("app/components_jk/catCheckJk/catCheckJk.html",'<div class="cat_check_box"><div class="checkbar"><label class="labelbar" for="checkContinent"><span ng-bind="vm_ccj.chedkedCat_p.category_name"></span> <span class="iconfont icon-jiantou"></span></label><select class="selectbar" ng-class="{androidselect:vm_ccj.device.android}" name="repeatSelect" id="checkContinent" ng-model="vm_ccj.chedkedCat_p" ng-options="cat.category_name for cat in vm_ccj.cats"></select></div><div class="checkbar"><label class="labelbar" for="checkCountry"><span ng-bind="vm_ccj.chedkedCat_s.category_name"></span> <span class="iconfont icon-jiantou"></span></label><select class="selectbar" ng-class="{androidselect:vm_ccj.device.android}" name="repeatSelect" id="checkCountry" ng-model="vm_ccj.chedkedCat_s" ng-options="cat.category_name for cat in vm_ccj.chedkedCat_p.children"></select></div><div class="searchbtn" ui-sref="catSearch"><span class="iconfont icon-fangdajing"></span></div></div>'),t.put("app/components_jk/mobileDatepacker/mobileDatepacker.html",'<div class="timebox"><div class="text"><p class="name">国内出发日期</p><p>2015-9-28</p></div><div class="more iconfont icon-youjiantou"></div><div class="clear-both"></div></div>'),t.put("app/components_jk/orderList/orderList.html",'<div class="order-item"><div class="order-name"><div class="name">{{boxdata.titlename}}</div><div class="num color-gold">{{boxdata.product_count/2}}台</div><div class="clear-both"></div></div><div class="order-content"><div class="name">订单号</div><div class="the-value">{{boxdata.out_order_id}}</div><div class="clear-both"></div></div><div class="order-content"><div class="name">金额</div><div class="the-value color-gold">{{boxdata.allprice | currency : \'￥\'}}(含{{boxdata.depositprice | currency : \'￥\'}}押金)</div><div class="clear-both"></div></div><div class="order-content"><div class="name">状态</div><div class="the-value">{{boxdata.order_status}} ( <span ng-show="boxdata.delivery_type == 0">快递</span> <span ng-show="boxdata.delivery_type == 1">自提</span> <span ng-show="boxdata.delivery_type == 2">现场</span> )</div><div class="clear-both"></div></div><div class="order-content"><div class="name">下单时间</div><div class="the-value">{{boxdata.order_time | date:"yyyy-MM-dd HH:mm"}}</div><div class="clear-both"></div></div><div><div class="gold-btn view-detail" ui-sref="orderDetail({orderID:boxdata.order_id})">查看详情</div><div class="clear-both"></div></div></div>'),t.put("app/components_jk/pickupAdress/pickupAdress.html",'<div ng-click="vm_pua.opencheckbox()" class="text checkairport clearfix"><p class="name" ng-if="!pickupAdress.id">请选择自提机场</p><p class="name" ng-if="pickupAdress.id" ng-bind="pickupAdress.name"></p><div class="more iconfont icon-youjiantou"></div></div><div ng-if="vm_pua.checkboxstatus" class="checkPickupAdress"><div class="swiper-container swiper-container-pua"><div class="swiper-wrapper"><div class="swiper-slide swiper-slide-pua"><div class="loadinfo" ng-if="vm_pua.paData.length==0"><p class="title" ng-if="!vm_pua.loadOver">数据加载中...</p><p class="title" ng-if="vm_pua.loadOver">没有可选自提点</p></div><div class="adressbox" ng-repeat="pa in vm_pua.paData" ng-class="{checked:$index==vm_pua.checkednum}" ng-click="vm_pua.checkednum=$index"><span class="checkbox"><span class="innerbox"></span></span><p class="title">{{pa.name}}</p><p class="adress">{{pa.address}}</p><img class="adressimg" ng-src="{{pa.imgurl}}"></div></div></div></div><div class="bottombar"><div class="jia_btn" ng-click="vm_pua.checkboxstatus=0">取消</div><div class="jia_btn jia_btn_act" ng-if="vm_pua.paData.length>0" ng-click="vm_pua.setMyCheck(vm_pua.checkednum)">确认选择</div></div></div>'),t.put("app/components_jk/proList/proList.html",'<div class="product-sort-item" ng-repeat="pd in pdlist.productListData" ng-if="pd.tags!==\'yajin\'"><div class="product-item" ui-sref="createOrder({pdID:pd.product_id})"><img class="product-img" ng-src="{{pd.img_url}}@140h_140w_1e_1c"><div class="product-text"><div class="product-title">{{pd.title}}</div><div class="product-price">¥{{pd.price}}/天 <span class="product-count">(库存{{pd.totalcount}})</span></div><div class="product-tip">(4天起租，需提前3天预订)</div></div><div class="product-more iconfont icon-youjiantou"></div><div class="clear-both"></div></div><div class="product-btns"><div class="product-btn" ng-click="pdlist.productDetail(pd.product_id)">套餐详情</div><div class="product-btn hasnum" ng-show="pd.totalcount != 0" ui-sref="createOrder({pdID:pd.product_id})">立即预定</div><div class="product-btn nonum" ng-show="pd.totalcount == 0">已售完</div><div class="clear-both"></div></div></div><div class="detailInfo"></div>'),t.put("app/components_jk/proList/proList2.html",'<div class="product-sort-item2" ng-repeat="pd in pdlist.productListData" ng-if="pd.tags[0]!==\'yajin\'"><div class="clickbox" ui-sref="productDetail({id:pd.product_id})"><img class="product_img" ng-src="{{pd.img_url}}@140h_140w_1e_1c"><div class="product_title">{{pd.title}}</div><div class="tagbox"><span ng-repeat="tag in pd.tags track by $index" ng-bind="tag" class="tag"></span></div><div class="product_price">¥{{pd.price}}/天 <span class="product_count">(库存{{pd.totalcount}})</span></div></div><div class="product_btn hasnum" ng-show="pd.totalcount != 0" ui-sref="createOrder({pdID:pd.product_id})">购买</div><div class="product_btn nonum" ng-show="pd.totalcount == 0">已售完</div></div>'),t.put("app/components_jk/timeplugin/timeplugin.html",'<div class="wrapTimePlugin"><div class="list card" ng-if="vm.dataList.calendar.show"><div class="wrapDatePick"><div class="row row-choose"><div class="col choosedate">请选择{{vm.dateNm}}日期</div></div><div class="wrapSelectYearAndMonth row"><div class="col txtLeft lineH36 font18" ng-mousedown="vf.toPreMonth(vm.dataList)" ng-class="{\'colorGrey_d\':vm.dataList.calendar.hasBeforeToday,\'hoverGrey\':!vm.dataList.calendar.hasBeforeToday}"><</div><div class="col txtCenter"><span class="height36 lineH36">{{vm.dataList.calendar.year}}年{{vm.dataList.calendar.month}}月</span></div><div class="col txtRight hoverGrey lineH36 font18" ng-mousedown="vf.toNextMonth(vm.dataList)">></div></div><div class="row borderBottom txtCenter"><div class="col" ng-repeat="w in vm.week" ng-bind="w"></div></div><div class="wrapDayList txtCenter"><div class="row" ng-repeat="wd in vm.dataList.calendar.dayList"><div class="col" ng-repeat="day in wd track by $index" ng-class="{\'bgLightGreen\':day.isCheck,\'colorWhite\':day.isCheck}" ng-mousedown="vf.selectDate(vm.dataList,day)"><span ng-if="!day.isTody" ng-bind="day.day" ng-class="{\'colorGrey_d\':day.isBeforeToday()||vf.isAbleClick(day)||day.isTody}"></span> <span ng-if="day.isTody" ng-class="{\'colorGrey_d\':day.isBeforeToday()||vf.isAbleClick(day)||day.isTody}">今天</span> <span ng-if="!day.isTody&&day.price&&day!=0&&vm.priceConfigList.timetype==1&&!(day.isBeforeToday()||vf.isAbleClick(day))" class="price" ng-class="{\'colorGrey_d\':day.isBeforeToday(),\'colorWhite\':day.isCheck}"><img class="meiyuan" src="http://jikuwifi.comeoncloud.net/customize/jikuwifi/meiyuan.png">{{day.price}}</span></div></div></div></div></div><div ng-if="vm.dataList.calendar.show" class="wrapShare" ng-mousedown="vf.showPlugin();"></div></div>'),t.put("app/order_jk/createOrder/createOrder.html",'<div class="order-jk"><div class="head-menu clearfix header"><span class="title">极库WIFI</span><go-back></go-back><div class="iconfont icon-center iconRight" ui-sref="infoCenter"></div><div class="clear-both"></div></div><div class="wrap-jiku-create-order"><div class="infobox"><div class="listbox"><div class="timepacker" type="text" pick-a-date="vm.maintime[0]" pick-a-date-options="vm.timepackerOptions"></div><div class="text"><p class="name">国内出发日期</p><p ng-bind="vm.odSubmitData.departure_date | date:\'yyyy-MM-dd\'"></p></div><div class="more iconfont icon-youjiantou"></div><div class="clear-both"></div></div><div class="listbox"><div class="timepacker" type="text" pick-a-date="vm.maintime[1]" pick-a-date-options="vm.timepackerOptions2"></div><div class="text"><p class="name">抵达国内日期</p><p ng-bind="vm.odSubmitData.backhome_date | date:\'yyyy-MM-dd\'"></p></div><div class="more iconfont icon-youjiantou"></div><div class="clear-both"></div></div><div class="listbox"><div class="text"><p class="name">购买数量（库存<span class="yellowcolor" ng-bind="vm.pdInfo.skus[0].count-vm.odSubmitData.skus[0].count"></span>件）</p></div><div class="more"><span class="iconfont icon-jian jiajianbtn" ng-click="vm.jianbtn()"></span> <span class="pdcount yellowcolor" ng-bind="vm.odSubmitData.skus[0].count"></span> <span class="iconfont icon-jia jiajianbtn" ng-click="vm.jiabtn()"></span><div class="clear-both"></div></div><div class="clear-both"></div></div></div><div class="section-title">请选择配货方式</div><div class="infobox"><div class="listbox"><div class="express-way" ng-class="{yigouxuan:!vm.odSubmitData.delivery_type}" ng-click="vm.odSubmitData.delivery_type=0">免费快递 <span class="iconfont icon-iconfontxuanze gouxuan"></span></div><div class="express-way" ng-class="{yigouxuan:vm.odSubmitData.delivery_type}" ng-click="vm.odSubmitData.delivery_type=1">机场自提 <span class="iconfont icon-iconfontxuanze gouxuan"></span></div><div class="clear-both"></div></div><div ng-if="!vm.odSubmitData.delivery_type" select-address="" address-info="vm.addressData" customize="false" address-id="vm.addressId"></div><div class="listbox" ng-if="vm.odSubmitData.delivery_type" ng-click="vm.openPickupAddress()"><div class="text"><p class="name" ng-if="!vm.odSubmitData.get_address_id">请选择自提机场</p><p class="name" ng-if="vm.odSubmitData.get_address_id" ng-bind="vm.odSubmitData.get_address_name"></p></div><div class="more iconfont icon-youjiantou"></div><div class="clear-both"></div></div></div><div ng-if="vm.odSubmitData.delivery_type"><div class="section-title">请完善提货信息</div><div class="infobox"><div class="listbox"><div class="text"><p class="name">姓名</p><input type="text" class="receiver-input" ng-model="vm.odSubmitData.receiver_name" placeholder="输入您的姓名"></div><div class="more iconfont icon-youjiantou"></div><div class="clear-both"></div></div><div class="listbox"><div class="text"><p class="name">手机</p><input type="tel" class="receiver-input" ng-model="vm.odSubmitData.receiver_phone" placeholder="输入您的手机号码"></div><div class="more iconfont icon-youjiantou"></div><div class="clear-both"></div></div><div class="listbox"><div class="text"><p class="name">邮箱</p><input type="text" class="receiver-input" ng-model="vm.odSubmitData.receiver_zip" placeholder="输入您的邮箱"></div><div class="more iconfont icon-youjiantou"></div><div class="clear-both"></div></div></div></div><div class="section-title">请选择优惠券</div><div class="infobox"><check-coupon order-total-price="vm.odSubmitData.totalprice" order-skus="vm.odSubmitData.skus" checked-coupon-info="vm.checkedCouponInfo"></check-coupon></div><div class="total-count"><div class="count">支付金额： <span class="RMB" ng-if="!vm.checkedCouponInfo.buckle_amount||vm.odSubmitData.totalprice<vm.checkedCouponInfo.buckle_amount" ng-bind="vm.odSubmitData.totalprice | currency:\'\':\'2\'"></span> <span class="RMB" ng-if="vm.odSubmitData.totalprice>=vm.checkedCouponInfo.buckle_amount" ng-bind="vm.odSubmitData.totalprice-vm.checkedCouponInfo.buckle_sub_amount | currency:\'\':\'2\'"></span> RMB</div><div class="count-instruction" ng-if="vm.odSubmitData.totalprice>0"><p class="instruction-title">费用说明：</p><p class="instruction-content">根据您的订单内容，租金为 <span class="RMB" ng-bind="vm.pdInfo.skus[0].price*vm.odSubmitData.skus[0].count*vm.odSubmitData.totalday | currency:\'\':\'2\'"></span> 元，押金为 <span class="RMB" ng-bind="vm.repdInfo.skus[0].price*vm.odSubmitData.skus[1].count"></span> 元。本订单会收取租金和押金共 <span class="RMB" ng-bind="vm.odSubmitData.totalprice | currency:\'\':\'2\'"></span> 元，WIFI租用结束后，我们将会退回押金。<br><span ng-if="vm.odSubmitData.totalprice>=vm.checkedCouponInfo.buckle_amount">优惠券抵扣金额<span class="RMB" ng-bind="vm.checkedCouponInfo.buckle_sub_amount"></span>元。</span></p></div></div><div class="checkPickupAdress" iscroll-y="" ng-if="vm.PickupAddressNeedOpen" show-model="vm.PickupAddressNeedOpen" scrolly-data="vm.pickupAddressData"><div><div class="adressbox" ng-repeat="pa in vm.pickupAddressData" ng-click="vm.checkPickupAdress(pa.id,pa.name)"><p class="checked" ng-if="pa.id==vm.odSubmitData.get_address_id"></p><p class="title">{{pa.name}}</p><p class="adress">{{pa.address}}</p></div><br></div></div><div class="gold-btn create-order" ng-click="vm.odSubmit()">立即下单</div></div></div>'),t.put("app/order_jk/createOrder/createOrder2.html",'<div class="order-jk2"><div class="head-menu"><span class="title">极库WIFI</span><go-back></go-back><div class="iconfont icon-center iconRight" ui-sref="infoCenter"></div><div class="clear-both"></div></div><div class="wrap-jiku-create-order"><div class="infobox" style="border-top: 1px solid #dedede;padding-top: 10px;"><div class="product_box"><div class="product_img"><img ng-src="{{vm.pdInfo.img_url}}@60w_60h_1e_1c" alt=""></div><div class="product_title" ng-bind="vm.pdInfo.title"></div></div></div><div class="titlebox">基本信息</div><div class="infobox"><div class="product_infobox"><div class="info_title">价格：</div><div class="info_value" ng-bind="vm.pdInfo.skus[0].diffPrice | currency:\'￥\':\'2\'"></div></div><div class="product_infobox"><div class="info_title">押金：</div><div class="info_value" ng-bind="vm.repdInfo.skus[0].price | currency:\'￥\':\'2\'"></div></div><div class="product_infobox"><div class="info_title">目的地：</div><div class="info_value" ng-bind="vm.pdInfo.category_name"></div></div><div class="product_infobox"><div class="info_title">出发日期：</div><div class="info_value date_pick_box"><div ng-mousedown="vm.showTimePlugin(1)" ng-disabled="vm.isshowtime" class="timepacker"></div><span class="timeinfo" ng-bind="vm.pdInfo.startSelectDate | date:\'yyyy-MM-dd\'"></span> <span class="iconfont icon-rili"></span></div></div><div class="product_infobox"><div class="info_title">回程日期：</div><div class="info_value date_pick_box"><div ng-mousedown="vm.showTimePlugin(2)" ng-disabled="vm.backshowtime" class="timepacker"></div><span class="timeinfo" ng-bind="vm.pdInfo.backSelectDate | date:\'yyyy-MM-dd\'"></span> <span class="iconfont icon-rili"></span></div></div><div class="product_infobox"><div class="info_title">购买数量：</div><div class="info_value"><div class="more"><span class="iconfont icon-jian jiajianbtn" ng-click="vm.jianbtn()"></span> <span class="pdcount yellowcolor" ng-bind="vm.odSubmitData.skus[0].count"></span> <span class="iconfont icon-jia jiajianbtn" ng-click="vm.jiabtn()"></span><div class="clear-both"></div></div></div></div><div class="total_price">租金:<span ng-bind="vm.totalPrice | currency:\'￥\':\'2\'"></span> &nbsp;&nbsp;|&nbsp;&nbsp; 押金:<span ng-bind="vm.repdInfo.skus[0].price*vm.odSubmitData.skus[0].count | currency:\'￥\':\'2\'"></span></div></div><div class="titlebox">配送方式</div><div class="infobox bottomline"><div class="express-way" ng-class="{yigouxuan:vm.odSubmitData.delivery_type==2}" ng-click="vm.checkXCGM()">现场购买 <span class="iconfont icon-iconfontxuanze gouxuan"></span></div><div class="express-way" ng-class="{yigouxuan:vm.odSubmitData.delivery_type==0}" ng-click="vm.odSubmitData.delivery_type=0">快递送货 <span class="iconfont icon-iconfontxuanze gouxuan"></span></div><div class="express-way" ng-class="{yigouxuan:vm.odSubmitData.delivery_type==1}" ng-click="vm.checkPirport()">机场自提 <span class="iconfont icon-iconfontxuanze gouxuan"></span></div><div class="clear-both"></div></div><div ng-if="vm.odSubmitData.delivery_type == 0" select-address="" address-info="vm.addressData" customize="false" address-id="vm.addressId"></div><div ng-if="!vm.odSubmitData.delivery_type" class="infobox"><div class="total_price">快递费用： <span ng-if="vm.freight>0" ng-bind="vm.freight | currency:\'￥\':\'2\'"></span> <span ng-if="vm.freight==0">免费</span></div></div><div class="infobox" ng-if="vm.odSubmitData.delivery_type == 1" ng-click="vm.openPickupAddress()"><pickup-adress-jk pickup-adress="vm.checkedPickupAddress"></pickup-adress-jk></div><div class="titlebox" ng-if="vm.odSubmitData.delivery_type == 1">请完善提货信息</div><div class="infobox" ng-if="vm.odSubmitData.delivery_type == 1"><div class="listbox"><div class="text"><p class="name">姓名</p><input type="text" class="receiver-input" ng-model="vm.odSubmitData.receiver_name" placeholder="输入您的姓名"></div><div class="clear-both"></div></div><div class="listbox"><div class="text"><p class="name">手机</p><input type="tel" class="receiver-input" ng-model="vm.odSubmitData.receiver_phone" placeholder="输入您的手机号码"></div><div class="clear-both"></div></div></div><div class="titlebox mTop15">优惠信息</div><div class="infobox"><check-coupon order-total-price="vm.pdInfo.skus[0].diffPrice*vm.odSubmitData.totalday*vm.odSubmitData.skus[0].count" amount-name="租金" order-skus="vm.odSubmitData.skus" checked-coupon-info="vm.checkedCouponInfo"></check-coupon><div class="total_price">优惠金额： <span ng-if="!vm.checkedCouponInfo.cardcoupon_name" ng-bind="0 | currency:\'￥\':\'2\'"></span><span ng-if="vm.checkedCouponInfo.cardcoupon_type==0" ng-bind="(vm.pdInfo.skus[0].diffPrice*vm.odSubmitData.totalday*vm.odSubmitData.skus[0].count)*(1-vm.checkedCouponInfo.discount/10) | currency:\'￥\':\'2\'"></span><span ng-if="vm.checkedCouponInfo.cardcoupon_type==1&&vm.pdInfo.skus[0].diffPrice*vm.odSubmitData.totalday*vm.odSubmitData.skus[0].count>vm.checkedCouponInfo.deductible_amount" ng-bind="vm.checkedCouponInfo.deductible_amount | currency:\'￥\':\'2\'"></span> <span ng-if="vm.checkedCouponInfo.cardcoupon_type==1&&vm.pdInfo.skus[0].diffPrice*vm.odSubmitData.totalday*vm.odSubmitData.skus[0].count<=vm.checkedCouponInfo.deductible_amount" ng-bind="vm.pdInfo.skus[0].diffPrice*vm.odSubmitData.totalday*vm.odSubmitData.skus[0].count | currency:\'￥\':\'2\'"></span><span ng-if="vm.checkedCouponInfo.cardcoupon_type==2" ng-bind="vm.freight | currency:\'￥\':\'2\'"></span><span ng-if="vm.checkedCouponInfo.cardcoupon_type==3" ng-bind="vm.checkedCouponInfo.buckle_sub_amount | currency:\'￥\':\'2\'"></span></div></div><div class="bottombox"><div ng-if="!vm.checkedCouponInfo.cardcoupon_type&&vm.checkedCouponInfo.cardcoupon_type!=0" class="total_price">实付金额：<span ng-if="vm.odSubmitData.totalday>2" class="yellowcolor pricenum" ng-bind="vm.odSubmitData.totalprice | currency:\'￥\':\'2\'"></span> <span ng-if="vm.odSubmitData.totalday<3" class="yellowcolor pricenum">设备3天起租</span></div><div ng-if="vm.checkedCouponInfo.cardcoupon_type||vm.checkedCouponInfo.cardcoupon_type==0" class="total_price">实付金额：<span ng-if="vm.checkedCouponInfo.cardcoupon_type==0" class="yellowcolor pricenum" ng-bind="(vm.pdInfo.skus[0].diffPrice*vm.odSubmitData.totalday*vm.checkedCouponInfo.discount/10+vm.repdInfo.skus[0].price)*vm.odSubmitData.skus[0].count+vm.freight | currency:\'￥\':\'2\'"></span><span ng-if="vm.checkedCouponInfo.cardcoupon_type==1&&vm.pdInfo.skus[0].diffPrice*vm.odSubmitData.totalday*vm.odSubmitData.skus[0].count>vm.checkedCouponInfo.deductible_amount" class="yellowcolor pricenum" ng-bind="(vm.pdInfo.skus[0].diffPrice*vm.odSubmitData.totalday+vm.repdInfo.skus[0].price)*vm.odSubmitData.skus[0].count-vm.checkedCouponInfo.deductible_amount+vm.freight | currency:\'￥\':\'2\'"></span> <span ng-if="vm.checkedCouponInfo.cardcoupon_type==1&&vm.pdInfo.skus[0].diffPrice*vm.odSubmitData.totalday*vm.odSubmitData.skus[0].count<=vm.checkedCouponInfo.deductible_amount" class="yellowcolor pricenum" ng-bind="vm.repdInfo.skus[0].price*vm.odSubmitData.skus[0].count+vm.freight | currency:\'￥\':\'2\'"></span><span ng-if="vm.checkedCouponInfo.cardcoupon_type==2" class="yellowcolor pricenum" ng-bind="(vm.pdInfo.skus[0].diffPrice*vm.odSubmitData.totalday+vm.repdInfo.skus[0].price)*vm.odSubmitData.skus[0].count | currency:\'￥\':\'2\'"></span><span ng-if="vm.checkedCouponInfo.cardcoupon_type==3&&vm.pdInfo.skus[0].diffPrice*vm.odSubmitData.totalday*vm.odSubmitData.skus[0].count-vm.checkedCouponInfo.buckle_sub_amount>0" class="yellowcolor pricenum" ng-bind="(vm.pdInfo.skus[0].diffPrice*vm.odSubmitData.totalday+vm.repdInfo.skus[0].price)*vm.odSubmitData.skus[0].count-vm.checkedCouponInfo.buckle_sub_amount+vm.freight | currency:\'￥\':\'2\'"></span> <span ng-if="vm.checkedCouponInfo.cardcoupon_type==3&&vm.pdInfo.skus[0].diffPrice*vm.odSubmitData.totalday*vm.odSubmitData.skus[0].count-vm.checkedCouponInfo.buckle_sub_amount<=0" class="yellowcolor pricenum" ng-bind="vm.repdInfo.skus[0].price*vm.odSubmitData.skus[0].count+vm.freight | currency:\'￥\':\'2\'"></span></div><div class="btnbox"><span class="buybtn resetbtn" ui-sref="checkProducts">重新定制行程</span> <span ng-if="vm.odSubmitData.totalday<3" class="buybtn cantbuy">确认购买</span> <span ng-if="vm.odSubmitData.totalday>2" class="buybtn" ng-click="vm.odSubmit()">确认购买</span></div></div><div ng-if="vm.isshowtime"><timeplugin timedata="vm.pdInfo" isshowtime="vm.isshowtime"></timeplugin></div><div ng-if="vm.backshowtime"><timeplugin timedata="vm.pdInfo" isshowtime="vm.backshowtime"></timeplugin></div></div></div>'),t.put("app/order_jk/orderDetail/orderDetail.html",'<div class="order-detail"><div class="head-menu clearfix header"><span class="title">极库WIFI</span><go-back></go-back><div class="iconfont icon-shouye iconRight" ui-sref="home"></div></div><div class="wrap-order-detail-body"><div class="order-section"><div class="section-head clearfix"><div class="name" ng-bind="vm.mainproducts[0].product_name"></div><div class="the-value color-gold" ng-bind="vm.mainproducts[0].count+\'台\'"></div></div><div class="section-content clearfix"><div class="name">订单号</div><div class="the-value" ng-bind="vm.orderData.out_order_id"></div></div><div class="section-content clearfix"><div class="name">租金</div><div class="the-value" ng-bind="\'￥\'+ (vm.mainproducts[0].price/vm.orderData.days).toFixed(2)+\' X \'+vm.orderData.days+\'天\'+\' X \'+vm.sproducts[0].count+\'台\'"></div></div><div class="section-content clearfix"><div class="name">押金（返还设备后退回）</div><div class="the-value" ng-bind="\'￥\'+vm.sproducts[0].price+\' X \'+vm.sproducts[0].count+\'台\'"></div></div><div class="section-content clearfix"><div class="name">订单总额</div><div class="the-value color-gold" ng-bind="vm.orderData.total_amount | currency : \'￥\'"></div></div></div><div class="section-head clearfix"><div class="name">订单状态</div><div class="the-value color-gold" ng-bind="vm.orderData.order_status"></div></div><div class="order-section" ng-show="vm.orderData.delivery_type == 2"><div class="section-content clearfix"><div class="name">出境时间</div><div class="the-value color-gold" ng-bind="vm.orderData.ex1 | date:\'yyyy-MM-dd\'"></div></div><div class="section-content clearfix"><div class="name">回国时间</div><div class="the-value color-gold" ng-bind="vm.orderData.ex2 | date:\'yyyy-MM-dd\'"></div></div></div><div class="order-section" ng-show="vm.orderData.delivery_type == 1"><div class="section-head clearfix"><div class="name">自提信息</div></div><div class="section-content clearfix"><div class="name">取货人</div><div class="the-value" ng-bind="vm.orderData.receiver_name"></div></div><div class="section-content clearfix"><div class="name">手机</div><div class="the-value" ng-bind="vm.orderData.receiver_phone"></div></div><div class="section-content clearfix"><div class="name">自提网点</div><div class="the-value chang"><span class="celbox" ng-bind="vm.orderData.ex5"></span></div></div><div class="section-content clearfix"><div class="name">出境时间</div><div class="the-value color-gold" ng-bind="vm.orderData.ex1 | date:\'yyyy-MM-dd\'"></div></div><div class="section-content clearfix"><div class="name">回国时间</div><div class="the-value color-gold" ng-bind="vm.orderData.ex2 | date:\'yyyy-MM-dd\'"></div></div></div><div class="order-section" ng-show="vm.orderData.delivery_type == 0"><div class="section-head clearfix"><div class="name">快递信息</div></div><div class="section-content clearfix" ng-if="vm.orderData.order_status != \'待发货\'" ui-sref="expressInfo({orderId:vm.orderData.order_id})"><div class="name">查看物流信息</div><div class="more"><span class="iconfont icon-youjiantou"></span></div></div><div class="section-content clearfix"><div class="name">收件人</div><div class="the-value" ng-bind="vm.orderData.receiver_name"></div></div><div class="section-content clearfix"><div class="name">手机</div><div class="the-value" ng-bind="vm.orderData.receiver_phone"></div></div><div class="section-content clearfix"><div class="name">出境时间</div><div class="the-value color-gold" ng-bind="vm.orderData.ex1 | date:\'yyyy-MM-dd\'"></div></div><div class="section-content clearfix"><div class="name">回国时间</div><div class="the-value color-gold" ng-bind="vm.orderData.ex2 | date:\'yyyy-MM-dd\'"></div></div></div><div class="order-section" ng-if="vm.orderData.weixin_refund_status"><div class="section-head clearfix"><div ng-if="vm.orderData.order_status == \'待发货\'">退款到账情况</div><div ng-if="vm.orderData.order_status != \'待发货\'" class="name">押金到账情况</div></div><div class="section-content clearfix"><div class="name">状态</div><div class="the-value" ng-if="vm.orderData.weixin_refund_status==\'SUCCESS\'">已到账</div><div class="the-value" ng-if="vm.orderData.weixin_refund_status==\'FALL\'">失败</div><div class="the-value" ng-if="vm.orderData.weixin_refund_status==\'PROCESSING\'">处理中</div><div class="the-value" ng-if="vm.orderData.weixin_refund_status==\'NOTSURE\'">处理中</div><div class="the-value" ng-if="vm.orderData.weixin_refund_status==\'CHANGE\'">处理中</div></div></div><div class="clearfix" ng-if="vm.orderData.weixin_refund_status!=\'SUCCESS\'"><button class="allpyfor" ng-if="vm.orderData.ex13 == 1 && vm.orderData.ex10 != 1" ng-click="vm.checkReturn()">申请退押金</button> <button class="allpyfor gray" ng-if="vm.orderData.ex13 != 1 && vm.orderData.ex10 != 1 && vm.orderData.order_status !== \'待付款\'">申请退押金</button> <button class="allpyfor" ng-show="vm.orderData.ex10 == 1 && vm.orderData.is_pay == 1" ng-click="vm.seeReturn(2)">退押金进度</button><button class="allpyfor" ng-click="vm.returnMoney()" ng-if="(vm.orderData.order_status == \'待发货\' && vm.orderData.ex11 != 1) || (vm.orderData.order_status == \'待归还\' && vm.orderData.ex11 != 1 && vm.orderData.ex12==1)">申请退款</button> <button class="allpyfor" ng-if="(vm.orderData.ex11 == 1&&(vm.orderData.order_status == \'待发货\'||vm.orderData.order_status == \'待归还\')) || (vm.orderData.ex11 == 0 && vm.orderData.ex19 != \'\' && vm.orderData.ex19 != \'工作人员处理中，请稍后...\' && vm.orderData.ex19 != null && (vm.orderData.order_status == \'待发货\'||vm.orderData.order_status == \'待归还\'))" ng-click="vm.seeReturn(1)">查看退款进度</button> <button type="button" class="allpyfor" ng-if="(vm.orderData.order_status == \'待归还\' || vm.orderData.order_status == \'待退押金中\')&&vm.orderData.ex8==0" ng-click="vm.launchAppeal()">申诉</button> <button type="button" class="allpyfor gray" ng-if="(vm.orderData.order_status == \'待归还\' || vm.orderData.order_status == \'待退押金中\')&&vm.orderData.ex8==1">已申诉</button></div><div class="gold-btn pay-btn" ng-show="vm.orderData.is_pay == 0&&vm.orderData.order_status==\'待付款\'" ng-click="vm.pay()">立即支付</div><div class="callmenow">客服电话：4000-815-858</div></div></div>'),
t.put("app/order_jk/orderList/orderList.html",'<div class="my-orders"><div class="head-menu clearfix header"><span class="title">极库WIFI</span><go-back></go-back><div class="iconfont icon-shouye iconRight" ui-sref="home"></div><div class="clear-both"></div></div><div class="wrap-order-list-body"><div class="area-menu" ng-if="vm.isAllOrder&&vm.firstShow"><div class="area" ng-class="{gold_border:vm.pageData.status == \'\'}" ng-click="vm.goStatusBtn(\'\')"><div class="all">全部</div><div class="" ng-bind="vm.allCount"></div></div><div class="area" ng-class="{gold_border:vm.pageData.status == \'待付款\'}" ng-click="vm.goStatusBtn(\'待付款\')"><div class="all">待付款</div><div class="" ng-bind="vm.waitPayCount"></div></div><div class="area" ng-class="{gold_border:vm.pageData.status == \'待发货\'}" ng-click="vm.goStatusBtn(\'待发货\')"><div class="all">待发货</div><div class="" ng-bind="vm.waitGoodCount"></div></div><div class="area" ng-class="{gold_border:vm.pageData.status == \'待归还\'}" ng-click="vm.goStatusBtn(\'待归还\')"><div class="all">待归还</div><div class="" ng-bind="vm.waitReturnCount"></div></div><div class="area" ng-class="{gold_border:vm.pageData.status == \'待退押金中\'}" ng-click="vm.goStatusBtn(\'待退押金中\')"><div class="all">待退押金</div><div class="" ng-bind="vm.depositCount"></div></div></div><div class="area-menu" ng-if="!vm.isAllOrder&&vm.firstShow"><div class="area" style="width: 50%;" ng-class="{gold_border:vm.isRefund == 1}" ng-click="vm.goStatusBtn(\'is_refund\')"><div class="all">退款</div><div class="" ng-bind="vm.refundCount"></div></div><div class="area" style="width: 50%;" ng-class="{gold_border:vm.isAppeal == 1}" ng-click="vm.goStatusBtn(\'is_appeal\')"><div class="all">申诉</div><div class="" ng-bind="vm.appealCount"></div></div></div><div order-list="" ng-repeat="boxdata in vm.pageData.list" scroll-bottom-bind="vm.loadMoreData()"></div><div class="nomoreorder" ng-if="!vm.nodata">数据加载中~</div><div class="nomoreorder" ng-if="vm.nodata">没有更多订单了额~</div></div></div>'),t.put("app/product_jk/productDetail/productDetail.html",'<div class="product_detail_box" ng-init="opentag=1"><div class="head-menu"><span class="title" ng-bind="productDetailData.title"></span><go-back></go-back><div class="iconfont icon-center iconRight" ui-sref="infoCenter"></div><div class="clear-both"></div></div><div class="top_tag_bar"><span class="tag" ng-class="{checkedtag:opentag==1}" ng-click="opentag=1">套餐详情</span> <span class="tag" ng-class="{checkedtag:opentag==2}" ng-click="opentag=2">参数规格</span> <span class="tag" ng-class="{checkedtag:opentag==3}" ng-click="opentag=3">预订须知</span> <span class="tag" ng-class="{checkedtag:opentag==4}" ng-click="opentag=4">使用说明</span></div><div ng-if="opentag==1" class="pd_contentbox" ng-bind-html="productDetailData.product_desc"></div><div ng-if="opentag==2" class="pd_contentbox" ng-bind-html="productDetailData.ex_content_1"></div><div ng-if="opentag==3" class="pd_contentbox" ng-bind-html="productDetailData.ex_content_2"></div><div ng-if="opentag==4" class="pd_contentbox" ng-bind-html="productDetailData.ex_content_3"></div><div class="bottombox"><div class="jia_btn likebtn" ng-click="addCollectFunc();productDetailData.collect_count=productDetailData.collect_count+1;" ng-if="!productDetailData.is_collect"><span class="iconfont icon-shangchengicon17"></span> <span class="text"><span class="num" ng-bind="productDetailData.collect_count"></span>人推荐</span></div><div class="jia_btn likebtn" ng-click="delCollectFunc();productDetailData.collect_count=productDetailData.collect_count-1;" ng-if="productDetailData.is_collect"><span class="iconfont icon-yiguanzhu big"></span> <span class="text"><span class="num" ng-bind="productDetailData.collect_count"></span>人推荐</span></div><div class="jia_btn jia_btn_act" ng-if="productDetailData.totalcount!=0" ui-sref="createOrder({pdID:productDetailData.product_id})">立即购买</div><div class="jia_btn jia_btn_act nonum" ng-if="productDetailData.totalcount==0">已售完</div></div></div>'),t.put("app/product_jk/productList2/productList2.html",'<div class="product-sort"><div class="head-menu"><span class="title">极库WIFI</span><go-back></go-back><div class="iconfont icon-center iconRight" ui-sref="infoCenter"></div><div class="clear-both"></div></div><cat-check-jk></cat-check-jk><div class="wrap-jiku-product-list"><sliderbox pic-size="640:300" slide-type="banner"></sliderbox><div class="product-list-jk" style="border-top: 1px solid #dedede;" ng-show="pdlist.show==0" scroll-bottom-bind="pdlist.loadMoreData()"><div pro-list2=""></div><div class="loadingTap"><span ng-show="pdlist.loadingTag">加载中~</span> <span ng-show="pdlist.loadingEndTag">没有更多了~</span></div></div></div></div>'),t.put("app/product_jk/productList3/productList3.html",'<div class="checklast"><div class="head-menu"><span class="title">推荐商品</span><go-back></go-back><div class="iconfont icon-center iconRight" ui-sref="infoCenter"></div><div class="clear-both"></div></div><product-slider-jk products-data="pdlist"></product-slider-jk></div>'),t.put("app/product_jk/productSlider/productSlider.html",'<div class="product_list3" ng-if="productsData.productListData.length>0"><div class="swiper-container swiper-container-h"><div class="swiper-wrapper"></div><div class="swiper-button-prev"></div><div class="swiper-button-next"></div></div><div class="tagsbox" ng-show="vm_ps.checkedPd.tags != \'\'"><div ng-repeat="(key, value) in vm_ps.checkedPd.tags track by $index" ng-bind="value" class="tag"></div></div><div class="btnbox"><div class="jia_btn" ui-sref="productDetail({id:vm_ps.checkedPd.product_id})">查看详情</div><div class="jia_btn jia_btn_act" ui-sref="createOrder({pdID:vm_ps.checkedPd.product_id})">立即购买</div></div><div class="swipebox" style="display:none;"><div swiper-effect="ff" class="swiper-slide swiper-slide-h" ng-repeat="pd in productsData.productListData"><div class="inbox"><img ng-src="{{pd.img_url}}" alt=""><p class="pdtitle" ng-bind="pd.title"></p><p class="pdtitle">无线移动热点wifi租赁</p><span class="price" ng-bind="pd.price | currency:\'￥\':\'2\'"></span></div></div></div></div><div class="product_list3_noproduct" ng-if="productsData.pageindex>1&&productsData.productListData.length==0"><div class="blutext">当前没有符合条件的商品<br>您可以直接进入商品列表或者重新选择wifi规格</div><div class="btnbox"><span class="jia_btn" ui-sref="checkProducts">重新选择</span> <span class="jia_btn jia_btn_act" ui-sref="productList">查看全部</span></div></div>')}]);